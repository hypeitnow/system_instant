LavaPack.loadBundle([[1423,{"./hdkey":1422,"./thirdparty":1424,bs58check:2080,buffer:2072,crypto:2181,"ethereumjs-util":2511,randombytes:5545,"scrypt-js":5739,"uuid/v4":1427},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(r,"__esModule",{value:!0});var s=e("crypto"),a=e("ethereumjs-util"),c=e("scrypt-js"),u=e("./hdkey");Object.defineProperty(r,"hdkey",{enumerable:!0,get:function(){return u.default}});var l=e("./thirdparty");Object.defineProperty(r,"thirdparty",{enumerable:!0,get:function(){return l.default}});var d=e("bs58check"),f=e("randombytes"),h=e("uuid/v4");function p(e,t,r){if(t.toLowerCase().startsWith("0x")&&(t=t.slice(2)),!t&&!r)return t;if(r%2)throw new Error("Invalid length argument, must be an even number");if("number"==typeof r&&t.length!==r)throw new Error("Invalid "+e+", string must be "+r+" hex characters");if(!/^([0-9a-f]{2})+$/i.test(t))throw new Error("Invalid "+e+", string must be "+("number"==typeof r?r:"empty or a non-zero even number of")+" hex characters");return t}function m(e,r,n){if(!t.isBuffer(r))throw new Error("Invalid "+e+", must be a string ("+("number"==typeof n?""+2*n:"empty or a non-zero even number of")+" hex characters) or buffer"+("number"==typeof n?" ("+n+" bytes)":""));if("number"==typeof n&&r.length!==n)throw new Error("Invalid "+e+", buffer must be "+n+" bytes");return r}var _=function(){function e(e,t){if(void 0===t&&(t=undefined),this.privateKey=e,this.publicKey=t,e&&t)throw new Error("Cannot supply both a private and a public key to the constructor");if(e&&!a.isValidPrivate(e))throw new Error("Private key does not satisfy the curve requirements (ie. it is invalid)");if(t&&!a.isValidPublic(t))throw new Error("Invalid public key")}return e.generate=function(t){if(void 0===t&&(t=!1),!t)return new e(f(32));for(var r=new a.BN("088f924eeceeda7fe92e1f5b0fffffffffffffff",16);;){var n=f(32);if(new a.BN(a.privateToAddress(n)).lte(r))return new e(n)}},e.generateVanityAddress=function(t){for(t instanceof RegExp||(t=new RegExp(t));;){var r=f(32),n=a.privateToAddress(r);if(t.test(n.toString("hex")))return new e(r)}},e.fromPublicKey=function(t,r){return void 0===r&&(r=!1),r&&(t=a.importPublic(t)),new e(undefined,t)},e.fromExtendedPublicKey=function(t){if("xpub"!==t.slice(0,4))throw new Error("Not an extended public key");var r=d.decode(t).slice(45);return e.fromPublicKey(r,!0)},e.fromPrivateKey=function(t){return new e(t)},e.fromExtendedPrivateKey=function(t){if("xprv"!==t.slice(0,4))throw new Error("Not an extended private key");var r=d.decode(t);if(0!==r[45])throw new Error("Invalid extended private key");return e.fromPrivateKey(r.slice(46))},e.fromV1=function(r,n){return i(this,void 0,void 0,(function(){var i,u,l,d,f;return o(this,(function(o){switch(o.label){case 0:if("1"!==(i="object"==typeof r?r:JSON.parse(r)).Version)throw new Error("Not a V1 Wallet");if("scrypt"!==i.Crypto.KeyHeader.Kdf)throw new Error("Unsupported key derivation scheme");return u=i.Crypto.KeyHeader.KdfParams,[4,c.scrypt(t.from(n),t.from(i.Crypto.Salt,"hex"),u.N,u.R,u.P,u.DkLen)];case 1:if(l=o.sent(),d=t.from(i.Crypto.CipherText,"hex"),a.keccak256(t.concat([l.slice(16,32),d])).toString("hex")!==i.Crypto.MAC)throw new Error("Key derivation failed - possibly wrong passphrase");return f=s.createDecipheriv("aes-128-cbc",a.keccak256(l.slice(0,16)).slice(0,16),t.from(i.Crypto.IV,"hex")),[2,new e(b(f,d))]}}))}))},e.fromV3=function(r,n,u){return void 0===u&&(u=!1),i(this,void 0,void 0,(function(){var i,l,d,f,h;return o(this,(function(o){switch(o.label){case 0:if(3!==(i="object"==typeof r?r:JSON.parse(u?r.toLowerCase():r)).version)throw new Error("Not a V3 wallet");return"scrypt"!==i.crypto.kdf?[3,2]:(d=i.crypto.kdfparams,[4,c.scrypt(t.from(n),t.from(d.salt,"hex"),d.n,d.r,d.p,d.dklen)]);case 1:return l=o.sent(),[3,3];case 2:if("pbkdf2"!==i.crypto.kdf)throw new Error("Unsupported key derivation scheme");if("hmac-sha256"!==(d=i.crypto.kdfparams).prf)throw new Error("Unsupported parameters to PBKDF2");l=s.pbkdf2Sync(t.from(n),t.from(d.salt,"hex"),d.c,d.dklen,"sha256"),o.label=3;case 3:if(f=t.from(i.crypto.ciphertext,"hex"),a.keccak256(t.concat([t.from(l.slice(16,32)),f])).toString("hex")!==i.crypto.mac)throw new Error("Key derivation failed - possibly wrong passphrase");return h=s.createDecipheriv(i.crypto.cipher,l.slice(0,16),t.from(i.crypto.cipherparams.iv,"hex")),[2,new e(b(h,f))]}}))}))},e.fromEthSale=function(r,n){var i="object"==typeof r?r:JSON.parse(r),o=t.from(i.encseed,"hex"),c=s.pbkdf2Sync(n,n,2e3,32,"sha256").slice(0,16),u=b(s.createDecipheriv("aes-128-cbc",c,o.slice(0,16)),o.slice(16)),l=new e(a.keccak256(u));if(l.getAddress().toString("hex")!==i.ethaddr)throw new Error("Decoded key mismatch - possibly wrong passphrase");return l},Object.defineProperty(e.prototype,"pubKey",{get:function(){return g(this.publicKey)||(this.publicKey=a.privateToPublic(this.privateKey)),this.publicKey},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"privKey",{get:function(){if(!g(this.privateKey))throw new Error("This is a public key only wallet");return this.privateKey},enumerable:!1,configurable:!0}),e.prototype.getPrivateKey=function(){return this.privKey},e.prototype.getPrivateKeyString=function(){return a.bufferToHex(this.privKey)},e.prototype.getPublicKey=function(){return this.pubKey},e.prototype.getPublicKeyString=function(){return a.bufferToHex(this.getPublicKey())},e.prototype.getAddress=function(){return a.publicToAddress(this.pubKey)},e.prototype.getAddressString=function(){return a.bufferToHex(this.getAddress())},e.prototype.getChecksumAddressString=function(){return a.toChecksumAddress(this.getAddressString())},e.prototype.toV3=function(e,r){return i(this,void 0,void 0,(function(){var i,u,l,d,_,y;return o(this,(function(o){switch(o.label){case 0:if(!g(this.privateKey))throw new Error("This is a public key only wallet");switch(w=r,v={cipher:"aes-128-ctr",kdf:"scrypt",salt:f(32),iv:f(16),uuid:f(16),dklen:32,c:262144,n:262144,r:8,p:1},i=w?("string"==typeof w.salt&&(w.salt=t.from(p("salt",w.salt),"hex")),"string"==typeof w.iv&&(w.iv=t.from(p("iv",w.iv,32),"hex")),"string"==typeof w.uuid&&(w.uuid=t.from(p("uuid",w.uuid,32),"hex")),w.salt&&m("salt",w.salt),w.iv&&m("iv",w.iv,16),w.uuid&&m("uuid",w.uuid,16),n(n({},v),w)):v,i.kdf){case"pbkdf2":return[3,1];case"scrypt":return[3,2]}return[3,4];case 1:return u=function(e){return{dklen:e.dklen,salt:e.salt,c:e.c,prf:"hmac-sha256"}}(i),l=s.pbkdf2Sync(t.from(e),u.salt,u.c,u.dklen,"sha256"),[3,5];case 2:return u=function(e){return{dklen:e.dklen,salt:e.salt,n:e.n,r:e.r,p:e.p}}(i),[4,c.scrypt(t.from(e),u.salt,u.n,u.r,u.p,u.dklen)];case 3:return l=o.sent(),[3,5];case 4:throw new Error("Unsupported kdf");case 5:if(!(d=s.createCipheriv(i.cipher,l.slice(0,16),i.iv)))throw new Error("Unsupported cipher");return _=b(d,this.privKey),y=a.keccak256(t.concat([t.from(l.slice(16,32)),t.from(_)])),[2,{version:3,id:h({random:i.uuid}),address:this.getAddress().toString("hex"),crypto:{ciphertext:_.toString("hex"),cipherparams:{iv:i.iv.toString("hex")},cipher:i.cipher,kdf:i.kdf,kdfparams:n(n({},u),{salt:u.salt.toString("hex")}),mac:y.toString("hex")}}]}var w,v}))}))},e.prototype.getV3Filename=function(e){return["UTC--",(e?new Date(e):new Date).toJSON().replace(/:/g,"-"),"--",this.getAddress().toString("hex")].join("")},e.prototype.toV3String=function(e,t){return i(this,void 0,void 0,(function(){var r,n;return o(this,(function(i){switch(i.label){case 0:return n=(r=JSON).stringify,[4,this.toV3(e,t)];case 1:return[2,n.apply(r,[i.sent()])]}}))}))},e}();function b(e,r){return t.concat([e.update(r),e.final()])}function g(e){return e!==undefined&&null!==e}r.default=_}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ethereumjs-wallet",file:"/home/circleci/project/node_modules/@metamask/snap-controllers/node_modules/ethereumjs-wallet/dist/index.js"}],[1355,{"../../constants":1362,"@metamask/metamask-eth-abis":1393},function(){with(this)return function(){"use strict";return function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.ERC20Standard=void 0;const i=e("@metamask/metamask-eth-abis"),o=e("../../constants");r.ERC20Standard=class{constructor(e){this.web3=e}getBalanceOf(e,t){return n(this,void 0,void 0,(function*(){const r=this.web3.eth.contract(i.abiERC20).at(e);return new Promise(((e,n)=>{r.balanceOf(t,((t,r)=>{t?n(t):e(r)}))}))}))}getTokenDecimals(e){return n(this,void 0,void 0,(function*(){const t=this.web3.eth.contract(i.abiERC20).at(e);return new Promise(((e,r)=>{t.decimals(((t,n)=>{t?r(t):e(n)}))}))}))}getTokenSymbol(e){return n(this,void 0,void 0,(function*(){const t=this.web3.eth.contract(i.abiERC20).at(e);return new Promise(((e,r)=>{t.symbol(((t,n)=>{t?r(t):e(n)}))}))}))}getDetails(e,t){return n(this,void 0,void 0,(function*(){const[r,n]=yield Promise.all([this.getTokenDecimals(e),this.getTokenSymbol(e)]);let i;return t&&(i=yield this.getBalanceOf(e,t)),{decimals:r,symbol:n,balance:i,standard:o.ERC20}}))}}}}},{package:"@metamask/controllers",file:"/home/circleci/project/node_modules/@metamask/snap-controllers/node_modules/@metamask/controllers/dist/assets/Standards/ERC20Standard.js"}],[1354,{"../../../../constants":1362,"@metamask/metamask-eth-abis":1393},function(){with(this)return function(){"use strict";return function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.ERC721Standard=void 0;const i=e("@metamask/metamask-eth-abis"),o=e("../../../../constants");r.ERC721Standard=class{constructor(e){this.contractSupportsMetadataInterface=e=>n(this,void 0,void 0,(function*(){return this.contractSupportsInterface(e,o.ERC721_METADATA_INTERFACE_ID)})),this.contractSupportsEnumerableInterface=e=>n(this,void 0,void 0,(function*(){return this.contractSupportsInterface(e,o.ERC721_ENUMERABLE_INTERFACE_ID)})),this.contractSupportsBase721Interface=e=>n(this,void 0,void 0,(function*(){return this.contractSupportsInterface(e,o.ERC721_INTERFACE_ID)})),this.getCollectibleTokenId=(e,t,r)=>n(this,void 0,void 0,(function*(){const n=this.web3.eth.contract(i.abiERC721).at(e);return new Promise(((e,i)=>{n.tokenOfOwnerByIndex(t,r,((t,r)=>{t?i(t):e(r)}))}))})),this.getTokenURI=(e,t)=>n(this,void 0,void 0,(function*(){const r=this.web3.eth.contract(i.abiERC721).at(e);if(!(yield this.contractSupportsMetadataInterface(e)))throw new Error("Contract does not support ERC721 metadata interface.");return new Promise(((e,n)=>{r.tokenURI(t,((t,r)=>{t?n(t):e(r)}))}))})),this.getAssetName=e=>n(this,void 0,void 0,(function*(){const t=this.web3.eth.contract(i.abiERC721).at(e);return new Promise(((e,r)=>{t.name(((t,n)=>{t?r(t):e(n)}))}))})),this.getAssetSymbol=e=>n(this,void 0,void 0,(function*(){const t=this.web3.eth.contract(i.abiERC721).at(e);return new Promise(((e,r)=>{t.symbol(((t,n)=>{t?r(t):e(n)}))}))})),this.contractSupportsInterface=(e,t)=>n(this,void 0,void 0,(function*(){const r=this.web3.eth.contract(i.abiERC721).at(e);return new Promise(((e,n)=>{r.supportsInterface(t,((t,r)=>{t?n(t):e(r)}))}))})),this.getDetails=(e,t)=>n(this,void 0,void 0,(function*(){const[r,n]=yield Promise.all([this.contractSupportsBase721Interface(e),this.contractSupportsMetadataInterface(e)]);let i,s,a;if(n&&([s,a]=yield Promise.all([this.getAssetSymbol(e),this.getAssetName(e)]),t&&(i=yield this.getTokenURI(e,t))),r)return{standard:o.ERC721,tokenURI:i,symbol:s,name:a};throw new Error("This isn't a valid ERC721 contract")})),this.web3=e}getOwnerOf(e,t){return n(this,void 0,void 0,(function*(){const r=this.web3.eth.contract(i.abiERC721).at(e);return new Promise(((e,n)=>{r.ownerOf(t,((t,r)=>{t?n(t):e(r)}))}))}))}}}}},{package:"@metamask/controllers",file:"/home/circleci/project/node_modules/@metamask/snap-controllers/node_modules/@metamask/controllers/dist/assets/Standards/CollectibleStandards/ERC721/ERC721Standard.js"}],[1353,{"../../../../constants":1362,"@metamask/metamask-eth-abis":1393},function(){with(this)return function(){"use strict";return function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.ERC1155Standard=void 0;const i=e("@metamask/metamask-eth-abis"),o=e("../../../../constants");r.ERC1155Standard=class{constructor(e){this.contractSupportsURIMetadataInterface=e=>n(this,void 0,void 0,(function*(){return this.contractSupportsInterface(e,o.ERC1155_METADATA_URI_INTERFACE_ID)})),this.contractSupportsTokenReceiverInterface=e=>n(this,void 0,void 0,(function*(){return this.contractSupportsInterface(e,o.ERC1155_TOKEN_RECEIVER_INTERFACE_ID)})),this.contractSupportsBase1155Interface=e=>n(this,void 0,void 0,(function*(){return this.contractSupportsInterface(e,o.ERC1155_INTERFACE_ID)})),this.getTokenURI=(e,t)=>n(this,void 0,void 0,(function*(){const r=this.web3.eth.contract(i.abiERC1155).at(e);return new Promise(((e,n)=>{r.uri(t,((t,r)=>{t?n(t):e(r)}))}))})),this.getBalanceOf=(e,t,r)=>n(this,void 0,void 0,(function*(){const n=this.web3.eth.contract(i.abiERC1155).at(e);return new Promise(((e,i)=>{n.balanceOf(t,r,((t,r)=>{t?i(t):e(r)}))}))})),this.transferSingle=(e,t,r,o,s)=>n(this,void 0,void 0,(function*(){const n=this.web3.eth.contract(i.abiERC1155).at(e);return new Promise(((i,a)=>{n.transferSingle(e,t,r,o,s,((e,t)=>{e?a(e):i(t)}))}))})),this.contractSupportsInterface=(e,t)=>n(this,void 0,void 0,(function*(){const r=this.web3.eth.contract(i.abiERC1155).at(e);return new Promise(((e,n)=>{r.supportsInterface(t,((t,r)=>{t?n(t):e(r)}))}))})),this.getDetails=(e,t)=>n(this,void 0,void 0,(function*(){const r=yield this.contractSupportsBase1155Interface(e);let n;if(t&&(n=yield this.getTokenURI(e,t)),r)return{standard:o.ERC1155,tokenURI:n};throw new Error("This isn't a valid ERC1155 contract")})),this.web3=e}}}}},{package:"@metamask/controllers",file:"/home/circleci/project/node_modules/@metamask/snap-controllers/node_modules/@metamask/controllers/dist/assets/Standards/CollectibleStandards/ERC1155/ERC1155Standard.js"}],[1420,{"./abi":1419,"./registry-map.json":1421,ethjs:1436},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("ethjs"),i=e("./registry-map.json"),o=e("./abi");t.exports=class{constructor(e={}){this.provider=e.provider||new n.HttpProvider("https://mainnet.infura.io/eth-contract-registry"),this.eth=new n(this.provider);const t=i[e.network||"1"];if(!t)throw new Error("No method registry found on the requested network.");this.registry=this.eth.contract(o).at(t)}async lookup(e){return(await this.registry.entries(e))[0]}parse(e){let t=e.match(/^.+(?=\()/);t=t?t[0].charAt(0).toUpperCase()+t[0].slice(1).split(/(?=[A-Z])/).join(" "):"";const r=e.match(/\(.+\)/);let n=[];return r&&(n=r[0].slice(1,-1).split(",").map((e=>({type:e})))),{name:t,args:n}}}}}},{package:"eth-method-registry",file:"/home/circleci/project/node_modules/@metamask/snap-controllers/node_modules/eth-method-registry/index.js"}],[1444,{_process:5411,"readable-stream":5691,util:2077,xtend:6162},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=e("readable-stream").Transform,i=e("util").inherits,o=e("xtend");function s(e){n.call(this,e),this._destroyed=!1}function a(e,t,r){r(null,e)}function c(e){return function(t,r,n){return"function"==typeof t&&(n=r,r=t,t={}),"function"!=typeof r&&(r=a),"function"!=typeof n&&(n=null),e(t,r,n)}}i(s,n),s.prototype.destroy=function(e){if(!this._destroyed){this._destroyed=!0;var t=this;r.nextTick((function(){e&&t.emit("error",e),t.emit("close")}))}},t.exports=c((function(e,t,r){var n=new s(e);return n._transform=t,r&&(n._flush=r),n})),t.exports.ctor=c((function(e,t,r){function n(t){if(!(this instanceof n))return new n(t);this.options=o(e,t),s.call(this,this.options)}return i(n,s),n.prototype._transform=t,r&&(n.prototype._flush=r),n})),t.exports.obj=c((function(e,t,r){var n=new s(o({objectMode:!0,highWaterMark:16},e));return n._transform=t,r&&(n._flush=r),n}))}).call(this)}).call(this,e("_process"))}}},{package:"through2",file:"/home/circleci/project/node_modules/@metamask/snap-controllers/node_modules/through2/through2.js"}],[5704,{"../../../errors":5695},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var s=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||l()},u=t._writableState&&t._writableState.finished,l=function(){a=!1,u=!0,s||o.call(t)},d=t._readableState&&t._readableState.endEmitted,f=function(){s=!1,d=!0,a||o.call(t)},h=function(e){o.call(t,e)},p=function(){var e;return s&&!d?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):a&&!u?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},m=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",c),t.on("close",c)):(t.on("complete",l),t.on("abort",p),t.req?m():t.on("request",m)),t.on("end",f),t.on("finish",l),!1!==r.error&&t.on("error",h),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",m),t.req&&t.req.removeListener("finish",l),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("end",f),t.removeListener("error",h),t.removeListener("close",p)}}}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/readable-web-to-node-stream/node_modules/readable-stream/lib/internal/streams/end-of-stream.js"}],[5706,{"../../../errors":5695,"./end-of-stream":5704},function(){with(this)return function(){"use strict";return function(e,t,r){var n;var i=e("../../../errors").codes,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(t,r,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;t.on("close",(function(){a=!0})),n===undefined&&(n=e("./end-of-stream")),n(t,{readable:r,writable:i},(function(e){if(e)return o(e);a=!0,o()}));var c=!1;return function(e){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void o(e||new s("pipe"))}}function u(e){e()}function l(e,t){return e.pipe(t)}function d(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}t.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=d(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var s=t.map((function(e,r){var o=r<t.length-1;return c(e,o,r>0,(function(e){n||(n=e),e&&s.forEach(u),o||(s.forEach(u),i(n))}))}));return t.reduce(l)}}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/readable-web-to-node-stream/node_modules/readable-stream/lib/internal/streams/pipeline.js"}],[5696,{"./_stream_readable":5698,"./_stream_writable":5700,_process:5411,inherits:4395},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};t.exports=u;var i=e("./_stream_readable"),o=e("./_stream_writable");e("inherits")(u,i);for(var s=n(o.prototype),a=0;a<s.length;a++){var c=s[a];u.prototype[c]||(u.prototype[c]=o.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||r.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==undefined&&this._writableState!==undefined&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){this._readableState!==undefined&&this._writableState!==undefined&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/readable-web-to-node-stream/node_modules/readable-stream/lib/_stream_duplex.js"}],[5700,{"../errors":5695,"./_stream_duplex":5696,"./internal/streams/destroy":5703,"./internal/streams/state":5707,"./internal/streams/stream":5708,_process:5411,buffer:2072,inherits:4395,"util-deprecate":6e3},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var i;t.exports=S,S.WritableState=k;var o={deprecate:e("util-deprecate")},s=e("./internal/streams/stream"),a=e("buffer").Buffer,c=global.Uint8Array||function(){};var u,l=e("./internal/streams/destroy"),d=e("./internal/streams/state").getHighWaterMark,f=e("../errors").codes,h=f.ERR_INVALID_ARG_TYPE,p=f.ERR_METHOD_NOT_IMPLEMENTED,m=f.ERR_MULTIPLE_CALLBACK,_=f.ERR_STREAM_CANNOT_PIPE,b=f.ERR_STREAM_DESTROYED,g=f.ERR_STREAM_NULL_VALUES,y=f.ERR_STREAM_WRITE_AFTER_END,w=f.ERR_UNKNOWN_ENCODING,v=l.errorOrDestroy;function E(){}function k(t,o,s){i=i||e("./_stream_duplex"),t=t||{},"boolean"!=typeof s&&(s=o instanceof i),this.objectMode=!!t.objectMode,s&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=d(this,t,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,o=n.writecb;if("function"!=typeof o)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,o){--t.pendingcb,n?(r.nextTick(o,i),r.nextTick(A,e,t),e._writableState.errorEmitted=!0,v(e,i)):(o(i),e._writableState.errorEmitted=!0,v(e,i),A(e,t))}(e,n,i,t,o);else{var s=j(n)||e.destroyed;s||n.corked||n.bufferProcessing||!n.bufferedRequest||x(e,n),i?r.nextTick(T,e,n,s,o):T(e,n,s,o)}}(o,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function S(t){var r=this instanceof(i=i||e("./_stream_duplex"));if(!r&&!u.call(S,this))return new S(t);this._writableState=new k(t,this,r),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),s.call(this)}function R(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new b("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function T(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),A(e,t)}function x(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,o=new Array(i),s=t.corkedRequestsFree;s.entry=r;for(var a=0,c=!0;r;)o[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;o.allBuffers=c,R(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,d=r.callback;if(R(e,t,!1,t.objectMode?1:u.length,u,l,d),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function j(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function I(e,t){e._final((function(r){t.pendingcb--,r&&v(e,r),t.prefinished=!0,e.emit("prefinish"),A(e,t)}))}function A(e,t){var n=j(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,r.nextTick(I,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return n}e("inherits")(S,s),k.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(k.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(e){return!!u.call(this,e)||this===S&&(e&&e._writableState instanceof k)}})):u=function(e){return e instanceof this},S.prototype.pipe=function(){v(this,new _)},S.prototype.write=function(e,t,n){var i,o=this._writableState,s=!1,u=!o.objectMode&&(i=e,a.isBuffer(i)||i instanceof c);return u&&!a.isBuffer(e)&&(e=function(e){return a.from(e)}(e)),"function"==typeof t&&(n=t,t=null),u?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof n&&(n=E),o.ending?function(e,t){var n=new y;v(e,n),r.nextTick(t,n)}(this,n):(u||function(e,t,n,i){var o;return null===n?o=new g:"string"==typeof n||t.objectMode||(o=new h("chunk",["string","Buffer"],n)),!o||(v(e,o),r.nextTick(i,o),!1)}(this,o,e,n))&&(o.pendingcb++,s=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=a.from(t,r));return t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var c=t.objectMode?1:n.length;t.length+=c;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else R(e,t,!1,c,n,i,o);return u}(this,o,u,e,t,n)),s},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||x(this,e))},S.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(e,t,r){r(new p("_write()"))},S.prototype._writev=null,S.prototype.end=function(e,t,n){var i=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&e!==undefined&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,n){t.ending=!0,A(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n),this},Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==undefined&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),S.prototype.destroy=l.destroy,S.prototype._undestroy=l.undestroy,S.prototype._destroy=function(e,t){t(e)}}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/readable-web-to-node-stream/node_modules/readable-stream/lib/_stream_writable.js"}],[5699,{"../errors":5695,"./_stream_duplex":5696,inherits:4395},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=l;var n=e("../errors").codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,c=e("./_stream_duplex");function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(t,r){f(e,t,r)}))}function f(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}e("inherits")(l,c),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new i("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/readable-web-to-node-stream/node_modules/readable-stream/lib/_stream_transform.js"}],[5697,{"./_stream_transform":5699,inherits:4395},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=i;var n=e("./_stream_transform");function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}e("inherits")(i,n),i.prototype._transform=function(e,t,r){r(null,e)}}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/readable-web-to-node-stream/node_modules/readable-stream/lib/_stream_passthrough.js"}],[5698,{"../errors":5695,"./_stream_duplex":5696,"./internal/streams/async_iterator":5701,"./internal/streams/buffer_list":5702,"./internal/streams/destroy":5703,"./internal/streams/from":5705,"./internal/streams/state":5707,"./internal/streams/stream":5708,_process:5411,buffer:2072,events:2073,inherits:4395,"string_decoder/":5889,util:2071},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n;t.exports=S,S.ReadableState=k;e("events").EventEmitter;var i=function(e,t){return e.listeners(t).length},o=e("./internal/streams/stream"),s=e("buffer").Buffer,a=global.Uint8Array||function(){};var c,u=e("util");c=u&&u.debuglog?u.debuglog("stream"):function(){};var l,d,f,h=e("./internal/streams/buffer_list"),p=e("./internal/streams/destroy"),m=e("./internal/streams/state").getHighWaterMark,_=e("../errors").codes,b=_.ERR_INVALID_ARG_TYPE,g=_.ERR_STREAM_PUSH_AFTER_EOF,y=_.ERR_METHOD_NOT_IMPLEMENTED,w=_.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(S,o);var v=p.errorOrDestroy,E=["error","close","destroy","pause","resume"];function k(t,r,i){n=n||e("./_stream_duplex"),t=t||{},"boolean"!=typeof i&&(i=r instanceof n),this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=m(this,t,"readableHighWaterMark",i),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(l||(l=e("string_decoder/").StringDecoder),this.decoder=new l(t.encoding),this.encoding=t.encoding)}function S(t){if(n=n||e("./_stream_duplex"),!(this instanceof S))return new S(t);var r=this instanceof n;this._readableState=new k(t,this,r),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),o.call(this)}function R(e,t,r,n,i){c("readableAddChunk",t);var o,u=e._readableState;if(null===t)u.reading=!1,function(e,t){if(c("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?I(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,A(e)))}(e,u);else if(i||(o=function(e,t){var r;n=t,s.isBuffer(n)||n instanceof a||"string"==typeof t||t===undefined||e.objectMode||(r=new b("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(u,t)),o)v(e,o);else if(u.objectMode||t&&t.length>0)if("string"==typeof t||u.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=function(e){return s.from(e)}(t)),n)u.endEmitted?v(e,new w):T(e,u,t,!0);else if(u.ended)v(e,new g);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!r?(t=u.decoder.write(t),u.objectMode||0!==t.length?T(e,u,t,!1):O(e,u)):T(e,u,t,!1)}else n||(u.reading=!1,O(e,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function T(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&I(e)),O(e,t)}Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==undefined&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),S.prototype.destroy=p.destroy,S.prototype._undestroy=p.undestroy,S.prototype._destroy=function(e,t){t(e)},S.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=s.from(e,t),t=""),r=!0),R(this,e,t,!1,r)},S.prototype.unshift=function(e){return R(this,e,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(t){l||(l=e("string_decoder/").StringDecoder);var r=new l(t);this._readableState.decoder=r,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=r.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var x=1073741824;function j(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=x?e=x:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function I(e){var t=e._readableState;c("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(A,e))}function A(e){var t=e._readableState;c("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,M(e)}function O(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(P,e,t))}function P(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(c("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function L(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function N(e){c("readable nexttick read 0"),e.read(0)}function D(e,t){c("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),M(e),t.flowing&&!t.reading&&e.read(0)}function M(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function C(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function B(e){var t=e._readableState;c("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(U,t,e))}function U(e,t){if(c("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function F(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}S.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?B(this):I(this),null;if(0===(e=j(e,t))&&t.ended)return 0===t.length&&B(this),null;var n,i=t.needReadable;return c("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",i=!0),t.ended||t.reading?c("reading or ended",i=!1):i&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=j(r,t))),null===(n=e>0?C(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&B(this)),null!==n&&this.emit("data",n),n},S.prototype._read=function(e){v(this,new y("_read()"))},S.prototype.pipe=function(e,t){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,c("pipe count=%d opts=%j",o.pipesCount,t);var s=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?u:_;function a(t,r){c("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,c("cleanup"),e.removeListener("close",p),e.removeListener("finish",m),e.removeListener("drain",l),e.removeListener("error",h),e.removeListener("unpipe",a),n.removeListener("end",u),n.removeListener("end",_),n.removeListener("data",f),d=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function u(){c("onend"),e.end()}o.endEmitted?r.nextTick(s):n.once("end",s),e.on("unpipe",a);var l=function(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,M(e))}}(n);e.on("drain",l);var d=!1;function f(t){c("ondata");var r=e.write(t);c("dest.write",r),!1===r&&((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==F(o.pipes,e))&&!d&&(c("false write response, pause",o.awaitDrain),o.awaitDrain++),n.pause())}function h(t){c("onerror",t),_(),e.removeListener("error",h),0===i(e,"error")&&v(e,t)}function p(){e.removeListener("finish",m),_()}function m(){c("onfinish"),e.removeListener("close",p),_()}function _(){c("unpipe"),n.unpipe(e)}return n.on("data",f),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",h),e.once("close",p),e.once("finish",m),e.emit("pipe",n),o.flowing||(c("pipe resume"),n.resume()),e},S.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=F(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},S.prototype.on=function(e,t){var n=o.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,c("on readable",i.length,i.reading),i.length?I(this):i.reading||r.nextTick(N,this))),n},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(e,t){var n=o.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(L,this),n},S.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&e!==undefined||r.nextTick(L,this),t},S.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(D,e,t))}(this,e)),e.paused=!1,this},S.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},S.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(c("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(c("wrapped data"),r.decoder&&(i=r.decoder.write(i)),!r.objectMode||null!==i&&i!==undefined)&&((r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause())))})),e)this[i]===undefined&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<E.length;o++)e.on(E[o],this.emit.bind(this,E[o]));return this._read=function(t){c("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(S.prototype[Symbol.asyncIterator]=function(){return d===undefined&&(d=e("./internal/streams/async_iterator")),d(this)}),Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(S.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(S.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),S._fromList=C,Object.defineProperty(S.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(S.from=function(t,r){return f===undefined&&(f=e("./internal/streams/from")),f(S,t,r)})}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/readable-web-to-node-stream/node_modules/readable-stream/lib/_stream_readable.js"}],[1413,{"../../../errors":1404},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var s=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||l()},u=t._writableState&&t._writableState.finished,l=function(){a=!1,u=!0,s||o.call(t)},d=t._readableState&&t._readableState.endEmitted,f=function(){s=!1,d=!0,a||o.call(t)},h=function(e){o.call(t,e)},p=function(){var e;return s&&!d?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):a&&!u?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},m=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",c),t.on("close",c)):(t.on("complete",l),t.on("abort",p),t.req?m():t.on("request",m)),t.on("end",f),t.on("finish",l),!1!==r.error&&t.on("error",h),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",m),t.req&&t.req.removeListener("finish",l),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("end",f),t.removeListener("error",h),t.removeListener("close",p)}}}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/@metamask/snap-controllers/node_modules/concat-stream/node_modules/readable-stream/lib/internal/streams/end-of-stream.js"}],[1415,{"../../../errors":1404,"./end-of-stream":1413},function(){with(this)return function(){"use strict";return function(e,t,r){var n;var i=e("../../../errors").codes,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(t,r,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;t.on("close",(function(){a=!0})),n===undefined&&(n=e("./end-of-stream")),n(t,{readable:r,writable:i},(function(e){if(e)return o(e);a=!0,o()}));var c=!1;return function(e){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void o(e||new s("pipe"))}}function u(e){e()}function l(e,t){return e.pipe(t)}function d(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}t.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=d(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var s=t.map((function(e,r){var o=r<t.length-1;return c(e,o,r>0,(function(e){n||(n=e),e&&s.forEach(u),o||(s.forEach(u),i(n))}))}));return t.reduce(l)}}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/@metamask/snap-controllers/node_modules/concat-stream/node_modules/readable-stream/lib/internal/streams/pipeline.js"}],[1405,{"./_stream_readable":1407,"./_stream_writable":1409,_process:5411,inherits:4395},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};t.exports=u;var i=e("./_stream_readable"),o=e("./_stream_writable");e("inherits")(u,i);for(var s=n(o.prototype),a=0;a<s.length;a++){var c=s[a];u.prototype[c]||(u.prototype[c]=o.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||r.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==undefined&&this._writableState!==undefined&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){this._readableState!==undefined&&this._writableState!==undefined&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/@metamask/snap-controllers/node_modules/concat-stream/node_modules/readable-stream/lib/_stream_duplex.js"}],[1409,{"../errors":1404,"./_stream_duplex":1405,"./internal/streams/destroy":1412,"./internal/streams/state":1416,"./internal/streams/stream":1417,_process:5411,buffer:2072,inherits:4395,"util-deprecate":6e3},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var i;t.exports=S,S.WritableState=k;var o={deprecate:e("util-deprecate")},s=e("./internal/streams/stream"),a=e("buffer").Buffer,c=global.Uint8Array||function(){};var u,l=e("./internal/streams/destroy"),d=e("./internal/streams/state").getHighWaterMark,f=e("../errors").codes,h=f.ERR_INVALID_ARG_TYPE,p=f.ERR_METHOD_NOT_IMPLEMENTED,m=f.ERR_MULTIPLE_CALLBACK,_=f.ERR_STREAM_CANNOT_PIPE,b=f.ERR_STREAM_DESTROYED,g=f.ERR_STREAM_NULL_VALUES,y=f.ERR_STREAM_WRITE_AFTER_END,w=f.ERR_UNKNOWN_ENCODING,v=l.errorOrDestroy;function E(){}function k(t,o,s){i=i||e("./_stream_duplex"),t=t||{},"boolean"!=typeof s&&(s=o instanceof i),this.objectMode=!!t.objectMode,s&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=d(this,t,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,o=n.writecb;if("function"!=typeof o)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,o){--t.pendingcb,n?(r.nextTick(o,i),r.nextTick(A,e,t),e._writableState.errorEmitted=!0,v(e,i)):(o(i),e._writableState.errorEmitted=!0,v(e,i),A(e,t))}(e,n,i,t,o);else{var s=j(n)||e.destroyed;s||n.corked||n.bufferProcessing||!n.bufferedRequest||x(e,n),i?r.nextTick(T,e,n,s,o):T(e,n,s,o)}}(o,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function S(t){var r=this instanceof(i=i||e("./_stream_duplex"));if(!r&&!u.call(S,this))return new S(t);this._writableState=new k(t,this,r),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),s.call(this)}function R(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new b("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function T(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),A(e,t)}function x(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,o=new Array(i),s=t.corkedRequestsFree;s.entry=r;for(var a=0,c=!0;r;)o[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;o.allBuffers=c,R(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,d=r.callback;if(R(e,t,!1,t.objectMode?1:u.length,u,l,d),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function j(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function I(e,t){e._final((function(r){t.pendingcb--,r&&v(e,r),t.prefinished=!0,e.emit("prefinish"),A(e,t)}))}function A(e,t){var n=j(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,r.nextTick(I,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return n}e("inherits")(S,s),k.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(k.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(e){return!!u.call(this,e)||this===S&&(e&&e._writableState instanceof k)}})):u=function(e){return e instanceof this},S.prototype.pipe=function(){v(this,new _)},S.prototype.write=function(e,t,n){var i,o=this._writableState,s=!1,u=!o.objectMode&&(i=e,a.isBuffer(i)||i instanceof c);return u&&!a.isBuffer(e)&&(e=function(e){return a.from(e)}(e)),"function"==typeof t&&(n=t,t=null),u?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof n&&(n=E),o.ending?function(e,t){var n=new y;v(e,n),r.nextTick(t,n)}(this,n):(u||function(e,t,n,i){var o;return null===n?o=new g:"string"==typeof n||t.objectMode||(o=new h("chunk",["string","Buffer"],n)),!o||(v(e,o),r.nextTick(i,o),!1)}(this,o,e,n))&&(o.pendingcb++,s=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=a.from(t,r));return t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var c=t.objectMode?1:n.length;t.length+=c;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else R(e,t,!1,c,n,i,o);return u}(this,o,u,e,t,n)),s},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||x(this,e))},S.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(e,t,r){r(new p("_write()"))},S.prototype._writev=null,S.prototype.end=function(e,t,n){var i=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&e!==undefined&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,n){t.ending=!0,A(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n),this},Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==undefined&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),S.prototype.destroy=l.destroy,S.prototype._undestroy=l.undestroy,S.prototype._destroy=function(e,t){t(e)}}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/@metamask/snap-controllers/node_modules/concat-stream/node_modules/readable-stream/lib/_stream_writable.js"}],[1408,{"../errors":1404,"./_stream_duplex":1405,inherits:4395},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=l;var n=e("../errors").codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,c=e("./_stream_duplex");function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(t,r){f(e,t,r)}))}function f(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}e("inherits")(l,c),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new i("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/@metamask/snap-controllers/node_modules/concat-stream/node_modules/readable-stream/lib/_stream_transform.js"}],[1406,{"./_stream_transform":1408,inherits:4395},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=i;var n=e("./_stream_transform");function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}e("inherits")(i,n),i.prototype._transform=function(e,t,r){r(null,e)}}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/@metamask/snap-controllers/node_modules/concat-stream/node_modules/readable-stream/lib/_stream_passthrough.js"}],[1407,{"../errors":1404,"./_stream_duplex":1405,"./internal/streams/async_iterator":1410,"./internal/streams/buffer_list":1411,"./internal/streams/destroy":1412,"./internal/streams/from":1414,"./internal/streams/state":1416,"./internal/streams/stream":1417,_process:5411,buffer:2072,events:2073,inherits:4395,"string_decoder/":5889,util:2071},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n;t.exports=S,S.ReadableState=k;e("events").EventEmitter;var i=function(e,t){return e.listeners(t).length},o=e("./internal/streams/stream"),s=e("buffer").Buffer,a=global.Uint8Array||function(){};var c,u=e("util");c=u&&u.debuglog?u.debuglog("stream"):function(){};var l,d,f,h=e("./internal/streams/buffer_list"),p=e("./internal/streams/destroy"),m=e("./internal/streams/state").getHighWaterMark,_=e("../errors").codes,b=_.ERR_INVALID_ARG_TYPE,g=_.ERR_STREAM_PUSH_AFTER_EOF,y=_.ERR_METHOD_NOT_IMPLEMENTED,w=_.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(S,o);var v=p.errorOrDestroy,E=["error","close","destroy","pause","resume"];function k(t,r,i){n=n||e("./_stream_duplex"),t=t||{},"boolean"!=typeof i&&(i=r instanceof n),this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=m(this,t,"readableHighWaterMark",i),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(l||(l=e("string_decoder/").StringDecoder),this.decoder=new l(t.encoding),this.encoding=t.encoding)}function S(t){if(n=n||e("./_stream_duplex"),!(this instanceof S))return new S(t);var r=this instanceof n;this._readableState=new k(t,this,r),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),o.call(this)}function R(e,t,r,n,i){c("readableAddChunk",t);var o,u=e._readableState;if(null===t)u.reading=!1,function(e,t){if(c("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?I(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,A(e)))}(e,u);else if(i||(o=function(e,t){var r;n=t,s.isBuffer(n)||n instanceof a||"string"==typeof t||t===undefined||e.objectMode||(r=new b("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(u,t)),o)v(e,o);else if(u.objectMode||t&&t.length>0)if("string"==typeof t||u.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=function(e){return s.from(e)}(t)),n)u.endEmitted?v(e,new w):T(e,u,t,!0);else if(u.ended)v(e,new g);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!r?(t=u.decoder.write(t),u.objectMode||0!==t.length?T(e,u,t,!1):O(e,u)):T(e,u,t,!1)}else n||(u.reading=!1,O(e,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function T(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&I(e)),O(e,t)}Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==undefined&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),S.prototype.destroy=p.destroy,S.prototype._undestroy=p.undestroy,S.prototype._destroy=function(e,t){t(e)},S.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=s.from(e,t),t=""),r=!0),R(this,e,t,!1,r)},S.prototype.unshift=function(e){return R(this,e,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(t){l||(l=e("string_decoder/").StringDecoder);var r=new l(t);this._readableState.decoder=r,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=r.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var x=1073741824;function j(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=x?e=x:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function I(e){var t=e._readableState;c("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(A,e))}function A(e){var t=e._readableState;c("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,M(e)}function O(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(P,e,t))}function P(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(c("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function L(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function N(e){c("readable nexttick read 0"),e.read(0)}function D(e,t){c("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),M(e),t.flowing&&!t.reading&&e.read(0)}function M(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function C(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function B(e){var t=e._readableState;c("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(U,t,e))}function U(e,t){if(c("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function F(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}S.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?B(this):I(this),null;if(0===(e=j(e,t))&&t.ended)return 0===t.length&&B(this),null;var n,i=t.needReadable;return c("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",i=!0),t.ended||t.reading?c("reading or ended",i=!1):i&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=j(r,t))),null===(n=e>0?C(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&B(this)),null!==n&&this.emit("data",n),n},S.prototype._read=function(e){v(this,new y("_read()"))},S.prototype.pipe=function(e,t){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,c("pipe count=%d opts=%j",o.pipesCount,t);var s=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?u:_;function a(t,r){c("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,c("cleanup"),e.removeListener("close",p),e.removeListener("finish",m),e.removeListener("drain",l),e.removeListener("error",h),e.removeListener("unpipe",a),n.removeListener("end",u),n.removeListener("end",_),n.removeListener("data",f),d=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function u(){c("onend"),e.end()}o.endEmitted?r.nextTick(s):n.once("end",s),e.on("unpipe",a);var l=function(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,M(e))}}(n);e.on("drain",l);var d=!1;function f(t){c("ondata");var r=e.write(t);c("dest.write",r),!1===r&&((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==F(o.pipes,e))&&!d&&(c("false write response, pause",o.awaitDrain),o.awaitDrain++),n.pause())}function h(t){c("onerror",t),_(),e.removeListener("error",h),0===i(e,"error")&&v(e,t)}function p(){e.removeListener("finish",m),_()}function m(){c("onfinish"),e.removeListener("close",p),_()}function _(){c("unpipe"),n.unpipe(e)}return n.on("data",f),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",h),e.once("close",p),e.once("finish",m),e.emit("pipe",n),o.flowing||(c("pipe resume"),n.resume()),e},S.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=F(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},S.prototype.on=function(e,t){var n=o.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,c("on readable",i.length,i.reading),i.length?I(this):i.reading||r.nextTick(N,this))),n},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(e,t){var n=o.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(L,this),n},S.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&e!==undefined||r.nextTick(L,this),t},S.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(D,e,t))}(this,e)),e.paused=!1,this},S.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},S.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(c("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(c("wrapped data"),r.decoder&&(i=r.decoder.write(i)),!r.objectMode||null!==i&&i!==undefined)&&((r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause())))})),e)this[i]===undefined&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<E.length;o++)e.on(E[o],this.emit.bind(this,E[o]));return this._read=function(t){c("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(S.prototype[Symbol.asyncIterator]=function(){return d===undefined&&(d=e("./internal/streams/async_iterator")),d(this)}),Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(S.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(S.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),S._fromList=C,Object.defineProperty(S.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(S.from=function(t,r){return f===undefined&&(f=e("./internal/streams/from")),f(S,t,r)})}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/@metamask/snap-controllers/node_modules/concat-stream/node_modules/readable-stream/lib/_stream_readable.js"}],[5904,{buffer:2072},function(){with(this)return function(){"use strict";return function(e,t,r){(function(e){(function(){var t=e.alloc,n="0".charCodeAt(0),i=e.from("ustar\0","binary"),o=e.from("00","binary"),s=e.from("ustar ","binary"),a=e.from(" \0","binary"),c=parseInt("7777",8),u=257,l=function(e,t,r,n){for(;r<n;r++)if(e[r]===t)return r;return n},d=function(e){for(var t=256,r=0;r<148;r++)t+=e[r];for(var n=156;n<512;n++)t+=e[n];return t},f=function(e,t){return(e=e.toString(8)).length>t?"7777777777777777777".slice(0,t)+" ":"0000000000000000000".slice(0,t-e.length)+e+" "};var h=function(e,t,r){if(128&(e=e.slice(t,t+r))[t=0])return function(e){var t;if(128===e[0])t=!0;else{if(255!==e[0])return null;t=!1}for(var r=[],n=e.length-1;n>0;n--){var i=e[n];t?r.push(i):r.push(255-i)}var o=0,s=r.length;for(n=0;n<s;n++)o+=r[n]*Math.pow(256,n);return t?o:-1*o}(e);for(;t<e.length&&32===e[t];)t++;for(var n=(i=l(e,32,t,e.length),o=e.length,s=e.length,"number"!=typeof i?s:(i=~~i)>=o?o:i>=0||(i+=o)>=0?i:0);t<n&&0===e[t];)t++;return n===t?0:parseInt(e.slice(t,n).toString(),8);var i,o,s},p=function(e,t,r,n){return e.slice(t,l(e,0,t,t+r)).toString(n)},m=function(t){var r=e.byteLength(t),n=Math.floor(Math.log(r)/Math.log(10))+1;return r+n>=Math.pow(10,n)&&n++,r+n+t};r.decodeLongPath=function(e,t){return p(e,0,e.length,t)},r.encodePax=function(t){var r="";t.name&&(r+=m(" path="+t.name+"\n")),t.linkname&&(r+=m(" linkpath="+t.linkname+"\n"));var n=t.pax;if(n)for(var i in n)r+=m(" "+i+"="+n[i]+"\n");return e.from(r)},r.decodePax=function(e){for(var t={};e.length;){for(var r=0;r<e.length&&32!==e[r];)r++;var n=parseInt(e.slice(0,r).toString(),10);if(!n)return t;var i=e.slice(r+1,n-1).toString(),o=i.indexOf("=");if(-1===o)return t;t[i.slice(0,o)]=i.slice(o+1),e=e.slice(n)}return t},r.encode=function(r){var s=t(512),a=r.name,l="";if(5===r.typeflag&&"/"!==a[a.length-1]&&(a+="/"),e.byteLength(a)!==a.length)return null;for(;e.byteLength(a)>100;){var h=a.indexOf("/");if(-1===h)return null;l+=l?"/"+a.slice(0,h):a.slice(0,h),a=a.slice(h+1)}return e.byteLength(a)>100||e.byteLength(l)>155||r.linkname&&e.byteLength(r.linkname)>100?null:(s.write(a),s.write(f(r.mode&c,6),100),s.write(f(r.uid,6),108),s.write(f(r.gid,6),116),s.write(f(r.size,11),124),s.write(f(r.mtime.getTime()/1e3|0,11),136),s[156]=n+function(e){switch(e){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0}(r.type),r.linkname&&s.write(r.linkname,157),i.copy(s,u),o.copy(s,263),r.uname&&s.write(r.uname,265),r.gname&&s.write(r.gname,297),s.write(f(r.devmajor||0,6),329),s.write(f(r.devminor||0,6),337),l&&s.write(l,345),s.write(f(d(s),6),148),s)},r.decode=function(e,t,r){var o=0===e[156]?0:e[156]-n,c=p(e,0,100,t),l=h(e,100,8),f=h(e,108,8),m=h(e,116,8),_=h(e,124,12),b=h(e,136,12),g=function(e){switch(e){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null}(o),y=0===e[157]?null:p(e,157,100,t),w=p(e,265,32),v=p(e,297,32),E=h(e,329,8),k=h(e,337,8),S=d(e);if(256===S)return null;if(S!==h(e,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(0===i.compare(e,u,263))e[345]&&(c=p(e,345,155,t)+"/"+c);else if(0===s.compare(e,u,263)&&0===a.compare(e,263,265));else if(!r)throw new Error("Invalid tar header: unknown format.");return 0===o&&c&&"/"===c[c.length-1]&&(o=5),{name:c,mode:l,uid:f,gid:m,size:_,mtime:new Date(1e3*b),type:g,linkname:y,uname:w,gname:v,devmajor:E,devminor:k}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"tar-stream",file:"/home/circleci/project/node_modules/tar-stream/headers.js"}],[5922,{"./lib/_stream_duplex.js":5909,"./lib/_stream_passthrough.js":5910,"./lib/_stream_readable.js":5911,"./lib/_stream_transform.js":5912,"./lib/_stream_writable.js":5913,"./lib/internal/streams/end-of-stream.js":5917,"./lib/internal/streams/pipeline.js":5919},function(){with(this)return function(){"use strict";return function(e,t,r){(r=t.exports=e("./lib/_stream_readable.js")).Stream=r,r.Readable=r,r.Writable=e("./lib/_stream_writable.js"),r.Duplex=e("./lib/_stream_duplex.js"),r.Transform=e("./lib/_stream_transform.js"),r.PassThrough=e("./lib/_stream_passthrough.js"),r.finished=e("./lib/internal/streams/end-of-stream.js"),r.pipeline=e("./lib/internal/streams/pipeline.js")}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/tar-stream/node_modules/readable-stream/readable-browser.js"}],[4294,{constants:2142},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=e("constants")}}},{package:"fs-constants",file:"/home/circleci/project/node_modules/fs-constants/browser.js"}],[5907,{"./BufferList":5906,inherits:4395,"readable-stream":5922},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("readable-stream").Duplex,i=e("inherits"),o=e("./BufferList");function s(e){if(!(this instanceof s))return new s(e);if("function"==typeof e){this._callback=e;const t=function(e){this._callback&&(this._callback(e),this._callback=null)}.bind(this);this.on("pipe",(function(e){e.on("error",t)})),this.on("unpipe",(function(e){e.removeListener("error",t)})),e=null}o._init.call(this,e),n.call(this)}i(s,n),Object.assign(s.prototype,o.prototype),s.prototype._new=function(e){return new s(e)},s.prototype._write=function(e,t,r){this._appendBuffer(e),"function"==typeof r&&r()},s.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)},s.prototype.end=function(e){n.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)},s.prototype._destroy=function(e,t){this._bufs.length=0,this.length=0,t(e)},s.prototype._isBufferList=function(e){return e instanceof s||e instanceof o||s.isBufferList(e)},s.isBufferList=o.isBufferList,t.exports=s,t.exports.BufferListStream=s,t.exports.BufferList=o}}},{package:"bl",file:"/home/circleci/project/node_modules/tar-stream/node_modules/bl/bl.js"}],[2082,{buffer:2072},function(){with(this)return function(){"use strict";return function(e,t,r){(function(e){(function(){var r=Object.prototype.toString,n="function"==typeof e.alloc&&"function"==typeof e.allocUnsafe&&"function"==typeof e.from;t.exports=function(t,i,o){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return s=t,"ArrayBuffer"===r.call(s).slice(8,-1)?function(t,r,i){r>>>=0;var o=t.byteLength-r;if(o<0)throw new RangeError("'offset' is out of bounds");if(i===undefined)i=o;else if((i>>>=0)>o)throw new RangeError("'length' is out of bounds");return n?e.from(t.slice(r,r+i)):new e(new Uint8Array(t.slice(r,r+i)))}(t,i,o):"string"==typeof t?function(t,r){if("string"==typeof r&&""!==r||(r="utf8"),!e.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');return n?e.from(t,r):new e(t,r)}(t,i):n?e.from(t):new e(t);var s}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"buffer-from",file:"/home/circleci/project/node_modules/buffer-from/index.js"}],[5399,{_process:5411,"readable-stream":5691,util:2077,xtend:6162},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=e("readable-stream").Transform,i=e("util").inherits,o=e("xtend");function s(e){n.call(this,e),this._destroyed=!1}function a(e,t,r){r(null,e)}function c(e){return function(t,r,n){return"function"==typeof t&&(n=r,r=t,t={}),"function"!=typeof r&&(r=a),"function"!=typeof n&&(n=null),e(t,r,n)}}i(s,n),s.prototype.destroy=function(e){if(!this._destroyed){this._destroyed=!0;var t=this;r.nextTick((function(){e&&t.emit("error",e),t.emit("close")}))}},t.exports=c((function(e,t,r){var n=new s(e);return n._transform=t,r&&(n._flush=r),n})),t.exports.ctor=c((function(e,t,r){function n(t){if(!(this instanceof n))return new n(t);this.options=o(e,t),s.call(this,this.options)}return i(n,s),n.prototype._transform=t,r&&(n.prototype._flush=r),n})),t.exports.obj=c((function(e,t,r){var n=new s(o({objectMode:!0,highWaterMark:16},e));return n._transform=t,r&&(n._flush=r),n}))}).call(this)}).call(this,e("_process"))}}},{package:"through2",file:"/home/circleci/project/node_modules/peek-stream/node_modules/through2/through2.js"}],[5398,{_process:5411,buffer:2072,"end-of-stream":2328,inherits:4395,"readable-stream":5691,"stream-shift":5887},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r,n){(function(){var i=e("readable-stream"),o=e("end-of-stream"),s=e("inherits"),a=e("stream-shift"),c=n.from&&n.from!==Uint8Array.from?n.from([0]):new n([0]),u=function(e,t){e._corked?e.once("uncork",t):t()},l=function(e,t){return function(r){r?function(e,t){e._autoDestroy&&e.destroy(t)}(e,"premature close"===r.message?null:r):t&&!e._ended&&e.end()}},d=function(e,t,r){if(!(this instanceof d))return new d(e,t,r);i.Duplex.call(this,r),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!r||!1!==r.autoDestroy,this._forwardDestroy=!r||!1!==r.destroy,this._forwardEnd=!r||!1!==r.end,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,e&&this.setWritable(e),t&&this.setReadable(t)};s(d,i.Duplex),d.obj=function(e,t,r){return r||(r={}),r.objectMode=!0,r.highWaterMark=16,new d(e,t,r)},d.prototype.cork=function(){1==++this._corked&&this.emit("cork")},d.prototype.uncork=function(){this._corked&&0==--this._corked&&this.emit("uncork")},d.prototype.setWritable=function(e){if(this._unwrite&&this._unwrite(),this.destroyed)e&&e.destroy&&e.destroy();else if(null!==e&&!1!==e){var t=this,n=o(e,{writable:!0,readable:!1},l(this,this._forwardEnd)),i=function(){var e=t._ondrain;t._ondrain=null,e&&e()};this._unwrite&&r.nextTick(i),this._writable=e,this._writable.on("drain",i),this._unwrite=function(){t._writable.removeListener("drain",i),n()},this.uncork()}else this.end()},d.prototype.setReadable=function(e){if(this._unread&&this._unread(),this.destroyed)e&&e.destroy&&e.destroy();else{if(null===e||!1===e)return this.push(null),void this.resume();var t,r=this,n=o(e,{writable:!1,readable:!0},l(this)),s=function(){r._forward()},a=function(){r.push(null)};this._drained=!0,this._readable=e,this._readable2=e._readableState?e:(t=e,new i.Readable({objectMode:!0,highWaterMark:16}).wrap(t)),this._readable2.on("readable",s),this._readable2.on("end",a),this._unread=function(){r._readable2.removeListener("readable",s),r._readable2.removeListener("end",a),n()},this._forward()}},d.prototype._read=function(){this._drained=!0,this._forward()},d.prototype._forward=function(){if(!this._forwarding&&this._readable2&&this._drained){var e;for(this._forwarding=!0;this._drained&&null!==(e=a(this._readable2));)this.destroyed||(this._drained=this.push(e));this._forwarding=!1}},d.prototype.destroy=function(e){if(!this.destroyed){this.destroyed=!0;var t=this;r.nextTick((function(){t._destroy(e)}))}},d.prototype._destroy=function(e){if(e){var t=this._ondrain;this._ondrain=null,t?t(e):this.emit("error",e)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},d.prototype._write=function(e,t,r){return this.destroyed?r():this._corked?u(this,this._write.bind(this,e,t,r)):e===c?this._finish(r):this._writable?void(!1===this._writable.write(e)?this._ondrain=r:r()):r()},d.prototype._finish=function(e){var t=this;this.emit("preend"),u(this,(function(){var r,n;r=t._forwardEnd&&t._writable,n=function(){!1===t._writableState.prefinished&&(t._writableState.prefinished=!0),t.emit("prefinish"),u(t,e)},r?r._writableState&&r._writableState.finished?n():r._writableState?r.end(n):(r.end(),n()):n()}))},d.prototype.end=function(e,t,r){return"function"==typeof e?this.end(null,null,e):"function"==typeof t?this.end(e,null,t):(this._ended=!0,e&&this.write(e),this._writableState.ending||this.write(c),i.Writable.prototype.end.call(this,r))},t.exports=d}).call(this)}).call(this,e("_process"),e("buffer").Buffer)}}},{package:"duplexify",file:"/home/circleci/project/node_modules/peek-stream/node_modules/duplexify/index.js"}],[4327,{_process:5411,buffer:2072,"end-of-stream":2328,inherits:4395,"readable-stream":5691,"stream-shift":5887},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r,n){(function(){var i=e("readable-stream"),o=e("end-of-stream"),s=e("inherits"),a=e("stream-shift"),c=n.from&&n.from!==Uint8Array.from?n.from([0]):new n([0]),u=function(e,t){e._corked?e.once("uncork",t):t()},l=function(e,t){return function(r){r?function(e,t){e._autoDestroy&&e.destroy(t)}(e,"premature close"===r.message?null:r):t&&!e._ended&&e.end()}},d=function(e,t,r){if(!(this instanceof d))return new d(e,t,r);i.Duplex.call(this,r),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!r||!1!==r.autoDestroy,this._forwardDestroy=!r||!1!==r.destroy,this._forwardEnd=!r||!1!==r.end,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,e&&this.setWritable(e),t&&this.setReadable(t)};s(d,i.Duplex),d.obj=function(e,t,r){return r||(r={}),r.objectMode=!0,r.highWaterMark=16,new d(e,t,r)},d.prototype.cork=function(){1==++this._corked&&this.emit("cork")},d.prototype.uncork=function(){this._corked&&0==--this._corked&&this.emit("uncork")},d.prototype.setWritable=function(e){if(this._unwrite&&this._unwrite(),this.destroyed)e&&e.destroy&&e.destroy();else if(null!==e&&!1!==e){var t=this,n=o(e,{writable:!0,readable:!1},l(this,this._forwardEnd)),i=function(){var e=t._ondrain;t._ondrain=null,e&&e()};this._unwrite&&r.nextTick(i),this._writable=e,this._writable.on("drain",i),this._unwrite=function(){t._writable.removeListener("drain",i),n()},this.uncork()}else this.end()},d.prototype.setReadable=function(e){if(this._unread&&this._unread(),this.destroyed)e&&e.destroy&&e.destroy();else{if(null===e||!1===e)return this.push(null),void this.resume();var t,r=this,n=o(e,{writable:!1,readable:!0},l(this)),s=function(){r._forward()},a=function(){r.push(null)};this._drained=!0,this._readable=e,this._readable2=e._readableState?e:(t=e,new i.Readable({objectMode:!0,highWaterMark:16}).wrap(t)),this._readable2.on("readable",s),this._readable2.on("end",a),this._unread=function(){r._readable2.removeListener("readable",s),r._readable2.removeListener("end",a),n()},this._forward()}},d.prototype._read=function(){this._drained=!0,this._forward()},d.prototype._forward=function(){if(!this._forwarding&&this._readable2&&this._drained){var e;for(this._forwarding=!0;this._drained&&null!==(e=a(this._readable2));)this.destroyed||(this._drained=this.push(e));this._forwarding=!1}},d.prototype.destroy=function(e){if(!this.destroyed){this.destroyed=!0;var t=this;r.nextTick((function(){t._destroy(e)}))}},d.prototype._destroy=function(e){if(e){var t=this._ondrain;this._ondrain=null,t?t(e):this.emit("error",e)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},d.prototype._write=function(e,t,r){return this.destroyed?r():this._corked?u(this,this._write.bind(this,e,t,r)):e===c?this._finish(r):this._writable?void(!1===this._writable.write(e)?this._ondrain=r:r()):r()},d.prototype._finish=function(e){var t=this;this.emit("preend"),u(this,(function(){var r,n;r=t._forwardEnd&&t._writable,n=function(){!1===t._writableState.prefinished&&(t._writableState.prefinished=!0),t.emit("prefinish"),u(t,e)},r?r._writableState&&r._writableState.finished?n():r._writableState?r.end(n):(r.end(),n()):n()}))},d.prototype.end=function(e,t,r){return"function"==typeof e?this.end(null,null,e):"function"==typeof t?this.end(e,null,t):(this._ended=!0,e&&this.write(e),this._writableState.ending||this.write(c),i.Writable.prototype.end.call(this,r))},t.exports=d}).call(this)}).call(this,e("_process"),e("buffer").Buffer)}}},{package:"duplexify",file:"/home/circleci/project/node_modules/gunzip-maybe/node_modules/duplexify/index.js"}],[4339,{"end-of-stream":2328,fs:2071,once:5298},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("once"),i=e("end-of-stream"),o=e("fs"),s=function(){},a=function(e){return"function"==typeof e},c=function(e,t,r,c){c=n(c);var u=!1;e.on("close",(function(){u=!0})),i(e,{readable:t,writable:r},(function(e){if(e)return c(e);u=!0,c()}));var l=!1;return function(t){if(!u&&!l)return l=!0,function(e){return!!o&&(e instanceof(o.ReadStream||s)||e instanceof(o.WriteStream||s))&&a(e.close)}(e)?e.close(s):function(e){return e.setHeader&&a(e.abort)}(e)?e.abort():a(e.destroy)?e.destroy():void c(t||new Error("stream was destroyed"))}},u=function(e){e()},l=function(e,t){return e.pipe(t)};t.exports=function(){var e,t=Array.prototype.slice.call(arguments),r=a(t[t.length-1]||s)&&t.pop()||s;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var n=t.map((function(i,o){var s=o<t.length-1;return c(i,s,o>0,(function(t){e||(e=t),t&&n.forEach(u),s||(n.forEach(u),r(e))}))}));return t.reduce(l)}}}},{package:"pump",file:"/home/circleci/project/node_modules/gunzip-maybe/node_modules/pump/index.js"}],[4325,{_process:5411,buffer:2072,"pako/lib/zlib/constants":4330,"pako/lib/zlib/deflate.js":4332,"pako/lib/zlib/inflate.js":4334,"pako/lib/zlib/messages":4336,"pako/lib/zlib/zstream":4338},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t,n){(function(){var i=e("pako/lib/zlib/messages"),o=e("pako/lib/zlib/zstream"),s=e("pako/lib/zlib/deflate.js"),a=e("pako/lib/zlib/inflate.js"),c=e("pako/lib/zlib/constants");for(var u in c)r[u]=c[u];function l(e){if(e<r.DEFLATE||e>r.UNZIP)throw new TypeError("Bad argument");this.mode=e,this.init_done=!1,this.write_in_progress=!1,this.pending_close=!1,this.windowBits=0,this.level=0,this.memLevel=0,this.strategy=0,this.dictionary=null}function d(e,t){for(var r=0;r<e.length;r++)this[t+r]=e[r]}r.NONE=0,r.DEFLATE=1,r.INFLATE=2,r.GZIP=3,r.GUNZIP=4,r.DEFLATERAW=5,r.INFLATERAW=6,r.UNZIP=7,l.prototype.init=function(e,t,n,i,c){switch(this.windowBits=e,this.level=t,this.memLevel=n,this.strategy=i,this.mode!==r.GZIP&&this.mode!==r.GUNZIP||(this.windowBits+=16),this.mode===r.UNZIP&&(this.windowBits+=32),this.mode!==r.DEFLATERAW&&this.mode!==r.INFLATERAW||(this.windowBits=-this.windowBits),this.strm=new o,this.mode){case r.DEFLATE:case r.GZIP:case r.DEFLATERAW:var u=s.deflateInit2(this.strm,this.level,r.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case r.INFLATE:case r.GUNZIP:case r.INFLATERAW:case r.UNZIP:u=a.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}u===r.Z_OK?(this.write_in_progress=!1,this.init_done=!0):this._error(u)},l.prototype.params=function(){throw new Error("deflateParams Not supported")},l.prototype._writeCheck=function(){if(!this.init_done)throw new Error("write before init");if(this.mode===r.NONE)throw new Error("already finalized");if(this.write_in_progress)throw new Error("write already in progress");if(this.pending_close)throw new Error("close is pending")},l.prototype.write=function(e,r,n,i,o,s,a){this._writeCheck(),this.write_in_progress=!0;var c=this;return t.nextTick((function(){c.write_in_progress=!1;var t=c._write(e,r,n,i,o,s,a);c.callback(t[0],t[1]),c.pending_close&&c.close()})),this},l.prototype.writeSync=function(e,t,r,n,i,o,s){return this._writeCheck(),this._write(e,t,r,n,i,o,s)},l.prototype._write=function(e,t,i,o,c,u,l){if(this.write_in_progress=!0,e!==r.Z_NO_FLUSH&&e!==r.Z_PARTIAL_FLUSH&&e!==r.Z_SYNC_FLUSH&&e!==r.Z_FULL_FLUSH&&e!==r.Z_FINISH&&e!==r.Z_BLOCK)throw new Error("Invalid flush value");null==t&&(t=new n(0),o=0,i=0),c._set?c.set=c._set:c.set=d;var f=this.strm;switch(f.avail_in=o,f.input=t,f.next_in=i,f.avail_out=l,f.output=c,f.next_out=u,this.mode){case r.DEFLATE:case r.GZIP:case r.DEFLATERAW:var h=s.deflate(f,e);break;case r.UNZIP:case r.INFLATE:case r.GUNZIP:case r.INFLATERAW:h=a.inflate(f,e);break;default:throw new Error("Unknown mode "+this.mode)}return h!==r.Z_STREAM_END&&h!==r.Z_OK&&this._error(h),this.write_in_progress=!1,[f.avail_in,f.avail_out]},l.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,this.mode===r.DEFLATE||this.mode===r.GZIP||this.mode===r.DEFLATERAW?s.deflateEnd(this.strm):a.inflateEnd(this.strm),this.mode=r.NONE)},l.prototype.reset=function(){switch(this.mode){case r.DEFLATE:case r.DEFLATERAW:var e=s.deflateReset(this.strm);break;case r.INFLATE:case r.INFLATERAW:e=a.inflateReset(this.strm)}e!==r.Z_OK&&this._error(e)},l.prototype._error=function(e){this.onerror(i[e]+": "+this.strm.msg,e),this.write_in_progress=!1,this.pending_close&&this.close()},r.Zlib=l}).call(this)}).call(this,e("_process"),e("buffer").Buffer)}}},{package:"browserify-zlib",file:"/home/circleci/project/node_modules/gunzip-maybe/node_modules/browserify-zlib/src/binding.js"}],[1184,{"readable-stream":5691},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Substream=void 0;const n=e("readable-stream");class i extends n.Duplex{constructor({parent:e,name:t}){super({objectMode:!0}),this._parent=e,this._name=t}_read(){return undefined}_write(e,t,r){this._parent.push({name:this._name,data:e}),r()}}r.Substream=i}}},{package:"@metamask/object-multiplex",file:"/home/circleci/project/node_modules/@metamask/object-multiplex/dist/Substream.js"}],[1194,{"readable-stream":1208},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.BasePostMessageStream=void 0;const n=e("readable-stream");function i(){return undefined}const o="ACK";class s extends n.Duplex{constructor(){super({objectMode:!0}),this._init=!1,this._haveSyn=!1}_handshake(){this._write("SYN",null,i),this.cork()}_onData(e){if(this._init)try{this.push(e)}catch(e){this.emit("error",e)}else"SYN"===e?(this._haveSyn=!0,this._write(o,null,i)):e===o&&(this._init=!0,this._haveSyn||this._write(o,null,i),this.uncork())}_read(){return undefined}_write(e,t,r){this._postMessage(e),r()}}r.BasePostMessageStream=s}}},{package:"@metamask/post-message-stream",file:"/home/circleci/project/node_modules/@metamask/post-message-stream/dist/BasePostMessageStream.js"}],[1198,{},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.DEDICATED_WORKER_NAME=void 0,r.DEDICATED_WORKER_NAME="dedicatedWorker"}}},{package:"@metamask/post-message-stream",file:"/home/circleci/project/node_modules/@metamask/post-message-stream/dist/enums.js"}],[1795,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}}}},{package:"axios",file:"/home/circleci/project/node_modules/axios/lib/helpers/isAbsoluteURL.js"}],[1793,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}}}},{package:"axios",file:"/home/circleci/project/node_modules/axios/lib/helpers/combineURLs.js"}],[2414,{buffer:2072},function(){with(this)return function(){"use strict";return function(e,t,r){(function(e){(function(){Object.defineProperty(r,"__esModule",{value:!0});var t=e.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),n=e.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);r.privateKeyExport=function(r,i,o){void 0===o&&(o=!0);var s=e.from(o?t:n);return r.copy(s,o?8:9),i.copy(s,o?181:214),s},r.privateKeyImport=function(e){var t=e.length,r=0;if(t<r+1||48!==e[r])return null;if(t<(r+=1)+1||!(128&e[r]))return null;var n=127&e[r];if(n<1||n>2)return null;if(t<(r+=1)+n)return null;var i=e[r+n-1]|(n>1?e[r+n-2]<<8:0);return t<(r+=n)+i||t<r+3||2!==e[r]||1!==e[r+1]||1!==e[r+2]||t<(r+=3)+2||4!==e[r]||e[r+1]>32||t<r+2+e[r+1]?null:e.slice(r+2,r+2+e[r+1])},r.signatureImportLax=function(t){var r=e.alloc(32,0),n=e.alloc(32,0),i=t.length,o=0;if(48!==t[o++])return null;var s=t[o++];if(128&s&&(o+=s-128)>i)return null;if(2!==t[o++])return null;var a=t[o++];if(128&a){if(o+(s=a-128)>i)return null;for(;s>0&&0===t[o];o+=1,s-=1);for(a=0;s>0;o+=1,s-=1)a=(a<<8)+t[o]}if(a>i-o)return null;var c=o;if(o+=a,2!==t[o++])return null;var u=t[o++];if(128&u){if(o+(s=u-128)>i)return null;for(;s>0&&0===t[o];o+=1,s-=1);for(u=0;s>0;o+=1,s-=1)u=(u<<8)+t[o]}if(u>i-o)return null;var l=o;for(o+=u;a>0&&0===t[c];a-=1,c+=1);if(a>32)return null;var d=t.slice(c,c+a);for(d.copy(r,32-d.length);u>0&&0===t[l];u-=1,l+=1);if(u>32)return null;var f=t.slice(l,l+u);return f.copy(n,32-f.length),{r:r,s:n}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ethereumjs-util",file:"/home/circleci/project/node_modules/eth-json-rpc-middleware/node_modules/ethereumjs-abi/node_modules/ethereumjs-util/dist/secp256k1v3-lib/der.js"}],[2415,{"bn.js":2028,buffer:2072,elliptic:2305},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0});var n=e("bn.js"),i=new(0,e("elliptic").ec)("secp256k1"),o=i.curve;r.privateKeyExport=function(e,t){void 0===t&&(t=!0);var r=new n(e);if(r.ucmp(o.n)>=0)throw new Error("couldn't export to DER format");var a=i.g.mul(r);return s(a.getX(),a.getY(),t)},r.privateKeyModInverse=function(e){var r=new n(e);if(r.ucmp(o.n)>=0||r.isZero())throw new Error("private key range is invalid");return r.invm(o.n).toArrayLike(t,"be",32)},r.signatureImport=function(e){var r=new n(e.r);r.ucmp(o.n)>=0&&(r=new n(0));var i=new n(e.s);return i.ucmp(o.n)>=0&&(i=new n(0)),t.concat([r.toArrayLike(t,"be",32),i.toArrayLike(t,"be",32)])},r.ecdhUnsafe=function(e,t,r){void 0===r&&(r=!0);var a=i.keyFromPublic(e),c=new n(t);if(c.ucmp(o.n)>=0||c.isZero())throw new Error("scalar was invalid (zero or overflow)");var u=a.pub.mul(c);return s(u.getX(),u.getY(),r)};var s=function(e,r,n){var i;return n?((i=t.alloc(33))[0]=r.isOdd()?3:2,e.toArrayLike(t,"be",32).copy(i,1)):((i=t.alloc(65))[0]=4,e.toArrayLike(t,"be",32).copy(i,1),r.toArrayLike(t,"be",32).copy(i,33)),i}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ethereumjs-util",file:"/home/circleci/project/node_modules/eth-json-rpc-middleware/node_modules/ethereumjs-abi/node_modules/ethereumjs-util/dist/secp256k1v3-lib/index.js"}],[4704,{},function(){with(this)return function(){"use strict";return function(e,t,r){const n=self.location?self.location.protocol+"//"+self.location.host:"",i=self.URL;t.exports={URLWithLegacySupport:class{constructor(e="",t=n){this.super=new i(e,t),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(e){this.super.hash=e}set host(e){this.super.host=e}set hostname(e){this.super.hostname=e}set href(e){this.super.href=e}set origin(e){this.super.origin=e}set password(e){this.super.password=e}set pathname(e){this.super.pathname=e}set port(e){this.super.port=e}set protocol(e){this.super.protocol=e}set search(e){this.super.search=e}set searchParams(e){this.super.searchParams=e}set username(e){this.super.username=e}createObjectURL(e){return this.super.createObjectURL(e)}revokeObjectURL(e){this.super.revokeObjectURL(e)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}},URLSearchParams:self.URLSearchParams,defaultBase:n,format:function(e){if("string"==typeof e){return new i(e).toString()}if(!(e instanceof i)){const t=e.username&&e.password?`${e.username}:${e.password}@`:"",r=e.auth?e.auth+"@":"",n=e.port?":"+e.port:"",i=e.protocol?e.protocol+"//":"",o=e.host||"",s=e.hostname||"",a=e.search||(e.query?"?"+e.query:""),c=e.hash||"",u=e.pathname||"";return`${i}${t||r}${o||s+n}${e.path||u+a}${c}`}}}}}},{package:"iso-url",file:"/home/circleci/project/node_modules/iso-url/src/url-browser.js"}],[4703,{"./url":4704},function(){with(this)return function(){"use strict";return function(e,t,r){const{URLWithLegacySupport:n,format:i}=e("./url");t.exports=(e,t={},r={},o)=>{let s,a=t.protocol?t.protocol.replace(":",""):"http";a=(r[a]||o||a)+":";try{s=new n(e)}catch(e){s={}}const c=Object.assign({},t,{protocol:a||s.protocol,host:t.host||s.host});return new n(e,i(c)).toString()}}}},{package:"iso-url",file:"/home/circleci/project/node_modules/iso-url/src/relative.js"}],[1297,{"bn.js":1286,buffer:2072,"js-sha3":1310,"number-to-bn":5289},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=e("bn.js"),i=e("number-to-bn"),o=e("js-sha3").keccak_256;function s(e){for(var t=e,r=t[0];t.length>0&&"0"===r.toString();)r=(t=t.slice(1))[0];return t}function a(e){var t=e.toString(16);return t.length%2&&(t="0"+t),s(new r(t,"hex"))}function c(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}function u(e,t){var n=e;if(!r.isBuffer(n)){if(!c(n)){var i=new Error(t?"[ethjs-abi] invalid "+t:"[ethjs-abi] invalid hex or buffer, must be a prefixed alphanumeric even length hex string");throw i.reason="[ethjs-abi] invalid hex string, hex must be prefixed and alphanumeric (e.g. 0x023..)",i.value=n,i}(n=n.substring(2)).length%2&&(n="0"+n),n=new r(n,"hex")}return n}function l(e,t){return{encode:function(n){var o=n;return"object"==typeof o&&o.toString&&(o.toTwos||o.dividedToIntegerBy)&&(o=o.toString(10).split(".")[0]),"string"!=typeof o&&"number"!=typeof o||(o=String(o).split(".")[0]),o=(o=i(o)).toTwos(8*e).maskn(8*e),t&&(o=o.fromTwos(8*e).toTwos(256)),o.toArrayLike(r,"be",32)},decode:function(r,i){var o=32-e,s=new n(r.slice(i+o,i+32));return s=t?s.fromTwos(8*e):s.maskn(8*e),{consumed:32,value:new n(s.toString(10))}}}}var d=l(32,!1),f={encode:function(e){return d.encode(e?1:0)},decode:function(e,t){var r=d.decode(e,t);return{consumed:r.consumed,value:!r.value.isZero()}}};function h(e){return{encode:function(e){var t=e;if(32===(t=u(t)).length)return t;var n=new r(32);return n.fill(0),t.copy(n),n},decode:function(t,r){if(0!==t.length&&t.length<r+32)throw new Error("[ethjs-abi] while decoding fixed bytes, invalid bytes data length: "+e);return{consumed:32,value:"0x"+t.slice(r,r+e).toString("hex")}}}}var p={encode:function(e){var t=e,n=new r(32);if(!c(t,20))throw new Error("[ethjs-abi] while encoding address, invalid address value, not alphanumeric 20 byte hex string");return t=u(t),n.fill(0),t.copy(n,12),n},decode:function(e,t){if(0===e.length)return{consumed:32,value:"0x"};if(0!==e.length&&e.length<t+32)throw new Error("[ethjs-abi] while decoding address data, invalid address data, invalid byte length "+e.length);return{consumed:32,value:"0x"+e.slice(t+12,t+32).toString("hex")}}};function m(e){var t=parseInt(32*Math.ceil(e.length/32)),n=new r(t-e.length);return n.fill(0),r.concat([d.encode(e.length),e,n])}function _(e,t){if(0!==e.length&&e.length<t+32)throw new Error("[ethjs-abi] while decoding dynamic bytes data, invalid bytes length: "+e.length+" should be less than "+(t+32));var r=d.decode(e,t).value;if(r=r.toNumber(),0!==e.length&&e.length<t+32+r)throw new Error("[ethjs-abi] while decoding dynamic bytes data, invalid bytes length: "+e.length+" should be less than "+(t+32+r));return{consumed:parseInt(32+32*Math.ceil(r/32),10),value:e.slice(t+32,t+32+r)}}var b={encode:function(e){return m(u(e))},decode:function(e,t){var r=_(e,t);return r.value="0x"+r.value.toString("hex"),r},dynamic:!0},g={encode:function(e){return m(new r(e,"utf8"))},decode:function(e,t){var r=_(e,t);return r.value=r.value.toString("utf8"),r},dynamic:!0};function y(e,t){return{encode:function(n){var i=new r(0),o=t;if(!Array.isArray(n))throw new Error("[ethjs-abi] while encoding array, invalid array data, not type Object (Array)");if(-1===o&&(o=n.length,i=d.encode(o)),o!==n.length)throw new Error("[ethjs-abi] while encoding array, size mismatch array length "+o+" does not equal "+n.length);return n.forEach((function(t){i=r.concat([i,e.encode(t)])})),i},decode:function(r,n){var i,o=t,s=n,a=0;-1===o&&(o=(i=d.decode(r,s)).value.toNumber(),a+=i.consumed,s+=i.consumed);for(var c=[],u=0;u<o;u++){var l=e.decode(r,s);a+=l.consumed,s+=l.consumed,c.push(l.value)}return{consumed:a,value:c}},dynamic:-1===t}}var w=new RegExp(/^((u?int|bytes)([0-9]*)|(address|bool|string)|(\[([0-9]*)\]))/);t.exports={BN:n,bnToBuffer:a,isHexString:c,hexOrBuffer:u,hexlify:function(e){return"number"==typeof e?"0x"+a(new n(e)).toString("hex"):e.mod||e.modulo?"0x"+a(e).toString("hex"):"0x"+u(e).toString("hex")},stripZeros:s,keccak256:o,getKeys:function(e,t,r){var n=[];if(!Array.isArray(e))throw new Error("[ethjs-abi] while getting keys, invalid params value "+JSON.stringify(e));for(var i=0;i<e.length;i++){var o=e[i][t];if(r&&!o)o="";else if("string"!=typeof o)throw new Error("[ethjs-abi] while getKeys found invalid ABI data structure, type value not string");n.push(o)}return n},numberToBN:i,coderNumber:l,uint256Coder:d,coderBoolean:f,coderFixedBytes:h,coderAddress:p,coderDynamicBytes:b,coderString:g,coderArray:y,paramTypePart:w,getParamCoder:function(e){for(var t=e,r=null,n="[ethjs-abi] while getting param coder (getParamCoder) type value "+JSON.stringify(t)+" is either invalid or unsupported by ethjs-abi.";t;){var i=t.match(w);if(!i)throw new Error(n);t=t.substring(i[0].length);var o=i[2]||i[4]||i[5];switch(o){case"int":case"uint":if(r)throw new Error(n);var s=parseInt(i[3]||256);if(0===s||s>256||s%8!=0)throw new Error("[ethjs-abi] while getting param coder for type "+t+", invalid "+o+"<N> width: "+t);r=l(s/8,"int"===o);break;case"bool":if(r)throw new Error(n);r=f;break;case"string":if(r)throw new Error(n);r=g;break;case"bytes":if(r)throw new Error(n);if(i[3]){var a=parseInt(i[3]);if(0===a||a>32)throw new Error("[ethjs-abi] while getting param coder for prefix bytes, invalid type "+t+", size "+a+" should be 0 or greater than 32");r=h(a)}else r=b;break;case"address":if(r)throw new Error(n);r=p;break;case"[]":if(!r||r.dynamic)throw new Error(n);r=y(r,-1);break;default:if(!r||r.dynamic)throw new Error(n);r=y(r,parseInt(i[6]))}}if(!r)throw new Error(n);return r}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ethjs-abi",file:"/home/circleci/project/node_modules/@metamask/smart-transactions-controller/node_modules/ethjs-abi/lib/utils/index.js"}],[1301,{"./utils/index.js":1302,buffer:2072},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=e("./utils/index.js"),i=n.uint256Coder,o=(n.coderBoolean,n.coderFixedBytes,n.coderAddress,n.coderDynamicBytes,n.coderString,n.coderArray,n.paramTypePart,n.getParamCoder);function s(){}function a(e,t){if(e.length!==t.length)throw new Error("[ethjs-abi] while encoding params, types/values mismatch, Your contract requires "+e.length+" types (arguments), and you passed in "+t.length);var n=[];function s(e){return parseInt(32*Math.ceil(e/32))}e.forEach((function(e,r){var i=o(e);n.push({dynamic:i.dynamic,value:i.encode(t[r])})}));var a=0,c=0;n.forEach((function(e){e.dynamic?(a+=32,c+=s(e.value.length)):a+=s(e.value.length)}));var u=0,l=a,d=new r(a+c);return n.forEach((function(e,t){e.dynamic?(i.encode(l).copy(d,u),u+=32,e.value.copy(d,l),l+=s(e.value.length)):(e.value.copy(d,u),u+=s(e.value.length))})),"0x"+d.toString("hex")}function c(e,t,r){var a=!(arguments.length>3&&arguments[3]!==undefined)||arguments[3];arguments.length<3&&(r=t,t=e,e=[]),r=n.hexOrBuffer(r);var c=new s,u=0;return t.forEach((function(t,n){var s=o(t);if(s.dynamic){var l=i.decode(r,u),d=s.decode(r,l.value.toNumber());u+=l.consumed}else{d=s.decode(r,u);u+=d.consumed}a&&(c[n]=d.value),e[n]&&(c[e[n]]=d.value)})),c}function u(e,t){var i=e.name+"("+n.getKeys(e.inputs,"type").join(",")+")";return""+("0x"+new r(n.keccak256(i),"hex").slice(0,4).toString("hex"))+a(n.getKeys(e.inputs,"type"),t).substring(2)}function l(e){var t=e.name+"("+n.getKeys(e.inputs,"type").join(",")+")";return"0x"+n.keccak256(t)}function d(e,t,i){var s=!(arguments.length>3&&arguments[3]!==undefined)||arguments[3],a=e.inputs.filter((function(e){return!e.indexed})),u=n.getKeys(a,"name",!0),l=n.getKeys(a,"type"),d=c(u,l,n.hexOrBuffer(t),s),f=e.anonymous?0:1;return e.inputs.filter((function(e){return e.indexed})).map((function(e,t){var n=new r(i[t+f].slice(2),"hex"),s=o(e.type);d[e.name]=s.decode(n,0).value})),d._eventName=e.name,d}function f(e,t){var r=!(arguments.length>2&&arguments[2]!==undefined)||arguments[2];if(e&&t.topics[0]===l(e))return d(e,t.data,t.topics,r)}t.exports={encodeParams:a,decodeParams:c,encodeMethod:u,decodeMethod:function(e,t){return c(n.getKeys(e.outputs,"name",!0),n.getKeys(e.outputs,"type"),n.hexOrBuffer(t))},encodeEvent:function(e,t){return u(e,t)},decodeEvent:d,decodeLogItem:f,logDecoder:function(e){var t=!(arguments.length>1&&arguments[1]!==undefined)||arguments[1],r={};return e.filter((function(e){return"event"===e.type})).map((function(e){r[l(e)]=e})),function(e){return e.map((function(e){return f(r[e.topics[0]],e,t)})).filter((function(e){return e}))}},eventSignature:l}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ethjs-abi",file:"/home/circleci/project/node_modules/@metamask/smart-transactions-controller/node_modules/ethjs-contract/node_modules/ethjs-abi/lib/index.js"}],[1298,{"./has-tx-object":1299,"babel-runtime/core-js/json/stringify":1807,"babel-runtime/core-js/object/assign":1808,"babel-runtime/helpers/asyncToGenerator":1816,"babel-runtime/regenerator":1933,"ethjs-abi":1301,"ethjs-filter":2557,"ethjs-util":2565,"js-sha3":1310,"promise-to-callback":5413},function(){with(this)return function(){"use strict";return function(e,t,r){var n=a(e("babel-runtime/regenerator")),i=a(e("babel-runtime/core-js/json/stringify")),o=a(e("babel-runtime/helpers/asyncToGenerator")),s=a(e("babel-runtime/core-js/object/assign"));function a(e){return e&&e.__esModule?e:{default:e}}var c=e("ethjs-abi"),u=e("ethjs-filter"),l=e("ethjs-util").getKeys,d=e("js-sha3").keccak_256,f=e("./has-tx-object"),h=e("promise-to-callback");function p(e){return e.filter((function(e){return("function"===e.type||"event"===e.type)&&e.name.length>0}))}t.exports=function(){var e=(a=(0,o.default)(n.default.mark((function e(t){var o,a,u,l,d,h=t.methodObject,p=t.methodArgs;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="call",a={},f(p)&&(a=p.pop()),(u=(0,s.default)({},r.defaultTxObject,a,{to:r.address})).data=c.encodeMethod(h,p),!1===h.constant&&(o="sendTransaction"),e.next=8,r.query[o](u);case 8:if(l=e.sent,"call"!==o){e.next=19;break}return e.prev=10,d=c.decodeMethod(h,l),e.abrupt("return",d);case 15:throw e.prev=15,e.t0=e.catch(10),new Error("[ethjs-contract] while formatting incoming raw call data "+(0,i.default)(l)+" "+e.t0);case 19:return e.abrupt("return",l);case 20:case"end":return e.stop()}}),e,this,[[10,15]])}))),function(e){return a.apply(this,arguments)}),t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},r=this;var a;function m(e){return function(){var t=[].slice.call(arguments),n=l(e.inputs,"type",!1),i="0x"+d(e.name+"("+n.join(",")+")"),o=[i],a=(0,s.default)({},t[0])||{},u=(0,s.default)({},t[0]||{},{to:r.address,topics:o}),f=(0,s.default)({},a,{decoder:function(t){return c.decodeEvent(e,t,o)},defaultFilterObject:u});return new r.filters.Filter(f)}}function _(t){return function(){var r=void 0,n=[].slice.call(arguments);"function"==typeof n[n.length-1]&&(r=n.pop());var i=e({methodObject:t,methodArgs:n});return r?h(i)(r):i}}r.abi=t.contractABI||[],r.query=t.query,r.address=t.address||"0x",r.bytecode=t.contractBytecode||"0x",r.defaultTxObject=t.contractDefaultTxObject||{},r.filters=new u(r.query),p(r.abi).forEach((function(e){"function"===e.type?r[e.name]=_(e):"event"===e.type&&(r[e.name]=m(e))}))}}}},{package:"ethjs-contract",file:"/home/circleci/project/node_modules/@metamask/smart-transactions-controller/node_modules/ethjs-contract/lib/contract.js"}],[1299,{"babel-runtime/core-js/object/keys":1811},function(){with(this)return function(){"use strict";return function(e,t,r){var n,i=e("babel-runtime/core-js/object/keys"),o=(n=i)&&n.__esModule?n:{default:n};var s=["from","to","data","value","gasPrice","gas"];t.exports=function(e){if(!Array.isArray(e)||0===e.length)return!1;var t=e[e.length-1];if(!t)return!1;if("object"!=typeof t)return!1;if(0===(0,o.default)(t).length)return!0;var r=(0,o.default)(t);if(s.some((function(e){return r.includes(e)})))return!0;return!1}}}},{package:"ethjs-contract",file:"/home/circleci/project/node_modules/@metamask/smart-transactions-controller/node_modules/ethjs-contract/lib/has-tx-object.js"}],[4697,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=o,o.strict=s,o.loose=a;var n=Object.prototype.toString,i={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function o(e){return s(e)||a(e)}function s(e){return e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array}function a(e){return i[n.call(e)]}}}},{package:"is-typedarray",file:"/home/circleci/project/node_modules/is-typedarray/index.js"}],[4387,{},function(){with(this)return function(){"use strict";return function(e,t,r){var n=global.MutationObserver||global.WebKitMutationObserver;r.test=function(){return n},r.install=function(e){var t=0,r=new n(e),i=global.document.createTextNode("");return r.observe(i,{characterData:!0}),function(){i.data=t=++t%2}}}}},{package:"immediate",file:"/home/circleci/project/node_modules/immediate/lib/mutation.js"}],[4386,{},function(){with(this)return function(){"use strict";return function(e,t,r){r.test=function(){return!global.setImmediate&&void 0!==global.MessageChannel},r.install=function(e){var t=new global.MessageChannel;return t.port1.onmessage=e,function(){t.port2.postMessage(0)}}}}},{package:"immediate",file:"/home/circleci/project/node_modules/immediate/lib/messageChannel.js"}],[4389,{},function(){with(this)return function(){"use strict";return function(e,t,r){r.test=function(){return"document"in global&&"onreadystatechange"in global.document.createElement("script")},r.install=function(e){return function(){var t=global.document.createElement("script");return t.onreadystatechange=function(){e(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},global.document.documentElement.appendChild(t),e}}}}},{package:"immediate",file:"/home/circleci/project/node_modules/immediate/lib/stateChange.js"}],[4390,{},function(){with(this)return function(){"use strict";return function(e,t,r){r.test=function(){return!0},r.install=function(e){return function(){setTimeout(e,0)}}}}},{package:"immediate",file:"/home/circleci/project/node_modules/immediate/lib/timeout.js"}],[4388,{_process:5411},function(){with(this)return function(){"use strict";return function(e,t,r){(function(e){(function(){r.test=function(){return void 0!==e&&!e.browser},r.install=function(t){return function(){e.nextTick(t)}}}).call(this)}).call(this,e("_process"))}}},{package:"immediate",file:"/home/circleci/project/node_modules/immediate/lib/nextTick.js"}],[5334,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={COMPRESSED_TYPE_INVALID:"compressed should be a boolean",EC_PRIVATE_KEY_TYPE_INVALID:"private key should be a Buffer",EC_PRIVATE_KEY_LENGTH_INVALID:"private key length is invalid",EC_PRIVATE_KEY_RANGE_INVALID:"private key range is invalid",EC_PRIVATE_KEY_TWEAK_ADD_FAIL:"tweak out of range or resulting private key is invalid",EC_PRIVATE_KEY_TWEAK_MUL_FAIL:"tweak out of range",EC_PRIVATE_KEY_EXPORT_DER_FAIL:"couldn't export to DER format",EC_PRIVATE_KEY_IMPORT_DER_FAIL:"couldn't import from DER format",EC_PUBLIC_KEYS_TYPE_INVALID:"public keys should be an Array",EC_PUBLIC_KEYS_LENGTH_INVALID:"public keys Array should have at least 1 element",EC_PUBLIC_KEY_TYPE_INVALID:"public key should be a Buffer",EC_PUBLIC_KEY_LENGTH_INVALID:"public key length is invalid",EC_PUBLIC_KEY_PARSE_FAIL:"the public key could not be parsed or is invalid",EC_PUBLIC_KEY_CREATE_FAIL:"private was invalid, try again",EC_PUBLIC_KEY_TWEAK_ADD_FAIL:"tweak out of range or resulting public key is invalid",EC_PUBLIC_KEY_TWEAK_MUL_FAIL:"tweak out of range",EC_PUBLIC_KEY_COMBINE_FAIL:"the sum of the public keys is not valid",ECDH_FAIL:"scalar was invalid (zero or overflow)",ECDSA_SIGNATURE_TYPE_INVALID:"signature should be a Buffer",ECDSA_SIGNATURE_LENGTH_INVALID:"signature length is invalid",ECDSA_SIGNATURE_PARSE_FAIL:"couldn't parse signature",ECDSA_SIGNATURE_PARSE_DER_FAIL:"couldn't parse DER signature",ECDSA_SIGNATURE_SERIALIZE_DER_FAIL:"couldn't serialize signature to DER format",ECDSA_SIGN_FAIL:"nonce generation function failed or private key is invalid",ECDSA_RECOVER_FAIL:"couldn't recover public key from signature",MSG32_TYPE_INVALID:"message should be a Buffer",MSG32_LENGTH_INVALID:"message length is invalid",OPTIONS_TYPE_INVALID:"options should be an Object",OPTIONS_DATA_TYPE_INVALID:"options.data should be a Buffer",OPTIONS_DATA_LENGTH_INVALID:"options.data length is invalid",OPTIONS_NONCEFN_TYPE_INVALID:"options.noncefn should be a Function",RECOVERY_ID_TYPE_INVALID:"recovery should be a Number",RECOVERY_ID_VALUE_INVALID:"recovery should have value between -1 and 4",TWEAK_TYPE_INVALID:"tweak should be a Buffer",TWEAK_LENGTH_INVALID:"tweak length is invalid"}}}},{package:"secp256k1",file:"/home/circleci/project/node_modules/orbit-db-keystore/node_modules/secp256k1/lib/messages.json"}],[5330,{"../../../../is-buffer/index.js":4677},function(){with(this)return function(){"use strict";return function(e,t,r){(function(e){(function(){var t=Object.prototype.toString;r.isArray=function(e,t){if(!Array.isArray(e))throw TypeError(t)},r.isBoolean=function(e,r){if("[object Boolean]"!==t.call(e))throw TypeError(r)},r.isBuffer=function(t,r){if(!e.isBuffer(t))throw TypeError(r)},r.isFunction=function(e,r){if("[object Function]"!==t.call(e))throw TypeError(r)},r.isNumber=function(e,r){if("[object Number]"!==t.call(e))throw TypeError(r)},r.isObject=function(e,r){if("[object Object]"!==t.call(e))throw TypeError(r)},r.isBufferLength=function(e,t,r){if(e.length!==t)throw RangeError(r)},r.isBufferLength2=function(e,t,r,n){if(e.length!==t&&e.length!==r)throw RangeError(n)},r.isLengthGTZero=function(e,t){if(0===e.length)throw RangeError(t)},r.isNumberInInterval=function(e,t,r,n){if(e<=t||e>=r)throw RangeError(n)}}).call(this)}).call(this,{isBuffer:e("../../../../is-buffer/index.js")})}}},{package:"secp256k1",file:"/home/circleci/project/node_modules/orbit-db-keystore/node_modules/secp256k1/lib/assert.js"}],[5331,{bip66:1961,"safe-buffer":5730},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("safe-buffer").Buffer,i=e("bip66"),o=n.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),s=n.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);r.privateKeyExport=function(e,t,r){var i=n.from(r?o:s);return e.copy(i,r?8:9),t.copy(i,r?181:214),i},r.privateKeyImport=function(e){var t=e.length,r=0;if(!(t<r+1||48!==e[r])&&!(t<(r+=1)+1)&&128&e[r]){var n=127&e[r];if(r+=1,!(n<1||n>2||t<r+n)){var i=e[r+n-1]|(n>1?e[r+n-2]<<8:0);if(!(t<(r+=n)+i||t<r+3||2!==e[r]||1!==e[r+1]||1!==e[r+2]||t<(r+=3)+2||4!==e[r]||e[r+1]>32||t<r+2+e[r+1]))return e.slice(r+2,r+2+e[r+1])}}},r.signatureExport=function(e){for(var t=n.concat([n.from([0]),e.r]),r=33,o=0;r>1&&0===t[o]&&!(128&t[o+1]);--r,++o);for(var s=n.concat([n.from([0]),e.s]),a=33,c=0;a>1&&0===s[c]&&!(128&s[c+1]);--a,++c);return i.encode(t.slice(o),s.slice(c))},r.signatureImport=function(e){var t=n.alloc(32,0),r=n.alloc(32,0);try{var o=i.decode(e);if(33===o.r.length&&0===o.r[0]&&(o.r=o.r.slice(1)),o.r.length>32)throw new Error("R length is too long");if(33===o.s.length&&0===o.s[0]&&(o.s=o.s.slice(1)),o.s.length>32)throw new Error("S length is too long")}catch(e){return}return o.r.copy(t,32-o.r.length),o.s.copy(r,32-o.s.length),{r:t,s:r}},r.signatureImportLax=function(e){var t=n.alloc(32,0),r=n.alloc(32,0),i=e.length,o=0;if(48===e[o++]){var s=e[o++];if(!(128&s&&(o+=s-128)>i)&&2===e[o++]){var a=e[o++];if(128&a){if(o+(s=a-128)>i)return;for(;s>0&&0===e[o];o+=1,s-=1);for(a=0;s>0;o+=1,s-=1)a=(a<<8)+e[o]}if(!(a>i-o)){var c=o;if(o+=a,2===e[o++]){var u=e[o++];if(128&u){if(o+(s=u-128)>i)return;for(;s>0&&0===e[o];o+=1,s-=1);for(u=0;s>0;o+=1,s-=1)u=(u<<8)+e[o]}if(!(u>i-o)){var l=o;for(o+=u;a>0&&0===e[c];a-=1,c+=1);if(!(a>32)){var d=e.slice(c,c+a);for(d.copy(t,32-d.length);u>0&&0===e[l];u-=1,l+=1);if(!(u>32)){var f=e.slice(l,l+u);return f.copy(r,32-f.length),{r:t,s:r}}}}}}}}}}}},{package:"secp256k1",file:"/home/circleci/project/node_modules/orbit-db-keystore/node_modules/secp256k1/lib/der.js"}],[2248,{"abstract-leveldown":1664,inherits:4395},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("abstract-leveldown").AbstractIterator;function i(e){n.call(this,e),this._options=e,this._iterator=null,this._operations=[]}e("inherits")(i,n),i.prototype.setDb=function(e){var t=this._iterator=e.iterator(this._options);this._operations.forEach((function(e){t[e.method].apply(t,e.args)}))},i.prototype._operation=function(e,t){if(this._iterator)return this._iterator[e].apply(this._iterator,t);this._operations.push({method:e,args:t})},"next end".split(" ").forEach((function(e){i.prototype["_"+e]=function(){this._operation(e,arguments)}})),i.prototype.seek=function(){this._operation("seek",arguments)},t.exports=i}}},{package:"deferred-leveldown",file:"/home/circleci/project/node_modules/deferred-leveldown/deferred-iterator.js"}],[2347,{"./custom":2346},function(){with(this)return function(){"use strict";return function(e,t,r){var n=t.exports.all=[{errno:-2,code:"ENOENT",description:"no such file or directory"},{errno:-1,code:"UNKNOWN",description:"unknown error"},{errno:0,code:"OK",description:"success"},{errno:1,code:"EOF",description:"end of file"},{errno:2,code:"EADDRINFO",description:"getaddrinfo error"},{errno:3,code:"EACCES",description:"permission denied"},{errno:4,code:"EAGAIN",description:"resource temporarily unavailable"},{errno:5,code:"EADDRINUSE",description:"address already in use"},{errno:6,code:"EADDRNOTAVAIL",description:"address not available"},{errno:7,code:"EAFNOSUPPORT",description:"address family not supported"},{errno:8,code:"EALREADY",description:"connection already in progress"},{errno:9,code:"EBADF",description:"bad file descriptor"},{errno:10,code:"EBUSY",description:"resource busy or locked"},{errno:11,code:"ECONNABORTED",description:"software caused connection abort"},{errno:12,code:"ECONNREFUSED",description:"connection refused"},{errno:13,code:"ECONNRESET",description:"connection reset by peer"},{errno:14,code:"EDESTADDRREQ",description:"destination address required"},{errno:15,code:"EFAULT",description:"bad address in system call argument"},{errno:16,code:"EHOSTUNREACH",description:"host is unreachable"},{errno:17,code:"EINTR",description:"interrupted system call"},{errno:18,code:"EINVAL",description:"invalid argument"},{errno:19,code:"EISCONN",description:"socket is already connected"},{errno:20,code:"EMFILE",description:"too many open files"},{errno:21,code:"EMSGSIZE",description:"message too long"},{errno:22,code:"ENETDOWN",description:"network is down"},{errno:23,code:"ENETUNREACH",description:"network is unreachable"},{errno:24,code:"ENFILE",description:"file table overflow"},{errno:25,code:"ENOBUFS",description:"no buffer space available"},{errno:26,code:"ENOMEM",description:"not enough memory"},{errno:27,code:"ENOTDIR",description:"not a directory"},{errno:28,code:"EISDIR",description:"illegal operation on a directory"},{errno:29,code:"ENONET",description:"machine is not on the network"},{errno:31,code:"ENOTCONN",description:"socket is not connected"},{errno:32,code:"ENOTSOCK",description:"socket operation on non-socket"},{errno:33,code:"ENOTSUP",description:"operation not supported on socket"},{errno:34,code:"ENOENT",description:"no such file or directory"},{errno:35,code:"ENOSYS",description:"function not implemented"},{errno:36,code:"EPIPE",description:"broken pipe"},{errno:37,code:"EPROTO",description:"protocol error"},{errno:38,code:"EPROTONOSUPPORT",description:"protocol not supported"},{errno:39,code:"EPROTOTYPE",description:"protocol wrong type for socket"},{errno:40,code:"ETIMEDOUT",description:"connection timed out"},{errno:41,code:"ECHARSET",description:"invalid Unicode character"},{errno:42,code:"EAIFAMNOSUPPORT",description:"address family for hostname not supported"},{errno:44,code:"EAISERVICE",description:"servname not supported for ai_socktype"},{errno:45,code:"EAISOCKTYPE",description:"ai_socktype not supported"},{errno:46,code:"ESHUTDOWN",description:"cannot send after transport endpoint shutdown"},{errno:47,code:"EEXIST",description:"file already exists"},{errno:48,code:"ESRCH",description:"no such process"},{errno:49,code:"ENAMETOOLONG",description:"name too long"},{errno:50,code:"EPERM",description:"operation not permitted"},{errno:51,code:"ELOOP",description:"too many symbolic links encountered"},{errno:52,code:"EXDEV",description:"cross-device link not permitted"},{errno:53,code:"ENOTEMPTY",description:"directory not empty"},{errno:54,code:"ENOSPC",description:"no space left on device"},{errno:55,code:"EIO",description:"i/o error"},{errno:56,code:"EROFS",description:"read-only file system"},{errno:57,code:"ENODEV",description:"no such device"},{errno:58,code:"ESPIPE",description:"invalid seek"},{errno:59,code:"ECANCELED",description:"operation canceled"}];t.exports.errno={},t.exports.code={},n.forEach((function(e){t.exports.errno[e.errno]=e,t.exports.code[e.code]=e})),t.exports.custom=e("./custom")(t.exports),t.exports.create=t.exports.custom.createError}}},{package:"errno",file:"/home/circleci/project/node_modules/errno/errno.js"}],[4792,{"./lib/_stream_duplex.js":4779,"./lib/_stream_passthrough.js":4780,"./lib/_stream_readable.js":4781,"./lib/_stream_transform.js":4782,"./lib/_stream_writable.js":4783,"./lib/internal/streams/end-of-stream.js":4787,"./lib/internal/streams/pipeline.js":4789},function(){with(this)return function(){"use strict";return function(e,t,r){(r=t.exports=e("./lib/_stream_readable.js")).Stream=r,r.Readable=r,r.Writable=e("./lib/_stream_writable.js"),r.Duplex=e("./lib/_stream_duplex.js"),r.Transform=e("./lib/_stream_transform.js"),r.PassThrough=e("./lib/_stream_passthrough.js"),r.finished=e("./lib/internal/streams/end-of-stream.js"),r.pipeline=e("./lib/internal/streams/pipeline.js")}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/level-iterator-stream/node_modules/readable-stream/readable-browser.js"}],[1749,{"./DoublyLinkedList":1732,"./onlyOnce":1747,"./setImmediate":1751,"./wrapAsync":1754,"lodash/_baseIndexOf":5031,"lodash/isArray":5147,"lodash/noop":5166},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t,r){if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var l=(0,u.default)(e),d=0,f=[],h=!1;function p(e,t,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(b.started=!0,(0,i.default)(e)||(e=[e]),0===e.length&&b.idle())return(0,a.default)((function(){b.drain()}));for(var n=0,s=e.length;n<s;n++){var c={data:e[n],callback:r||o.default};t?b._tasks.unshift(c):b._tasks.push(c)}h||(h=!0,(0,a.default)((function(){h=!1,b.process()})))}function m(e){return function(t){d-=1;for(var r=0,i=e.length;r<i;r++){var o=e[r],s=(0,n.default)(f,o,0);0===s?f.shift():s>0&&f.splice(s,1),o.callback.apply(o,arguments),null!=t&&b.error(t,o.data)}d<=b.concurrency-b.buffer&&b.unsaturated(),b.idle()&&b.drain(),b.process()}}var _=!1,b={_tasks:new c.default,concurrency:t,payload:r,saturated:o.default,unsaturated:o.default,buffer:t/4,empty:o.default,drain:o.default,error:o.default,started:!1,paused:!1,push:function(e,t){p(e,!1,t)},kill:function(){b.drain=o.default,b._tasks.empty()},unshift:function(e,t){p(e,!0,t)},remove:function(e){b._tasks.remove(e)},process:function(){if(!_){for(_=!0;!b.paused&&d<b.concurrency&&b._tasks.length;){var e=[],t=[],r=b._tasks.length;b.payload&&(r=Math.min(r,b.payload));for(var n=0;n<r;n++){var i=b._tasks.shift();e.push(i),f.push(i),t.push(i.data)}d+=1,0===b._tasks.length&&b.empty(),d===b.concurrency&&b.saturated();var o=(0,s.default)(m(e));l(t,o)}_=!1}},length:function(){return b._tasks.length},running:function(){return d},workersList:function(){return f},idle:function(){return b._tasks.length+d===0},pause:function(){b.paused=!0},resume:function(){!1!==b.paused&&(b.paused=!1,(0,a.default)(b.process))}};return b};var n=l(e("lodash/_baseIndexOf")),i=l(e("lodash/isArray")),o=l(e("lodash/noop")),s=l(e("./onlyOnce")),a=l(e("./setImmediate")),c=l(e("./DoublyLinkedList")),u=l(e("./wrapAsync"));function l(e){return e&&e.__esModule?e:{default:e}}t.exports=r.default}}},{package:"async",file:"/home/circleci/project/node_modules/async/internal/queue.js"}],[2223,{"pull-stream":5468},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("pull-stream");t.exports=class{constructor(e,t){this.child=e,this.transform=t}open(e){this.child.open(e)}put(e,t,r){this.child.put(this.transform.convert(e),t,r)}get(e,t){this.child.get(this.transform.convert(e),t)}has(e,t){this.child.has(this.transform.convert(e),t)}delete(e,t){this.child.delete(this.transform.convert(e),t)}batch(){const e=this.child.batch();return{put:(t,r)=>{e.put(this.transform.convert(t),r)},delete:t=>{e.delete(this.transform.convert(t))},commit:t=>{e.commit(t)}}}query(e){return n(this.child.query(e),n.map((e=>(e.key=this.transform.invert(e.key),e))))}close(e){this.child.close(e)}}}}},{package:"datastore-core",file:"/home/circleci/project/node_modules/datastore-core/src/keytransform.js"}],[2225,{"./keytransform":2223,"interface-datastore":4402},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("interface-datastore").Key,i=e("./keytransform");t.exports=class extends i{constructor(e,t){super(e,{convert:e=>t.child(e),invert(e){if("/"===t.toString())return e;if(!t.isAncestorOf(e))throw new Error(`Expected prefix: (${t.toString()}) in key: ${e.toString()}`);return new n(e.toString().slice(t.toString().length),!1)}}),this.prefix=t}query(e){return e.prefix&&"/"!==this.prefix.toString()?super.query(Object.assign({},e,{prefix:this.prefix.child(new n(e.prefix)).toString()})):super.query(e)}}}}},{package:"datastore-core",file:"/home/circleci/project/node_modules/datastore-core/src/namespace.js"}],[2227,{"./shard-readme":2226,"interface-datastore":4402},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("interface-datastore").Key,i=e("./shard-readme"),o=r.PREFIX="/repo/flatfs/shard/",s=r.SHARDING_FN="SHARDING";r.README_FN="_README";class a{constructor(e){this.param=e}fun(e){throw new Error("implement me")}toString(){return`${o}v1/${this.name}/${this.param}`}}class c extends a{constructor(e){super(e),this._padding="".padStart(e,"_"),this.name="prefix"}fun(e){return(e+this._padding).slice(0,this.param)}}class u extends a{constructor(e){super(e),this._padding="".padStart(e,"_"),this.name="suffix"}fun(e){const t=this._padding+e;return t.slice(t.length-this.param)}}class l extends a{constructor(e){super(e),this._padding="".padStart(e+1,"_"),this.name="next-to-last"}fun(e){const t=this._padding+e,r=t.length-this.param-1;return t.slice(r,r+this.param)}}function d(e){if(0===(e=e.trim()).length)throw new Error("empty shard string");if(!e.startsWith(o))throw new Error(`invalid or no path prefix: ${e}`);const t=e.slice(o.length).split("/"),r=t[0];if("v1"!==r)throw new Error(`expect 'v1' version, got '${r}'`);const n=t[1];if(!t[2])throw new Error("missing param");const i=parseInt(t[2],10);switch(n){case"prefix":return new c(i);case"suffix":return new u(i);case"next-to-last":return new l(i);default:throw new Error(`unkown sharding function: ${n}`)}}r.readShardFun=(e,t,r)=>{const i=new n(e).child(new n(s));("function"==typeof t.getRaw?t.getRaw.bind(t):t.get.bind(t))(i,((e,t)=>{if(e)return r(e);let n;try{n=d((t||"").toString().trim())}catch(e){return r(e)}r(null,n)}))},r.readme=i,r.parseShardFun=d,r.Prefix=c,r.Suffix=u,r.NextToLast=l}}},{package:"datastore-core",file:"/home/circleci/project/node_modules/datastore-core/src/shard.js"}],[2228,{"./keytransform":2223,"./shard":2227,"async/parallel":1759,"async/waterfall":1770,buffer:2072,"interface-datastore":4402},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){const n=e("async/waterfall"),i=e("async/parallel"),o=e("interface-datastore").Key,s=e("./shard"),a=e("./keytransform"),c=new o(s.SHARDING_FN),u=new o(s.README_FN);class l{constructor(e,t){this.child=new a(e,{convert:this._convertKey.bind(this),invert:this._invertKey.bind(this)}),this.shard=t}open(e){this.child.open(e)}_convertKey(e){const t=e.toString();if(t===c.toString()||t===u.toString())return e;return new o(this.shard.fun(t)).child(e)}_invertKey(e){const t=e.toString();return t===c.toString()||t===u.toString()?e:o.withNamespaces(e.list().slice(1))}static createOrOpen(e,t,r){l.create(e,t,(t=>{if(t&&"datastore exists"!==t.message)return r(t);l.open(e,r)}))}static open(e,t){n([t=>s.readShardFun("/",e,t),(t,r)=>{r(null,new l(e,t))}],t)}static create(e,t,n){e.has(c,((o,a)=>{if(o)return n(o);if(!a){const o="function"==typeof e.putRaw?e.putRaw.bind(e):e.put.bind(e);return i([e=>o(c,r.from(t.toString()+"\n"),e),e=>o(u,r.from(s.readme),e)],(e=>n(e)))}s.readShardFun("/",e,((e,r)=>{if(e)return n(e);const i=(r||"").toString(),o=t.toString();if(i!==o)return n(new Error(`specified fun ${o} does not match repo shard fun ${i}`));n(new Error("datastore exists"))}))}))}put(e,t,r){this.child.put(e,t,r)}get(e,t){this.child.get(e,t)}has(e,t){this.child.has(e,t)}delete(e,t){this.child.delete(e,t)}batch(){return this.child.batch()}query(e){const t={keysOnly:e.keysOnly,offset:e.offset,limit:e.limit,filters:[(e,t)=>t(null,e.key.toString()!==c.toString()),(e,t)=>t(null,e.key.toString()!==u.toString())]};if(null!=e.prefix&&t.filters.push(((t,r)=>{r(null,this._invertKey(t.key).toString().startsWith(e.prefix))})),null!=e.filters){const r=e.filters.map((e=>(t,r)=>{e(Object.assign({},t,{key:this._invertKey(t.key)}),r)}));t.filters=t.filters.concat(r)}return null!=e.orders&&(t.orders=e.orders.map((e=>(t,r)=>{t.forEach((e=>{e.key=this._invertKey(e.key)})),e(t,((e,t)=>{if(e)return r(e);t.forEach((e=>{e.key=this._convertKey(e.key)})),r(null,t)}))}))),this.child.query(t)}close(e){this.child.close(e)}}t.exports=l}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"datastore-core",file:"/home/circleci/project/node_modules/datastore-core/src/sharding.js"}],[2224,{"./keytransform":2223,"async/each":1724,"interface-datastore":4402,"pull-many":5451,"pull-stream":5468},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("async/each"),i=e("pull-many"),o=e("pull-stream"),s=e("interface-datastore").Key,a=e("interface-datastore").Errors,c=e("interface-datastore").utils,u=c.asyncFilter,l=c.asyncSort,d=c.replaceStartWith,f=e("./keytransform");t.exports=class{constructor(e){this.mounts=e.slice()}open(e){n(this.mounts,((e,t)=>{e.datastore.open(t)}),e)}_lookup(e){for(let t of this.mounts)if(t.prefix.toString()===e.toString()||t.prefix.isAncestorOf(e)){const r=d(e.toString(),t.prefix.toString());return{datastore:t.datastore,mountpoint:t.prefix,rest:new s(r)}}}put(e,t,r){const n=this._lookup(e);if(null==n)return r(a.dbWriteFailedError(new Error("No datastore mounted for this key")));n.datastore.put(n.rest,t,r)}get(e,t){const r=this._lookup(e);if(null==r)return t(a.notFoundError(new Error("No datastore mounted for this key")));r.datastore.get(r.rest,t)}has(e,t){const r=this._lookup(e);null!=r?r.datastore.has(r.rest,t):t(null,!1)}delete(e,t){const r=this._lookup(e);if(null==r)return t(a.dbDeleteFailedError(new Error("No datastore mounted for this key")));r.datastore.delete(r.rest,t)}close(e){n(this.mounts,((e,t)=>{e.datastore.close(t)}),e)}batch(){const e={},t=t=>{const r=this._lookup(t);if(null==r)throw new Error("No datastore mounted for this key");const n=r.mountpoint.toString();return null==e[n]&&(e[n]=r.datastore.batch()),{batch:e[n],rest:r.rest}};return{put:(e,r)=>{const n=t(e);n.batch.put(n.rest,r)},delete:e=>{const r=t(e);r.batch.delete(r.rest)},commit:t=>{n(Object.keys(e),((t,r)=>{e[t].commit(r)}),t)}}}query(e){const t=this.mounts.map((t=>{const r=new f(t.datastore,{convert:e=>{throw new Error("should never be called")},invert:e=>t.prefix.child(e)});let n;return null!=e.prefix&&(n=d(e.prefix,t.prefix.toString())),r.query({prefix:n,filters:e.filters,keysOnly:e.keysOnly})}));let r=[i(t)];if(null!=e.filters&&(r=r.concat(e.filters.map((e=>u(e))))),null!=e.orders&&(r=r.concat(e.orders.map((e=>l(e))))),null!=e.offset){let t=0;r.push(o.filter((()=>t++>=e.offset)))}return null!=e.limit&&r.push(o.take(e.limit)),o.apply(null,r)}}}}},{package:"datastore-core",file:"/home/circleci/project/node_modules/datastore-core/src/mount.js"}],[2229,{"async/each":1724,"async/whilst":1771,"interface-datastore":4402},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("async/each"),i=e("async/whilst"),o=e("interface-datastore").Errors;t.exports=class{constructor(e){this.stores=e.slice()}open(e){n(this.stores,((e,t)=>{e.open(t)}),(t=>{if(t)return e(o.dbOpenFailedError());e()}))}put(e,t,r){n(this.stores,((r,n)=>{r.put(e,t,n)}),(e=>{if(e)return r(o.dbWriteFailedError());r()}))}get(e,t){const r=this.stores.length;let n=!1,s=0;i((()=>!n&&s<r),(t=>{this.stores[s++].get(e,((e,r)=>{if(null==e)return n=!0,t(null,r);t()}))}),((e,r)=>{if(e||!r)return t(o.notFoundError());t(null,r)}))}has(e,t){const r=this.stores.length;let n=!1,o=0;i((()=>!n&&o<r),(t=>{this.stores[o++].has(e,((e,r)=>{if(null==e)return n=!0,t(null,r);t()}))}),t)}delete(e,t){n(this.stores,((t,r)=>{t.delete(e,r)}),(e=>{if(e)return t(o.dbDeleteFailedError());t()}))}close(e){n(this.stores,((e,t)=>{e.close(t)}),e)}batch(){const e=this.stores.map((e=>e.batch()));return{put:(t,r)=>{e.forEach((e=>e.put(t,r)))},delete:t=>{e.forEach((e=>e.delete(t)))},commit:t=>{n(e,((e,t)=>{e.commit(t)}),t)}}}query(e){return this.stores[this.stores.length-1].query(e)}}}}},{package:"datastore-core",file:"/home/circleci/project/node_modules/datastore-core/src/tiered.js"}],[1750,{"./filter":1739},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t,r,n){(0,o.default)(e,t,(function(e,t){r(e,(function(e,r){t(e,!r)}))}),n)};var n,i=e("./filter"),o=(n=i)&&n.__esModule?n:{default:n};t.exports=r.default}}},{package:"async",file:"/home/circleci/project/node_modules/async/internal/reject.js"}],[2235,{"./iterator":2236,_process:5411,"abstract-leveldown":2233,buffer:2072,util:2077,xtend:6162},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r,n){(function(){t.exports=c;var i=e("abstract-leveldown").AbstractLevelDOWN,o=e("util"),s=e("./iterator"),a=e("xtend");function c(e){if(!(this instanceof c))return new c(e);i.call(this,e)}o.inherits(c,i),c.prototype._open=function(e,t){var r=this;if(this._idbOpts=a({storeName:this.location,keyEncoding:"none",valueEncoding:"none"},e),this._idbOpts.idb)i(this._idbOpts.idb);else{var n=indexedDB.open(this.location);n.onerror=function(e){t(e.target.error)},n.onsuccess=function(){i(n.result)}}function i(n){r._db=n;var i=r._db.objectStoreNames.contains(r._idbOpts.storeName);if(e.errorIfExists&&i)return r._db.close(),void t(new Error("store already exists"));if(!e.createIfMissing&&!i)return r._db.close(),void t(new Error("store does not exist"));if(e.createIfMissing&&!i){r._db.close();var o=indexedDB.open(r.location,r._db.version+1);return o.onerror=function(e){t(e.target.error)},o.onupgradeneeded=function(){o.result.createObjectStore(r._idbOpts.storeName,r._idbOpts)},void(o.onsuccess=function(){r._db=o.result,t(null,r)})}t(null,r)}},c.prototype._get=function(e,t,r){t=a(this._idbOpts,t);var i=e;"binary"!==t.keyEncoding||Array.isArray(e)||(e=Array.prototype.slice.call(e));var o=this._db.transaction(this._idbOpts.storeName),s=o.objectStore(this._idbOpts.storeName).openCursor(IDBKeyRange.only(e));o.onabort=function(){r(o.error)},s.onsuccess=function(){var e=s.result;if(e){var o=e.value;if(o instanceof Uint8Array&&(o=new n(o)),"binary"!==t.valueEncoding||n.isBuffer(o)||(o=new n(o)),t.asBuffer&&!n.isBuffer(o))if(null==o)o=new n(0);else if("string"==typeof o)o=new n(o);else if("boolean"==typeof o)o=new n(String(o));else if("number"==typeof o)o=new n(String(o));else if(Array.isArray(o))o=new n(String(o));else{if(!(o instanceof Uint8Array))return void r(new TypeError("can't coerce `"+o.constructor.name+"` into a Buffer"));o=new n(o)}r(null,o,i)}else r(new Error("NotFound"))}},c.prototype._del=function(e,t,r){"binary"!==(t=a(this._idbOpts,t)).keyEncoding||Array.isArray(e)||(e=Array.prototype.slice.call(e));var n="readwrite";!0===t.sync&&(n="readwriteflush");var i=this._db.transaction(this._idbOpts.storeName,n);i.objectStore(this._idbOpts.storeName).delete(e);i.onabort=function(){r(i.error)},i.oncomplete=function(){r()}},c.prototype._put=function(e,t,r,n){"binary"!==(r=a(this._idbOpts,r)).keyEncoding||Array.isArray(e)||(e=Array.prototype.slice.call(e));var i="readwrite";!0===r.sync&&(i="readwriteflush");var o=this._db.transaction(this._idbOpts.storeName,i);o.objectStore(this._idbOpts.storeName).put(t,e);o.onabort=function(){n(o.error)},o.oncomplete=function(){n()}},c.prototype._iterator=function(e){return new s(this,e)},c.prototype._batch=function(e,t,n){if(0===e.length)return r.nextTick(n);var i="readwrite";!0===t.sync&&(i="readwriteflush");var o=this._db.transaction(this._idbOpts.storeName,i),s=o.objectStore(this._idbOpts.storeName);o.onabort=function(){n(o.error)},o.oncomplete=function(){n()},e.forEach((function(e){"binary"!==a(t,e).keyEncoding||Array.isArray(e.key)||(e.key=Array.prototype.slice.call(e.key)),"del"===e.type?s.delete(e.key):s.put(e.value,e.key)}))},c.prototype._close=function(e){this._db.close(),r.nextTick(e)},c.prototype._approximateSize=function(e,t,n){var i=new Error("Not implemented");if(!n)throw i;r.nextTick((function(){n(i)}))},c.destroy=function(e,t){var r;if(null!=e&&"object"==typeof e)r=a({location:e.location,storeName:e.location},e._idbOpts);else{if("string"!=typeof e)throw new TypeError("location must be a string or an object");r={location:e,storeName:e}}if("string"!=typeof r.location)throw new TypeError("location must be a string");if("string"!=typeof r.storeName)throw new TypeError("db.storeName must be a string");var n=indexedDB.open(r.location);n.onerror=function(e){t(e.target.error)},n.onsuccess=function(){var e=n.result;function i(e){var r=indexedDB.deleteDatabase(e);r.onerror=function(e){t(e.target.error)},r.onsuccess=function(){t()}}if(e.close(),0!==e.objectStoreNames.length)if(e.objectStoreNames.contains(r.storeName)){var o=indexedDB.open(r.location,e.version+1);o.onerror=function(e){t(e.target.error)},o.onupgradeneeded=function(){(e=o.result).deleteObjectStore(r.storeName)},o.onsuccess=function(){(e=o.result).close(),0===e.objectStoreNames.length?i(r.location):t()}}else t();else i(r.location)}}}).call(this)}).call(this,e("_process"),e("buffer").Buffer)}}},{package:"level-js",file:"/home/circleci/project/node_modules/datastore-level/node_modules/level-js/index.js"}],[2321,{"abstract-leveldown":2325,inherits:4395,"level-codec":4774,"level-errors":4776},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("abstract-leveldown").AbstractLevelDOWN,i=e("abstract-leveldown").AbstractChainedBatch,o=e("abstract-leveldown").AbstractIterator,s=e("inherits"),a=e("level-codec"),c=e("level-errors").EncodingError;function u(e,t){if(!(this instanceof u))return new u(e,t);n.call(this,""),void 0===(t=t||{}).keyEncoding&&(t.keyEncoding="utf8"),void 0===t.valueEncoding&&(t.valueEncoding="utf8"),this.db=e,this.codec=new a(t)}function l(e,t){o.call(this,e),this.codec=e.codec,this.keys=t.keys,this.values=t.values,this.opts=this.codec.encodeLtgt(t),this.it=e.db.iterator(this.opts)}function d(e,t){i.call(this,e),this.codec=e.codec,this.batch=e.db.batch()}t.exports=u.default=u,s(u,n),u.prototype._serializeKey=u.prototype._serializeValue=function(e){return e},u.prototype._open=function(e,t){this.db.open(e,t)},u.prototype._close=function(e){this.db.close(e)},u.prototype._put=function(e,t,r,n){e=this.codec.encodeKey(e,r),t=this.codec.encodeValue(t,r),this.db.put(e,t,r,n)},u.prototype._get=function(e,t,r){var n=this;e=this.codec.encodeKey(e,t),t.asBuffer=this.codec.valueAsBuffer(t),this.db.get(e,t,(function(e,i){if(e)return r(e);try{i=n.codec.decodeValue(i,t)}catch(e){return r(new c(e))}r(null,i)}))},u.prototype._del=function(e,t,r){e=this.codec.encodeKey(e,t),this.db.del(e,t,r)},u.prototype._chainedBatch=function(){return new d(this)},u.prototype._batch=function(e,t,r){e=this.codec.encodeBatch(e,t),this.db.batch(e,t,r)},u.prototype._iterator=function(e){return e.keyAsBuffer=this.codec.keyAsBuffer(e),e.valueAsBuffer=this.codec.valueAsBuffer(e),new l(this,e)},u.prototype.approximateSize=function(e,t,r,n){return e=this.codec.encodeKey(e,r),t=this.codec.encodeKey(t,r),this.db.approximateSize(e,t,r,n)},s(l,o),l.prototype._next=function(e){var t=this;this.it.next((function(r,n,i){if(r)return e(r);try{n=t.keys&&void 0!==n?t.codec.decodeKey(n,t.opts):undefined,i=t.values&&void 0!==i?t.codec.decodeValue(i,t.opts):undefined}catch(r){return e(new c(r))}e(null,n,i)}))},l.prototype._seek=function(e){e=this.codec.encodeKey(e,this.opts),this.it.seek(e)},l.prototype._end=function(e){this.it.end(e)},s(d,i),d.prototype._put=function(e,t){e=this.codec.encodeKey(e),t=this.codec.encodeValue(t),this.batch.put(e,t)},d.prototype._del=function(e){e=this.codec.encodeKey(e),this.batch.del(e)},d.prototype._clear=function(){this.batch.clear()},d.prototype._write=function(e,t){this.batch.write(e,t)}}}},{package:"encoding-down",file:"/home/circleci/project/node_modules/encoding-down/index.js"}],[4823,{"./blake":4821,"./crypto-sha1-2":4822,"./utils":4825,buffer:2072,"js-sha3":4710,murmurhash3js:5245},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){const n=e("js-sha3"),i=e("murmurhash3js"),o=e("./utils"),s=e("./crypto-sha1-2"),a=o.toCallback,c=o.toBuf,u=o.fromString,l=o.fromNumberTo32BitBuf;t.exports={sha1:s.sha1,sha2256:s.sha2256,sha2512:s.sha2512,sha3512:a(c(n.sha3_512)),sha3384:a(c(n.sha3_384)),sha3256:a(c(n.sha3_256)),sha3224:a(c(n.sha3_224)),shake128:a(c(n.shake_128,128)),shake256:a(c(n.shake_256,256)),keccak224:a(c(n.keccak_224)),keccak256:a(c(n.keccak_256)),keccak384:a(c(n.keccak_384)),keccak512:a(c(n.keccak_512)),murmur3128:a(c(u(i.x64.hash128))),murmur332:a(l(u(i.x86.hash32))),addBlake:e("./blake"),dblSha2256:(e,t)=>{s.sha2256(e,((e,n)=>{e&&t(e),s.sha2256(r.from(n),t)}))}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multihashing-async",file:"/home/circleci/project/node_modules/libp2p-crypto/node_modules/multihashing-async/src/crypto.js"}],[4851,{"./../util":4855,"asn1.js":1676},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("asn1.js"),i=e("./../util"),o=i.toBase64,s=i.toBn,a=n.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())})),c=n.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid({"1.2.840.113549.1.1.1":"rsa"}),this.key("none").optional().null_(),this.key("curve").optional().objid(),this.key("params").optional().seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()))})),u=n.define("RSAPublicKey",(function(){this.seq().obj(this.key("algorithm").use(c),this.key("subjectPublicKey").bitstr())})),l=n.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));r.pkcs1ToJwk=function(e){const t=a.decode(e,"der");return{kty:"RSA",n:o(t.modulus),e:o(t.publicExponent),d:o(t.privateExponent),p:o(t.prime1),q:o(t.prime2),dp:o(t.exponent1),dq:o(t.exponent2),qi:o(t.coefficient),alg:"RS256",kid:"2011-04-29"}},r.jwkToPkcs1=function(e){return a.encode({version:0,modulus:s(e.n),publicExponent:s(e.e),privateExponent:s(e.d),prime1:s(e.p),prime2:s(e.q),exponent1:s(e.dp),exponent2:s(e.dq),coefficient:s(e.qi)},"der")},r.pkixToJwk=function(e){const t=u.decode(e,"der"),r=l.decode(t.subjectPublicKey.data,"der");return{kty:"RSA",n:o(r.modulus),e:o(r.publicExponent),alg:"RS256",kid:"2011-04-29"}},r.jwkToPkix=function(e){return u.encode({algorithm:{algorithm:"rsa",none:null},subjectPublicKey:{data:l.encode({modulus:s(e.n),publicExponent:s(e.e)},"der")}},"der")}}}},{package:"libp2p-crypto",file:"/home/circleci/project/node_modules/libp2p-crypto/src/keys/rsa-utils.js"}],[5280,{"./forge":5260,"./md":5263,"./util":5282},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./forge");e("./md"),e("./util");var i=t.exports=n.sha256=n.sha256||{};n.md.sha256=n.md.algorithms.sha256=i,i.create=function(){s||(o=String.fromCharCode(128),o+=n.util.fillString(String.fromCharCode(0),64),a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=!0);var e=null,t=n.util.createBuffer(),r=new Array(64),i={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var r=i.messageLengthSize/4,o=0;o<r;++o)i.fullMessageLength.push(0);return t=n.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},i}};return i.start(),i.update=function(o,s){"utf8"===s&&(o=n.util.encodeUtf8(o));var a=o.length;i.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var u=i.fullMessageLength.length-1;u>=0;--u)i.fullMessageLength[u]+=a[1],a[1]=a[0]+(i.fullMessageLength[u]/4294967296>>>0),i.fullMessageLength[u]=i.fullMessageLength[u]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(o),c(e,r,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var s=n.util.createBuffer();s.putBytes(t.bytes());var a,u=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;s.putBytes(o.substr(0,i.blockLength-u));for(var l=8*i.fullMessageLength[0],d=0;d<i.fullMessageLength.length-1;++d)l+=(a=8*i.fullMessageLength[d+1])/4294967296>>>0,s.putInt32(l>>>0),l=a>>>0;s.putInt32(l);var f={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};c(f,r,s);var h=n.util.createBuffer();return h.putInt32(f.h0),h.putInt32(f.h1),h.putInt32(f.h2),h.putInt32(f.h3),h.putInt32(f.h4),h.putInt32(f.h5),h.putInt32(f.h6),h.putInt32(f.h7),h},i};var o=null,s=!1,a=null;function c(e,t,r){for(var n,i,o,s,c,u,l,d,f,h,p,m,_,b=r.length();b>=64;){for(c=0;c<16;++c)t[c]=r.getInt32();for(;c<64;++c)n=((n=t[c-2])>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=((i=t[c-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t[c]=n+t[c-7]+i+t[c-16]|0;for(u=e.h0,l=e.h1,d=e.h2,f=e.h3,h=e.h4,p=e.h5,m=e.h6,_=e.h7,c=0;c<64;++c)o=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),s=u&l|d&(u^l),n=_+((h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(m^h&(p^m))+a[c]+t[c],_=m,m=p,p=h,h=f+n>>>0,f=d,d=l,l=u,u=n+(i=o+s)>>>0;e.h0=e.h0+u|0,e.h1=e.h1+l|0,e.h2=e.h2+d|0,e.h3=e.h3+f|0,e.h4=e.h4+h|0,e.h5=e.h5+p|0,e.h6=e.h6+m|0,e.h7=e.h7+_|0,b-=64}}}}},{package:"node-forge",file:"/home/circleci/project/node_modules/node-forge/lib/sha256.js"}],[5274,{"./forge":5260,"./util":5282,_process:5411,crypto:2071},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=e("./forge");e("./util");var i=null;!n.util.isNodejs||n.options.usePureJavaScript||r.versions["node-webkit"]||(i=e("crypto")),(t.exports=n.prng=n.prng||{}).create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=e.md,o=new Array(32),s=0;s<32;++s)o[s]=r.create();function a(){if(t.pools[0].messageLength>=32)return c();var e=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(e)),c()}function c(){t.reseeds=4294967295===t.reseeds?0:t.reseeds+1;var e=t.plugin.md.create();e.update(t.keyBytes);for(var r=1,n=0;n<32;++n)t.reseeds%r==0&&(e.update(t.pools[n].digest().getBytes()),t.pools[n].start()),r<<=1;t.keyBytes=e.digest().getBytes(),e.start(),e.update(t.keyBytes);var i=e.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(i),t.generated=0}function u(e){var t=null,r=n.util.globalScope,i=r.crypto||r.msCrypto;i&&i.getRandomValues&&(t=function(e){return i.getRandomValues(e)});var o=n.util.createBuffer();if(t)for(;o.length()<e;){var s=Math.max(1,Math.min(e-o.length(),65536)/4),a=new Uint32Array(Math.floor(s));try{t(a);for(var c=0;c<a.length;++c)o.putInt32(a[c])}catch(e){if(!("undefined"!=typeof QuotaExceededError&&e instanceof QuotaExceededError))throw e}}if(o.length()<e)for(var u,l,d,f=Math.floor(65536*Math.random());o.length()<e;){l=16807*(65535&f),l+=(32767&(u=16807*(f>>16)))<<16,f=4294967295&(l=(2147483647&(l+=u>>15))+(l>>31));for(c=0;c<3;++c)d=f>>>(c<<3),d^=Math.floor(256*Math.random()),o.putByte(255&d)}return o.getBytes(e)}return t.pools=o,t.pool=0,t.generate=function(e,r){if(!r)return t.generateSync(e);var i=t.plugin.cipher,o=t.plugin.increment,s=t.plugin.formatKey,a=t.plugin.formatSeed,u=n.util.createBuffer();t.key=null,function l(d){if(d)return r(d);if(u.length()>=e)return r(null,u.getBytes(e));t.generated>1048575&&(t.key=null);if(null===t.key)return n.util.nextTick((function(){!function(e){if(t.pools[0].messageLength>=32)return c(),e();var r=32-t.pools[0].messageLength<<5;t.seedFile(r,(function(r,n){if(r)return e(r);t.collect(n),c(),e()}))}(l)}));var f=i(t.key,t.seed);t.generated+=f.length,u.putBytes(f),t.key=s(i(t.key,o(t.seed))),t.seed=a(i(t.key,t.seed)),n.util.setImmediate(l)}()},t.generateSync=function(e){var r=t.plugin.cipher,i=t.plugin.increment,o=t.plugin.formatKey,s=t.plugin.formatSeed;t.key=null;for(var c=n.util.createBuffer();c.length()<e;){t.generated>1048575&&(t.key=null),null===t.key&&a();var u=r(t.key,t.seed);t.generated+=u.length,c.putBytes(u),t.key=o(r(t.key,i(t.seed))),t.seed=s(r(t.key,t.seed))}return c.getBytes(e)},i?(t.seedFile=function(e,t){i.randomBytes(e,(function(e,r){if(e)return t(e);t(null,r.toString())}))},t.seedFileSync=function(e){return i.randomBytes(e).toString()}):(t.seedFile=function(e,t){try{t(null,u(e))}catch(e){t(e)}},t.seedFileSync=u),t.collect=function(e){for(var r=e.length,n=0;n<r;++n)t.pools[t.pool].update(e.substr(n,1)),t.pool=31===t.pool?0:t.pool+1},t.collectInt=function(e,r){for(var n="",i=0;i<r;i+=8)n+=String.fromCharCode(e>>i&255);t.collect(n)},t.registerWorker=function(e){if(e===self)t.seedFile=function(e,t){self.addEventListener("message",(function e(r){var n=r.data;n.forge&&n.forge.prng&&(self.removeEventListener("message",e),t(n.forge.prng.err,n.forge.prng.bytes))})),self.postMessage({forge:{prng:{needed:e}}})};else{e.addEventListener("message",(function(r){var n=r.data;n.forge&&n.forge.prng&&t.seedFile(n.forge.prng.needed,(function(t,r){e.postMessage({forge:{prng:{err:t,bytes:r}}})}))}))}},t}}).call(this)}).call(this,e("_process"))}}},{package:"node-forge",file:"/home/circleci/project/node_modules/node-forge/lib/prng.js"}],[5257,{"./forge":5260,"./util":5282},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./forge");e("./util"),t.exports=n.cipher=n.cipher||{},n.cipher.algorithms=n.cipher.algorithms||{},n.cipher.createCipher=function(e,t){var r=e;if("string"==typeof r&&(r=n.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+e);return new n.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})},n.cipher.createDecipher=function(e,t){var r=e;if("string"==typeof r&&(r=n.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+e);return new n.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})},n.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),n.cipher.algorithms[e]=t},n.cipher.getAlgorithm=function(e){return(e=e.toUpperCase())in n.cipher.algorithms?n.cipher.algorithms[e]:null};var i=n.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};i.prototype.start=function(e){e=e||{};var t={};for(var r in e)t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=n.util.createBuffer(),this.output=e.output||n.util.createBuffer(),this.mode.start(t)},i.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},i.prototype.finish=function(e){!e||"ECB"!==this.mode.name&&"CBC"!==this.mode.name||(this.mode.pad=function(t){return e(this.blockSize,t,!1)},this.mode.unpad=function(t){return e(this.blockSize,t,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t))&&(this._finish=!0,this.update(),!(this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))&&!(this.mode.afterFinish&&!this.mode.afterFinish(this.output,t)))}}}},{package:"node-forge",file:"/home/circleci/project/node_modules/node-forge/lib/cipher.js"}],[5258,{"./forge":5260,"./util":5282},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./forge");e("./util"),n.cipher=n.cipher||{};var i=t.exports=n.cipher.modes=n.cipher.modes||{};function o(e,t){if("string"==typeof e&&(e=n.util.createBuffer(e)),n.util.isArray(e)&&e.length>4){var r=e;e=n.util.createBuffer();for(var i=0;i<r.length;++i)e.putByte(r[i])}if(e.length()<t)throw new Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!n.util.isArray(e)){var o=[],s=t/4;for(i=0;i<s;++i)o.push(e.getInt32());e=o}return e}function s(e){e[e.length-1]=e[e.length-1]+1&4294967295}function a(e){return[e/4294967296|0,4294967295&e]}i.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},i.ecb.prototype.start=function(e){},i.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])},i.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])},i.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0},i.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return!(n>this.blockSize<<2)&&(e.truncate(n),!0)},i.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},i.cbc.prototype.start=function(e){if(null===e.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=o(e.iv,this.blockSize),this._prev=this._iv.slice(0)}},i.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock},i.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)},i.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0},i.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return!(n>this.blockSize<<2)&&(e.truncate(n),!0)},i.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},i.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=o(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.cfb.prototype.encrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32()^this._outBlock[i],t.putInt32(this._inBlock[i]);else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(o>0)e.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.cfb.prototype.decrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32(),t.putInt32(this._inBlock[i]^this._outBlock[i]);else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(o>0)e.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},i.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=o(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.ofb.prototype.encrypt=function(e,t,r){var n=e.length();if(0===e.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(o>0)e.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},i.ofb.prototype.decrypt=i.ofb.prototype.encrypt,i.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},i.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=o(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.ctr.prototype.encrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]);else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(o>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}s(this._inBlock)},i.ctr.prototype.decrypt=i.ctr.prototype.encrypt,i.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0,this._R=3774873600},i.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t,r=n.util.createBuffer(e.iv);if(this._cipherLength=0,t="additionalData"in e?n.util.createBuffer(e.additionalData):n.util.createBuffer(),this._tagLength="tagLength"in e?e.tagLength:128,this._tag=null,e.decrypt&&(this._tag=n.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var i=r.length();if(12===i)this._j0=[r.getInt32(),r.getInt32(),r.getInt32(),1];else{for(this._j0=[0,0,0,0];r.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(a(8*i)))}this._inBlock=this._j0.slice(0),s(this._inBlock),this._partialBytes=0,t=n.util.createBuffer(t),this._aDataLength=a(8*t.length());var o=t.length()%this.blockSize;for(o&&t.fillWithByte(0,this.blockSize-o),this._s=[0,0,0,0];t.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()])},i.gcm.prototype.encrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^=e.getInt32());this._cipherLength+=this.blockSize}else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(o<=0||r){if(r){var a=n%this.blockSize;this._cipherLength+=a,this._partialOutput.truncate(this.blockSize-a)}else this._cipherLength+=this.blockSize;for(i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),s(this._inBlock)},i.gcm.prototype.decrypt=function(e,t,r){var n=e.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),s(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize},i.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=n.util.createBuffer();var i=this._aDataLength.concat(a(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,i);var o=[];this.cipher.encrypt(this._j0,o);for(var s=0;s<this._ints;++s)this.tag.putInt32(this._s[s]^o[s]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r},i.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],n=t.slice(0),i=0;i<128;++i){e[i/32|0]&1<<31-i%32&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r},i.gcm.prototype.pow=function(e,t){for(var r=1&e[3],n=3;n>0;--n)t[n]=e[n]>>>1|(1&e[n-1])<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)},i.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var n=e[r/8|0]>>>4*(7-r%8)&15,i=this._m[r][n];t[0]^=i[0],t[1]^=i[1],t[2]^=i[2],t[3]^=i[3]}return t},i.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)},i.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,n=4*r,i=16*r,o=new Array(i),s=0;s<i;++s){var a=[0,0,0,0],c=(n-1-s%n)*t;a[s/n|0]=1<<t-1<<c,o[s]=this.generateSubHashTable(this.multiply(a,e),t)}return o},i.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,n=r>>>1,i=new Array(r);i[n]=e.slice(0);for(var o=n>>>1;o>0;)this.pow(i[2*o],i[o]=[]),o>>=1;for(o=2;o<n;){for(var s=1;s<o;++s){var a=i[o],c=i[s];i[o+s]=[a[0]^c[0],a[1]^c[1],a[2]^c[2],a[3]^c[3]]}o*=2}for(i[0]=[0,0,0,0],o=n+1;o<r;++o){var u=i[o^n];i[o]=[e[0]^u[0],e[1]^u[1],e[2]^u[2],e[3]^u[3]]}return i}}}},{package:"node-forge",file:"/home/circleci/project/node_modules/node-forge/lib/cipherModes.js"}],[5279,{"./forge":5260,"./md":5263,"./util":5282},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./forge");e("./md"),e("./util");var i=t.exports=n.sha1=n.sha1||{};n.md.sha1=n.md.algorithms.sha1=i,i.create=function(){s||(o=String.fromCharCode(128),o+=n.util.fillString(String.fromCharCode(0),64),s=!0);var e=null,t=n.util.createBuffer(),r=new Array(80),i={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var r=i.messageLengthSize/4,o=0;o<r;++o)i.fullMessageLength.push(0);return t=n.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},i}};return i.start(),i.update=function(o,s){"utf8"===s&&(o=n.util.encodeUtf8(o));var c=o.length;i.messageLength+=c,c=[c/4294967296>>>0,c>>>0];for(var u=i.fullMessageLength.length-1;u>=0;--u)i.fullMessageLength[u]+=c[1],c[1]=c[0]+(i.fullMessageLength[u]/4294967296>>>0),i.fullMessageLength[u]=i.fullMessageLength[u]>>>0,c[0]=c[1]/4294967296>>>0;return t.putBytes(o),a(e,r,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var s=n.util.createBuffer();s.putBytes(t.bytes());var c,u=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;s.putBytes(o.substr(0,i.blockLength-u));for(var l=8*i.fullMessageLength[0],d=0;d<i.fullMessageLength.length-1;++d)l+=(c=8*i.fullMessageLength[d+1])/4294967296>>>0,s.putInt32(l>>>0),l=c>>>0;s.putInt32(l);var f={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};a(f,r,s);var h=n.util.createBuffer();return h.putInt32(f.h0),h.putInt32(f.h1),h.putInt32(f.h2),h.putInt32(f.h3),h.putInt32(f.h4),h},i};var o=null,s=!1;function a(e,t,r){for(var n,i,o,s,a,c,u,l=r.length();l>=64;){for(i=e.h0,o=e.h1,s=e.h2,a=e.h3,c=e.h4,u=0;u<16;++u)n=r.getInt32(),t[u]=n,n=(i<<5|i>>>27)+(a^o&(s^a))+c+1518500249+n,c=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;for(;u<20;++u)n=(n=t[u-3]^t[u-8]^t[u-14]^t[u-16])<<1|n>>>31,t[u]=n,n=(i<<5|i>>>27)+(a^o&(s^a))+c+1518500249+n,c=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;for(;u<32;++u)n=(n=t[u-3]^t[u-8]^t[u-14]^t[u-16])<<1|n>>>31,t[u]=n,n=(i<<5|i>>>27)+(o^s^a)+c+1859775393+n,c=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;for(;u<40;++u)n=(n=t[u-6]^t[u-16]^t[u-28]^t[u-32])<<2|n>>>30,t[u]=n,n=(i<<5|i>>>27)+(o^s^a)+c+1859775393+n,c=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;for(;u<60;++u)n=(n=t[u-6]^t[u-16]^t[u-28]^t[u-32])<<2|n>>>30,t[u]=n,n=(i<<5|i>>>27)+(o&s|a&(o^s))+c+2400959708+n,c=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;for(;u<80;++u)n=(n=t[u-6]^t[u-16]^t[u-28]^t[u-32])<<2|n>>>30,t[u]=n,n=(i<<5|i>>>27)+(o^s^a)+c+3395469782+n,c=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;e.h0=e.h0+i|0,e.h1=e.h1+o|0,e.h2=e.h2+s|0,e.h3=e.h3+a|0,e.h4=e.h4+c|0,l-=64}}}}},{package:"node-forge",file:"/home/circleci/project/node_modules/node-forge/lib/sha1.js"}],[5423,{},function(){with(this)return function(){"use strict";return function(e,t,r){var n=function(e,t){var r=e.repeated?"repeated":e.required?"required":"optional";"map"===e.type&&(r="map<"+e.map.from+","+e.map.to+">"),e.oneof&&(r="");var n=Object.keys(e.options||{}).map((function(t){return t+" = "+e.options[t]})).join(",");return n&&(n=" ["+n+"]"),t.push((r?r+" ":"")+("map"===e.map?"":e.type+" ")+e.name+" = "+e.tag+n+";"),t},i=function(e,t){t.push("message "+e.name+" {"),e.enums||(e.enums=[]),e.enums.forEach((function(e){t.push(o(e,[]))})),e.messages||(e.messages=[]),e.messages.forEach((function(e){t.push(i(e,[]))}));var r={};return e.fields||(e.fields=[]),e.fields.forEach((function(e){e.oneof?(r[e.oneof]||(r[e.oneof]=[]),r[e.oneof].push(n(e,[]))):t.push(n(e,[]))})),Object.keys(r).forEach((function(e){r[e].unshift("oneof "+e+" {"),r[e].push("}"),t.push(r[e])})),t.push("}",""),t},o=function(e,t){t.push("enum "+e.name+" {"),e.options||(e.options={});var r=a(e.options,[]);return r.length>1&&t.push(r.slice(0,-1)),Object.keys(e.values).map((function(r){var n=s(e.values[r]);t.push([r+" = "+n+";"])})),t.push("}",""),t},s=function(e,t){var r=Object.keys(e.options||{}).map((function(t){return t+" = "+e.options[t]})).join(",");return r&&(r=" ["+r+"]"),e.value+r},a=function(e,t){var r=Object.keys(e);return r.forEach((function(r){var n=e[r];~r.indexOf(".")&&(r="("+r+")");var i=typeof n;"object"===i?(n=c(n,[])).length&&t.push("option "+r+" = {",n,"};"):("string"===i&&"optimize_for"!==r&&(n='"'+n+'"'),t.push("option "+r+" = "+n+";"))})),r.length>0&&t.push(""),t},c=function(e,t){return Object.keys(e).forEach((function(r){var n=e[r],i=typeof n;"object"===i?Array.isArray(n)?n.forEach((function(e){(e=c(e,[])).length&&t.push(r+" {",e,"}")})):(n=c(n,[])).length&&t.push(r+" {",n,"}"):("string"===i&&(n='"'+n+'"'),t.push(r+": "+n))})),t},u=function(e,t){var r="rpc "+e.name+"(";e.client_streaming&&(r+="stream "),r+=e.input_type+") returns (",e.server_streaming&&(r+="stream "),r+=e.output_type+")",e.options||(e.options={});var n=a(e.options,[]);return n.length>1?t.push(r+" {",n.slice(0,-1),"}"):t.push(r+";"),t},l=function(e){return function(t){return Array.isArray(t)?t.map(l(e+"  ")).join("\n"):e+t}};t.exports=function(e){var t=[];return t.push('syntax = "proto'+e.syntax+'";',""),e.package&&t.push("package "+e.package+";",""),e.options||(e.options={}),a(e.options,t),e.enums||(e.enums=[]),e.enums.forEach((function(e){o(e,t)})),e.messages||(e.messages=[]),e.messages.forEach((function(e){i(e,t)})),e.services&&e.services.forEach((function(e){!function(e,t){t.push("service "+e.name+" {"),e.options||(e.options={}),a(e.options,t),e.methods||(e.methods=[]),e.methods.forEach((function(e){t.push(u(e,[]))})),t.push("}","")}(e,t)})),t.map(l("")).join("\n")}}}},{package:"protocol-buffers-schema",file:"/home/circleci/project/node_modules/protocol-buffers-schema/stringify.js"}],[5422,{"./tokenize":5424},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./tokenize"),i=["int32","int64","uint32","uint64","sint32","sint64","bool","fixed64","sfixed64","double","fixed32","sfixed32","float"],o=function(e){for(var t={};e.length;)switch(e[0]){case"[":case",":e.shift();var r=e.shift();if("("===r&&(r=e.shift(),e.shift()),"="!==e[0])throw new Error("Unexpected token in field options: "+e[0]);if(e.shift(),"]"===e[0])throw new Error("Unexpected ] in field option");t[r]=e.shift();break;case"]":return e.shift(),t;default:throw new Error("Unexpected token in field options: "+e[0])}throw new Error("No closing tag for field options")},s=function(e){for(var t={name:null,type:null,tag:-1,map:null,oneof:null,required:!1,repeated:!1,options:{}};e.length;)switch(e[0]){case"=":e.shift(),t.tag=Number(e.shift());break;case"map":if(t.type="map",t.map={from:null,to:null},e.shift(),"<"!==e[0])throw new Error("Unexpected token in map type: "+e[0]);if(e.shift(),t.map.from=e.shift(),","!==e[0])throw new Error("Unexpected token in map type: "+e[0]);if(e.shift(),t.map.to=e.shift(),">"!==e[0])throw new Error("Unexpected token in map type: "+e[0]);e.shift(),t.name=e.shift();break;case"repeated":case"required":case"optional":var r=e.shift();t.required="required"===r,t.repeated="repeated"===r,t.type=e.shift(),t.name=e.shift();break;case"[":t.options=o(e);break;case";":if(null===t.name)throw new Error("Missing field name");if(null===t.type)throw new Error("Missing type in message field: "+t.name);if(-1===t.tag)throw new Error("Missing tag number in message field: "+t.name);return e.shift(),t;default:throw new Error("Unexpected token in message field: "+e[0])}throw new Error("No ; found for message field")},a=function(e){for(var t={enums:[],messages:[],fields:[],extends:[],extensions:null};e.length;)switch(e[0]){case"map":case"repeated":case"optional":case"required":t.fields.push(s(e));break;case"enum":t.enums.push(p(e));break;case"message":t.messages.push(l(e));break;case"extensions":t.extensions=u(e);break;case"oneof":e.shift();var r=e.shift();if("{"!==e[0])throw new Error("Unexpected token in oneof: "+e[0]);for(e.shift();"}"!==e[0];){e.unshift("optional");var n=s(e);n.oneof=r,t.fields.push(n)}e.shift();break;case"extend":t.extends.push(c(e));break;case";":e.shift();break;case"reserved":case"option":for(e.shift();";"!==e[0];)e.shift();break;default:e.unshift("optional"),t.fields.push(s(e))}return t},c=function(e){return{name:e[1],message:l(e)}},u=function(e){e.shift();var t=Number(e.shift());if(isNaN(t))throw new Error("Invalid from in extensions definition");if("to"!==e.shift())throw new Error("Expected keyword 'to' in extensions definition");var r=e.shift();if("max"===r&&(r=536870911),r=Number(r),isNaN(r))throw new Error("Invalid to in extensions definition");if(";"!==e.shift())throw new Error("Missing ; in extensions definition");return{from:t,to:r}},l=function(e){e.shift();var t=1,r=[],n={name:e.shift(),enums:[],extends:[],messages:[],fields:[]};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("{"===e[0]?t++:"}"===e[0]&&t--,!t)return e.shift(),r=a(r),n.enums=r.enums,n.messages=r.messages,n.fields=r.fields,n.extends=r.extends,n.extensions=r.extensions,n;r.push(e.shift())}if(t)throw new Error("No closing tag for message")},d=function(e){e.shift();var t=e.shift();if(";"!==e[0])throw new Error("Expected ; but found "+e[0]);return e.shift(),t},f=function(e){if(e.shift(),"="!==e[0])throw new Error("Expected = but found "+e[0]);e.shift();var t=e.shift();switch(t){case'"proto2"':t=2;break;case'"proto3"':t=3;break;default:throw new Error("Expected protobuf syntax version but found "+t)}if(";"!==e[0])throw new Error("Expected ; but found "+e[0]);return e.shift(),t},h=function(e){if(e.length<4)throw new Error("Invalid enum value: "+e.slice(0,3).join(" "));if("="!==e[1])throw new Error("Expected = but found "+e[1]);if(";"!==e[3]&&"["!==e[3])throw new Error("Expected ; or [ but found "+e[1]);var t=e.shift();e.shift();var r={value:null,options:{}};return r.value=Number(e.shift()),"["===e[0]&&(r.options=o(e)),e.shift(),{name:t,val:r}},p=function(e){e.shift();var t={},r={name:e.shift(),values:{},options:{}};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),r;if("option"!==e[0]){var n=h(e);r.values[n.name]=n.val}else t=m(e),r.options[t.name]=t.value}throw new Error("No closing tag for enum")},m=function(e){for(var t=null,r=null,n=function(e){return"true"===e||"false"!==e&&e.replace(/^"+|"+$/gm,"")};e.length;){if(";"===e[0])return e.shift(),{name:t,value:r};switch(e[0]){case"option":e.shift();var i="("===e[0];if(i&&e.shift(),t=e.shift(),i){if(")"!==e[0])throw new Error("Expected ) but found "+e[0]);e.shift()}"."===e[0][0]&&(t+=e.shift());break;case"=":if(e.shift(),null===t)throw new Error("Expected key for option with value: "+e[0]);if(r=n(e.shift()),"optimize_for"===t&&!/^(SPEED|CODE_SIZE|LITE_RUNTIME)$/.test(r))throw new Error("Unexpected value for option optimize_for: "+r);"{"===r&&(r=_(e));break;default:throw new Error("Unexpected token in option: "+e[0])}}},_=function(e){for(var t=function(e){return"true"===e||"false"!==e&&e.replace(/^"+|"+$/gm,"")},r={};e.length;){if("}"===e[0])return e.shift(),r;var n="("===e[0];n&&e.shift();var i=e.shift();if(n){if(")"!==e[0])throw new Error("Expected ) but found "+e[0]);e.shift()}var o=null;switch(e[0]){case":":if(r[i]!==undefined)throw new Error("Duplicate option map key "+i);e.shift(),"{"===(o=t(e.shift()))&&(o=_(e)),r[i]=o,";"===e[0]&&e.shift();break;case"{":if(e.shift(),o=_(e),r[i]===undefined&&(r[i]=[]),!Array.isArray(r[i]))throw new Error("Duplicate option map key "+i);r[i].push(o);break;default:throw new Error("Unexpected token in option map: "+e[0])}}throw new Error("No closing tag for option map")},b=function(e){e.shift();var t=e.shift().replace(/^"+|"+$/gm,"");if(";"!==e[0])throw new Error("Unexpected token: "+e[0]+'. Expected ";"');return e.shift(),t},g=function(e){e.shift();var t={name:e.shift(),methods:[],options:{}};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),t;switch(e[0]){case"option":var r=m(e);if(t.options[r.name]!==undefined)throw new Error("Duplicate option "+r.name);t.options[r.name]=r.value;break;case"rpc":t.methods.push(y(e));break;default:throw new Error("Unexpected token in service: "+e[0])}}throw new Error("No closing tag for service")},y=function(e){e.shift();var t={name:e.shift(),input_type:null,output_type:null,client_streaming:!1,server_streaming:!1,options:{}};if("("!==e[0])throw new Error("Expected ( but found "+e[0]);if(e.shift(),"stream"===e[0]&&(e.shift(),t.client_streaming=!0),t.input_type=e.shift(),")"!==e[0])throw new Error("Expected ) but found "+e[0]);if(e.shift(),"returns"!==e[0])throw new Error("Expected returns but found "+e[0]);if(e.shift(),"("!==e[0])throw new Error("Expected ( but found "+e[0]);if(e.shift(),"stream"===e[0]&&(e.shift(),t.server_streaming=!0),t.output_type=e.shift(),")"!==e[0])throw new Error("Expected ) but found "+e[0]);if(e.shift(),";"===e[0])return e.shift(),t;if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),t;if("option"!==e[0])throw new Error("Unexpected token in rpc options: "+e[0]);var r=m(e);if(t.options[r.name]!==undefined)throw new Error("Duplicate option "+r.name);t.options[r.name]=r.value}throw new Error("No closing tag for rpc")};t.exports=function(e){for(var t=n(e.toString()),r=0;r<t.length;r++){var o;if(/^("|')([^'"]*)$/.test(t[r]))for(o=1===t[r].length?r+1:r;o<t.length;o++)if(/^([^'"]*)("|')$/.test(t[o])){t=t.slice(0,r).concat(t.slice(r,o+1).join("")).concat(t.slice(o+1));break}}for(var s={syntax:3,package:null,imports:[],enums:[],messages:[],options:{},extends:[]},a=!0;t.length;){switch(t[0]){case"package":s.package=d(t);break;case"syntax":if(!a)throw new Error("Protobuf syntax version should be first thing in file");s.syntax=f(t);break;case"message":s.messages.push(l(t));break;case"enum":s.enums.push(p(t));break;case"option":var u=m(t);if(s.options[u.name])throw new Error("Duplicate option "+u.name);s.options[u.name]=u.value;break;case"import":s.imports.push(b(t));break;case"extend":s.extends.push(c(t));break;case"service":s.services||(s.services=[]),s.services.push(g(t));break;default:throw new Error("Unexpected token: "+t[0])}a=!1}return s.extends.forEach((function(e){s.messages.forEach((function(t){t.name===e.name&&e.message.fields.forEach((function(e){if(!t.extensions||e.tag<t.extensions.from||e.tag>t.extensions.to)throw new Error(t.name+" does not declare "+e.tag+" as an extension number");t.fields.push(e)}))}))})),s.messages.forEach((function(e){e.fields.forEach((function(t){var r,n,o,a;if(t.options&&"true"===t.options.packed&&-1===i.indexOf(t.type)){if(-1===t.type.indexOf(".")){if(e.enums&&e.enums.some((function(e){return e.name===t.type})))return}else{if((r=t.type.split(".")).length>2)throw new Error("what is this?");if(n=r[0],o=r[1],s.messages.some((function(e){if(e.name===n)return a=e,e})),a&&a.enums&&a.enums.some((function(e){return e.name===o})))return}throw new Error("Fields of type "+t.type+" cannot be declared [packed=true]. "+"Only repeated fields of primitive numeric types (types which use "+'the varint, 32-bit, or 64-bit wire types) can be declared "packed". '+"See https://developers.google.com/protocol-buffers/docs/encoding#optional")}}))})),s}}}},{package:"protocol-buffers-schema",file:"/home/circleci/project/node_modules/protocol-buffers-schema/parse.js"}],[5425,{"./utils":5430,varint:6023},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("varint"),i=e("./utils").defined;var o=function(e,t,r){switch(e){case 0:return n.decode(t,r),r+n.decode.bytes;case 1:return r+8;case 2:var i=n.decode(t,r);return r+n.decode.bytes+i;case 3:case 4:throw new Error("Groups are not supported");case 5:return r+4;default:throw new Error("Unknown wire type: "+e)}},s=function(e,t){if(e.map)return{};if(e.repeated)return[];switch(e.type){case"string":return null!=t?t:"";case"bool":return"true"===t;case"float":case"double":case"sfixed32":case"fixed32":case"varint":case"enum":case"uint64":case"uint32":case"int64":case"int32":case"sint64":case"sint32":return parseInt(t||0,10);default:return null}};t.exports=function(e,t,r){for(var a=[],c={},u=[],l=[],d=0;d<r.length;d++){var f=e.fields[d];c[f.tag]=d;var h=f.options&&f.options.default,p=t(f.type,e.id,!1);l[d]=[h,p&&p.values],e.fields[d].packed=f.repeated&&f.options&&f.options.packed&&"false"!==f.options.packed,f.required&&a.push(f.name),f.oneof&&u.push(f.name)}function m(e,t,r,i,o,s){var a=t.name;if(t.oneof)for(var c=Object.keys(r),l=0;l<c.length;l++)u.indexOf(c[l])>-1&&delete r[c[l]];if(e.message){var d=n.decode(i,o);o+=n.decode.bytes;var f=e.decode(i,o,o+d);t.map?(r[a]=r[a]||{},r[a][f.key]=f.value):t.repeated?(r[a]=r[a]||[],r[a].push(f)):r[a]=f}else t.repeated?(r[a]=r[a]||[],r[a].push(e.decode(i,o))):r[a]=e.decode(i,o);return o+=e.decode.bytes}return function t(d,f,h){if(null==f&&(f=0),null==h&&(h=d.length),!(h<=d.length&&f<=d.length))throw new Error("Decoded message is not valid");for(var p,_=f,b={};;){if(h<=f){var g,y,w="",v=0;for(v=0;v<a.length;v++)if(w=a[v],!i(b[w]))throw new Error("Decoded message is not valid, missing required field: "+w);for(v=0;v<r.length;v++)if(p=e.fields[v],y=l[v][0],g=l[v][1],w=p.name,!i(b[w])){var E=!1;if(p.oneof)for(var k=Object.keys(b),S=0;S<k.length;S++)if(u.indexOf(k[S])>-1){E=!0;break}E||(g?p.repeated?b[w]=[]:(y=y&&g[y]?g[y].value:g[Object.keys(g)[0]].value,b[w]=parseInt(y||0,10)):b[w]=s(p,y))}return t.bytes=f-_,b}var R=n.decode(d,f);f+=n.decode.bytes;var T=c[R>>3];if(null!=T){var x=r[T];if((p=e.fields[T]).packed){var j=n.decode(d,f);for(j+=f+=n.decode.bytes;f<j;)f=m(x,p,b,d,f)}else f=m(x,p,b,d,f)}else f=o(7&R,d,f)}}}}}},{package:"protons",file:"/home/circleci/project/node_modules/protons/src/compile/decode.js"}],[5426,{"./utils":5430,buffer:2072,varint:6023},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=e("./utils").defined,i=e("varint");t.exports=function(e,t,o,s,a){for(var c=Object.keys(s),u=o.length,l={},d=0;d<u;d++){l[d]={p:i.encode(e.fields[d].tag<<3|2),h:i.encode(e.fields[d].tag<<3|o[d].type)};var f=e.fields[d];e.fields[d].packed=f.repeated&&f.options&&f.options.packed&&"false"!==f.options.packed}function h(e,t,r,n,o,s){var a=0;if(!o)for(a=0;a<r.length;a++)e[t++]=r[a];return n.message&&(i.encode(n.encodingLength(s),e,t),t+=i.encode.bytes),n.encode(s,e,t),t+n.encode.bytes}return function t(d,f,p){null==p&&(p=0),null==f&&(f=r.allocUnsafe(a(d)));var m=p,_=Object.keys(d),b=0,g=!1;for(b=0;b<c.length;b++){var y=c[b],w=s[b];if(_.indexOf(w)>-1){if(g)throw new Error("only one of the properties defined in oneof "+y+" can be set");g=!0}}for(b=0;b<u;b++){var v=o[b],E=e.fields[b],k=d[E.name],S=0;if(n(k)){var R,T=l[b].p,x=l[b].h,j=E.packed;if(E.map){var I=Object.keys(k);for(S=0;S<I.length;S++)I[S]={key:I[S],value:k[I[S]]};k=I}if(j){var A=0;for(S=0;S<k.length;S++)n(k[S])&&(A+=v.encodingLength(k[S]));if(A){for(S=0;S<x.length;S++)f[p++]=T[S];i.encode(A,f,p),p+=i.encode.bytes}}if(E.repeated)for(S=0;S<k.length;S++)R=k[S],n(R)&&(p=h(f,p,x,v,j,R));else p=h(f,p,x,v,j,k)}else if(E.required)throw new Error(E.name+" is required")}return t.bytes=p-m,f}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"protons",file:"/home/circleci/project/node_modules/protons/src/compile/encode.js"}],[5427,{"./utils":5430,varint:6023},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./utils").defined,i=e("varint");t.exports=function(e,t,r){for(var o=Object.keys(r),s=t.length,a=new Array(s),c=0;c<e.fields.length;c++){a[c]=i.encodingLength(e.fields[c].tag<<3|t[c].type);var u=e.fields[c];e.fields[c].packed=u.repeated&&u.options&&u.options.packed&&"false"!==u.options.packed}return function(c){var u=0,l=0,d=0;for(l=0;l<o.length;l++){var f=o[l],h=r[f],p=!1;for(d=0;d<h.length;d++)if(n(c[h[d]])){if(p)throw new Error("only one of the properties defined in oneof "+f+" can be set");p=!0}}for(l=0;l<s;l++){var m,_=t[l],b=e.fields[l],g=c[b.name],y=a[l];if(n(g)){if(b.map){var w=Object.keys(g);for(d=0;d<w.length;d++)w[d]={key:w[d],value:g[w[d]]};g=w}if(b.packed){var v=0;for(d=0;d<g.length;d++)n(g[d])&&(v+=m=_.encodingLength(g[d]),_.message&&(v+=i.encodingLength(m)));v&&(u+=y+v+i.encodingLength(v))}else if(b.repeated)for(d=0;d<g.length;d++)n(g[d])&&(u+=y+(m=_.encodingLength(g[d]))+(_.message?i.encodingLength(m):0));else u+=y+(m=_.encodingLength(g))+(_.message?i.encodingLength(m):0)}else if(b.required)throw new Error(b.name+" is required")}return u}}}}},{package:"protons",file:"/home/circleci/project/node_modules/protons/src/compile/encoding-length.js"}],[5428,{"safe-buffer":5730,"signed-varint":5810,varint:6023},function(){with(this)return function(){"use strict";return function(e,t,r){var n,i,o,s=e("varint"),a=e("signed-varint"),c=e("safe-buffer").Buffer,u=function(e,t,r,n){return t.bytes=r.bytes=0,{type:e,encode:t,decode:r,encodingLength:n}};r.make=u,r.bytes=(n=function(e){return c.isBuffer(e)?e.length:c.byteLength(e)},u(2,i=function(e,t,r){var o=r,a=n(e);return s.encode(a,t,r),r+=s.encode.bytes,c.isBuffer(e)?e.copy(t,r):t.write(e,r,a),r+=a,i.bytes=r-o,t},o=function(e,t){var r=t,n=s.decode(e,t);t+=s.decode.bytes;var i=e.slice(t,t+n);return t+=i.length,o.bytes=t-r,i},(function(e){var t=n(e);return s.encodingLength(t)+t}))),r.string=function(){var e=function(t,r,n){var i=n,o=c.byteLength(t);return s.encode(o,r,n,"utf-8"),n+=s.encode.bytes,r.write(t,n,o),n+=o,e.bytes=n-i,r},t=function(e,r){var n=r,i=s.decode(e,r);r+=s.decode.bytes;var o=e.toString("utf-8",r,r+i);return r+=i,t.bytes=r-n,o};return u(2,e,t,(function(e){var t=c.byteLength(e);return s.encodingLength(t)+t}))}(),r.bool=function(){var e=function(t,r,n){return r[n]=t?1:0,e.bytes=1,r},t=function(e,r){var n=e[r]>0;return t.bytes=1,n};return u(0,e,t,(function(e){return 1}))}(),r.int32=function(){var e=function(t,r){var n=s.decode(t,r);return e.bytes=s.decode.bytes,n>2147483647?n-4294967296:n};return u(0,s.encode,e,(function(e){return s.encodingLength(e<0?e+4294967296:e)}))}(),r.int64=function(){var e=function(t,r){var n=s.decode(t,r);if(n>=Math.pow(2,63)){for(var i=9;255===t[r+i-1];)i--;i=i||9;var o=c.allocUnsafe(i);t.copy(o,0,r,r+i),o[i-1]=127&o[i-1],n=-1*s.decode(o,0),e.bytes=10}else e.bytes=s.decode.bytes;return n},t=function(e,r,n){if(e<0){var i=n+9;for(s.encode(-1*e,r,n),r[n+=s.encode.bytes-1]=128|r[n];n<i-1;)r[++n]=255;r[i]=1,t.bytes=10}else s.encode(e,r,n),t.bytes=s.encode.bytes;return r};return u(0,t,e,(function(e){return e<0?10:s.encodingLength(e)}))}(),r.sint32=r.sint64=u(0,a.encode,a.decode,a.encodingLength),r.uint32=r.uint64=r.enum=r.varint=u(0,s.encode,s.decode,s.encodingLength),r.fixed64=r.sfixed64=function(){var e=function(t,r,n){return t.copy(r,n),e.bytes=8,r},t=function(e,r){var n=e.slice(r,r+8);return t.bytes=8,n};return u(1,e,t,(function(e){return 8}))}(),r.double=function(){var e=function(t,r,n){return r.writeDoubleLE(t,n),e.bytes=8,r},t=function(e,r){var n=e.readDoubleLE(r);return t.bytes=8,n};return u(1,e,t,(function(e){return 8}))}(),r.fixed32=function(){var e=function(t,r,n){return r.writeUInt32LE(t,n),e.bytes=4,r},t=function(e,r){var n=e.readUInt32LE(r);return t.bytes=4,n};return u(5,e,t,(function(e){return 4}))}(),r.sfixed32=function(){var e=function(t,r,n){return r.writeInt32LE(t,n),e.bytes=4,r},t=function(e,r){var n=e.readInt32LE(r);return t.bytes=4,n};return u(5,e,t,(function(e){return 4}))}(),r.float=function(){var e=function(t,r,n){return r.writeFloatLE(t,n),e.bytes=4,r},t=function(e,r){var n=e.readFloatLE(r);return t.bytes=4,n};return u(5,e,t,(function(e){return 4}))}()}}},{package:"protons",file:"/home/circleci/project/node_modules/protons/src/compile/encodings.js"}],[4855,{"asn1.js":1676,buffer:2072},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t){(function(){const n=e("asn1.js").bignum;r.toBase64=function(e,r){return e.toArrayLike(t,"be",r).toString("base64").replace(/(=*)$/,"").replace(/\+/g,"-").replace(/\//g,"_")},r.toBn=function(e){return new n(t.from(e,"base64"))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"libp2p-crypto",file:"/home/circleci/project/node_modules/libp2p-crypto/src/util.js"}],[1676,{"./asn1/api":1677,"./asn1/base":1679,"./asn1/constants":1683,"./asn1/decoders":1685,"./asn1/encoders":1688,"bn.js":2028},function(){with(this)return function(){"use strict";return function(e,t,r){const n=r;n.bignum=e("bn.js"),n.define=e("./asn1/api").define,n.base=e("./asn1/base"),n.constants=e("./asn1/constants"),n.decoders=e("./asn1/decoders"),n.encoders=e("./asn1/encoders")}}},{package:"asn1.js",file:"/home/circleci/project/node_modules/asn1.js/lib/asn1.js"}],[4816,{"./blake":4814,"./crypto-sha1-2":4815,"./utils":4818,buffer:2072,"js-sha3":4710,murmurhash3js:5245},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){const n=e("js-sha3"),i=e("murmurhash3js"),o=e("./utils"),s=e("./crypto-sha1-2"),a=o.toCallback,c=o.toBuf,u=o.fromString,l=o.fromNumberTo32BitBuf;t.exports={sha1:s.sha1,sha2256:s.sha2256,sha2512:s.sha2512,sha3512:a(c(n.sha3_512)),sha3384:a(c(n.sha3_384)),sha3256:a(c(n.sha3_256)),sha3224:a(c(n.sha3_224)),shake128:a(c(n.shake_128,128)),shake256:a(c(n.shake_256,256)),keccak224:a(c(n.keccak_224)),keccak256:a(c(n.keccak_256)),keccak384:a(c(n.keccak_384)),keccak512:a(c(n.keccak_512)),murmur3128:a(c(u(i.x64.hash128))),murmur332:a(l(u(i.x86.hash32))),addBlake:e("./blake"),dblSha2256:(e,t)=>{s.sha2256(e,((e,n)=>{e&&t(e),s.sha2256(r.from(n),t)}))}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"multihashing-async",file:"/home/circleci/project/node_modules/libp2p-crypto/node_modules/libp2p-crypto-secp256k1/node_modules/multihashing-async/src/crypto.js"}],[4826,{"./lib":4829,"./lib/js":4835},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=e("./lib")(e("./lib/js"))}}},{package:"secp256k1",file:"/home/circleci/project/node_modules/libp2p-crypto/node_modules/secp256k1/js.js"}],[4679,{},function(){with(this)return function(){"use strict";return function(e,t,r){function n(e,t){this.value=e,this.next=t}t.exports=n,n.prototype.contains=function(e){for(var t=this;t;){if(t.value===e)return!0;t=t.next}return!1}}}},{package:"is-circular",file:"/home/circleci/project/node_modules/is-circular/lib/node.js"}],[4663,{"../util":4667,"./../dag-link":4655,buffer:2072},function(){with(this)return function(){"use strict";return function(e,t,r){(function(n){(function(){const i=e("./../dag-link"),{cid:o,serialize:s}=e("../util");(r=t.exports).cloneData=function(e){let t;return e.Data&&e.Data.length>0?(t=n.alloc(e.Data.length),e.Data.copy(t)):t=n.alloc(0),t},r.cloneLinks=function(e){return e.Links.slice()},r.linkSort=function(e,t){return n.compare(e.nameAsBuffer,t.nameAsBuffer)},r.toDAGLink=async(e,t={})=>{const r=s(e),n=await o(r);return new i(t.name||"",r.length,n)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ipld-dag-pb",file:"/home/circleci/project/node_modules/ipld-dag-pb/src/dag-node/util.js"}],[5854,{},function(){with(this)return function(){"use strict";return function(e,t,r){
//! stable.js 0.1.8, https://github.com/Two-Screen/stable
//!  2018 Angry Bytes and contributors. MIT licensed.
!function(e,n){"object"==typeof r&&void 0!==t?t.exports=n():"function"==typeof define&&define.amd?define(n):e.stable=n()}(this,(function(){var e=function(e,r){return t(e.slice(),r)};function t(e,t){"function"!=typeof t&&(t=function(e,t){return String(e).localeCompare(t)});var n=e.length;if(n<=1)return e;for(var i=new Array(n),o=1;o<n;o*=2){r(e,t,o,i);var s=e;e=i,i=s}return e}e.inplace=function(e,n){var i=t(e,n);return i!==e&&r(i,null,e.length,e),e};var r=function(e,t,r,n){var i,o,s,a,c,u=e.length,l=0,d=2*r;for(i=0;i<u;i+=d)for(s=(o=i+r)+r,o>u&&(o=u),s>u&&(s=u),a=i,c=o;;)if(a<o&&c<s)t(e[a],e[c])<=0?n[l++]=e[a++]:n[l++]=e[c++];else if(a<o)n[l++]=e[a++];else{if(!(c<s))break;n[l++]=e[c++]}};return e}))}}},{package:"stable",file:"/home/circleci/project/node_modules/stable/stable.js"}],[5229,{buffer:2072},function(){with(this)return function(){"use strict";return function(e,t,r){const{Buffer:n}=e("buffer"),i=self.crypto||self.msCrypto;t.exports=e=>{if("undefined"==typeof self||!self.crypto&&!self.msCrypto)throw new Error("Please use a browser with webcrypto support and ensure the code has been delivered securely via HTTPS/TLS and run within a Secure Context");return async t=>{switch(e){case"sha1":return n.from(await i.subtle.digest({name:"SHA-1"},t));case"sha2-256":return n.from(await i.subtle.digest({name:"SHA-256"},t));case"sha2-512":return n.from(await i.subtle.digest({name:"SHA-512"},t));case"dbl-sha2-256":{const e=await i.subtle.digest({name:"SHA-256"},t);return n.from(await i.subtle.digest({name:"SHA-256"},e))}default:throw new Error(`${e} is not a supported algorithm`)}}}}}},{package:"multihashing-async",file:"/home/circleci/project/node_modules/multihashing-async/src/sha.browser.js"}],[5230,{buffer:2072},function(){with(this)return function(){"use strict";return function(e,t,r){const{Buffer:n}=e("buffer");t.exports={fromNumberTo32BitBuf:e=>{const t=new Array(4);for(let r=0;r<4;r++)t[r]=255&e,e>>=8;return n.from(t)}}}}},{package:"multihashing-async",file:"/home/circleci/project/node_modules/multihashing-async/src/utils.js"}],[5226,{blakejs:2025,buffer:2072},function(){with(this)return function(){"use strict";return function(e,t,r){const{Buffer:n}=e("buffer"),i=e("blakejs"),o={init:i.blake2bInit,update:i.blake2bUpdate,digest:i.blake2bFinal},s={init:i.blake2sInit,update:i.blake2sUpdate,digest:i.blake2sFinal},a=(e,t)=>async r=>{const i=t.init(e,null);return t.update(i,r),n.from(t.digest(i))};t.exports=e=>{for(let t=0;t<64;t++)e[45569+t]=a(t+1,o);for(let t=0;t<32;t++)e[45633+t]=a(t+1,s)}}}},{package:"multihashing-async",file:"/home/circleci/project/node_modules/multihashing-async/src/blake.js"}],[5243,{"./lib/murmurHash3js":5244},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=e("./lib/murmurHash3js")}}},{package:"murmurhash3js-revisited",file:"/home/circleci/project/node_modules/murmurhash3js-revisited/index.js"}],[4407,{},function(){with(this)return function(){"use strict";return function(e,t,r){const n="(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])(?:\\.(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])){3}",i="[0-9a-fA-F]{1,4}",o=`\n(\n(?:${i}:){7}(?:${i}|:)|                                // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:${i}:){6}(?:${n}|:${i}|:)|                         // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:${i}:){5}(?::${n}|(:${i}){1,2}|:)|                 // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:${i}:){4}(?:(:${i}){0,1}:${n}|(:${i}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:${i}:){3}(?:(:${i}){0,2}:${n}|(:${i}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:${i}:){2}(?:(:${i}){0,3}:${n}|(:${i}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:${i}:){1}(?:(:${i}){0,4}:${n}|(:${i}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::((?::${i}){0,5}:${n}|(?::${i}){1,7}|:))           // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(%[0-9a-zA-Z]{1,})?                                           // %eth0            %1\n`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),s=t.exports=e=>e&&e.exact?new RegExp(`(?:^${n}$)|(?:^${o}$)`):new RegExp(`(?:${n})|(?:${o})`,"g");s.v4=e=>e&&e.exact?new RegExp(`^${n}$`):new RegExp(n,"g"),s.v6=e=>e&&e.exact?new RegExp(`^${o}$`):new RegExp(o,"g")}}},{package:"ip-regex",file:"/home/circleci/project/node_modules/ip-regex/index.js"}],[2024,{"./util":2026},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./util");function i(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function o(e,t,r,n,i,o){u[e]=u[e]+u[t]+i,u[n]=s(u[n]^u[e],16),u[r]=u[r]+u[n],u[t]=s(u[t]^u[r],12),u[e]=u[e]+u[t]+o,u[n]=s(u[n]^u[e],8),u[r]=u[r]+u[n],u[t]=s(u[t]^u[r],7)}function s(e,t){return e>>>t^e<<32-t}var a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),u=new Uint32Array(16),l=new Uint32Array(16);function d(e,t){var r=0;for(r=0;r<8;r++)u[r]=e.h[r],u[r+8]=a[r];for(u[12]^=e.t,u[13]^=e.t/4294967296,t&&(u[14]=~u[14]),r=0;r<16;r++)l[r]=i(e.b,4*r);for(r=0;r<10;r++)o(0,4,8,12,l[c[16*r+0]],l[c[16*r+1]]),o(1,5,9,13,l[c[16*r+2]],l[c[16*r+3]]),o(2,6,10,14,l[c[16*r+4]],l[c[16*r+5]]),o(3,7,11,15,l[c[16*r+6]],l[c[16*r+7]]),o(0,5,10,15,l[c[16*r+8]],l[c[16*r+9]]),o(1,6,11,12,l[c[16*r+10]],l[c[16*r+11]]),o(2,7,8,13,l[c[16*r+12]],l[c[16*r+13]]),o(3,4,9,14,l[c[16*r+14]],l[c[16*r+15]]);for(r=0;r<8;r++)e.h[r]^=u[r]^u[r+8]}function f(e,t){if(!(e>0&&e<=32))throw new Error("Incorrect output length, should be in [1, 32]");var r=t?t.length:0;if(t&&!(r>0&&r<=32))throw new Error("Incorrect key length, should be in [1, 32]");var n={h:new Uint32Array(a),b:new Uint32Array(64),c:0,t:0,outlen:e};return n.h[0]^=16842752^r<<8^e,r>0&&(h(n,t),n.c=64),n}function h(e,t){for(var r=0;r<t.length;r++)64===e.c&&(e.t+=e.c,d(e,!1),e.c=0),e.b[e.c++]=t[r]}function p(e){for(e.t+=e.c;e.c<64;)e.b[e.c++]=0;d(e,!0);for(var t=new Uint8Array(e.outlen),r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(3&r)&255;return t}function m(e,t,r){r=r||32,e=n.normalizeInput(e);var i=f(r,t);return h(i,e),p(i)}t.exports={blake2s:m,blake2sHex:function(e,t,r){var i=m(e,t,r);return n.toHex(i)},blake2sInit:f,blake2sUpdate:h,blake2sFinal:p}}}},{package:"blakejs",file:"/home/circleci/project/node_modules/blakejs/blake2s.js"}],[2023,{"./util":2026},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./util");function i(e,t,r){var n=e[t]+e[r],i=e[t+1]+e[r+1];n>=4294967296&&i++,e[t]=n,e[t+1]=i}function o(e,t,r,n){var i=e[t]+r;r<0&&(i+=4294967296);var o=e[t+1]+n;i>=4294967296&&o++,e[t]=i,e[t+1]=o}function s(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function a(e,t,r,n,s,a){var c=d[s],u=d[s+1],f=d[a],h=d[a+1];i(l,e,t),o(l,e,c,u);var p=l[n]^l[e],m=l[n+1]^l[e+1];l[n]=m,l[n+1]=p,i(l,r,n),p=l[t]^l[r],m=l[t+1]^l[r+1],l[t]=p>>>24^m<<8,l[t+1]=m>>>24^p<<8,i(l,e,t),o(l,e,f,h),p=l[n]^l[e],m=l[n+1]^l[e+1],l[n]=p>>>16^m<<16,l[n+1]=m>>>16^p<<16,i(l,r,n),p=l[t]^l[r],m=l[t+1]^l[r+1],l[t]=m>>>31^p<<1,l[t+1]=p>>>31^m<<1}var c=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),u=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map((function(e){return 2*e}))),l=new Uint32Array(32),d=new Uint32Array(32);function f(e,t){var r=0;for(r=0;r<16;r++)l[r]=e.h[r],l[r+16]=c[r];for(l[24]=l[24]^e.t,l[25]=l[25]^e.t/4294967296,t&&(l[28]=~l[28],l[29]=~l[29]),r=0;r<32;r++)d[r]=s(e.b,4*r);for(r=0;r<12;r++)a(0,8,16,24,u[16*r+0],u[16*r+1]),a(2,10,18,26,u[16*r+2],u[16*r+3]),a(4,12,20,28,u[16*r+4],u[16*r+5]),a(6,14,22,30,u[16*r+6],u[16*r+7]),a(0,10,20,30,u[16*r+8],u[16*r+9]),a(2,12,22,24,u[16*r+10],u[16*r+11]),a(4,14,16,26,u[16*r+12],u[16*r+13]),a(6,8,18,28,u[16*r+14],u[16*r+15]);for(r=0;r<16;r++)e.h[r]=e.h[r]^l[r]^l[r+16]}function h(e,t){if(0===e||e>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(t&&t.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");for(var r={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:e},n=0;n<16;n++)r.h[n]=c[n];var i=t?t.length:0;return r.h[0]^=16842752^i<<8^e,t&&(p(r,t),r.c=128),r}function p(e,t){for(var r=0;r<t.length;r++)128===e.c&&(e.t+=e.c,f(e,!1),e.c=0),e.b[e.c++]=t[r]}function m(e){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;f(e,!0);for(var t=new Uint8Array(e.outlen),r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(3&r);return t}function _(e,t,r){r=r||64,e=n.normalizeInput(e);var i=h(r,t);return p(i,e),m(i)}t.exports={blake2b:_,blake2bHex:function(e,t,r){var i=_(e,t,r);return n.toHex(i)},blake2bInit:h,blake2bUpdate:p,blake2bFinal:m}}}},{package:"blakejs",file:"/home/circleci/project/node_modules/blakejs/blake2b.js"}],[4692,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(e){return e&&"function"==typeof e.then}}}},{package:"is-promise",file:"/home/circleci/project/node_modules/is-promise/index.js"}],[5414,{_process:5411,"is-promise":4692},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n,i=e("is-promise");n="function"==typeof setImediate?setImediate:"object"==typeof r&&r&&r.nextTick?r.nextTick:function(e){setTimeout(e,0)};var o=[];function s(e){if(!(this instanceof s))return"function"==typeof e?new s(e):(r=new s((function(e){t=e})),{resolver:t,promise:r});var t,r,a,c=!1,u=!1,l=[],d=!1;function f(e){l.length?(d=!0,l.shift()(e||!1)):d=!1}this.then=function(e,t){return new s((function(r){l.push((function(i){var o=u?e:t;if("function"==typeof o){function e(){var e;try{e=o(a)}catch(e){return r.reject(e),f()}r.fulfill(e),f(!0)}i?e():n(e)}else u?(r.fulfill(a),f(i)):(r.reject(a),f(i))})),c&&!d&&f()}))},function(){function t(e){c||(c=!0,u=!1,a=e,f())}for(var r={fulfill:function e(r){c||(i(r)?r.then(e,t):(c=u=!0,a=r,f()))},reject:t},n=0;n<o.length;n++)o[n](this,r);if("function"==typeof e)try{e(r)}catch(e){r.reject(e)}}()}t.exports=s,s.use=function(e){o.push(e)}}).call(this)}).call(this,e("_process"))}}},{package:"promise",file:"/home/circleci/project/node_modules/promise/index.js"}],[5476,{"./drain":5472},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./drain");t.exports=function(e){return n(null,e)}}}},{package:"pull-stream",file:"/home/circleci/project/node_modules/pull-stream/sinks/on-end.js"}],[5475,{"./drain":5472},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./drain");t.exports=function(e){return n((function(e){console.log(e)}),e)}}}},{package:"pull-stream",file:"/home/circleci/project/node_modules/pull-stream/sinks/log.js"}],[5473,{"../util/prop":5497,"./drain":5472},function(){with(this)return function(){"use strict";return function(e,t,r){function n(e){return e}var i=e("../util/prop"),o=e("./drain");t.exports=function(e,t){var r=!1;return t?e=i(e)||n:(t=e,e=n),o((function(n){if(e(n))return r=!0,t(null,n),!1}),(function(e){r||t(!0===e?null:e,null)}))}}}},{package:"pull-stream",file:"/home/circleci/project/node_modules/pull-stream/sinks/find.js"}],[5471,{"./reduce":5477},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./reduce");t.exports=function(e){return n((function(e,t){return e+t}),"",e)}}}},{package:"pull-stream",file:"/home/circleci/project/node_modules/pull-stream/sinks/concat.js"}],[5478,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(e){var t=0;return e=e||Infinity,function(r,n){return r?n&&n(r):t>e?n(!0):void n(null,t++)}}}}},{package:"pull-stream",file:"/home/circleci/project/node_modules/pull-stream/sources/count.js"}],[5479,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(){return function(e,t){t(!0)}}}}},{package:"pull-stream",file:"/home/circleci/project/node_modules/pull-stream/sources/empty.js"}],[5482,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(e){return e=e||Math.random,function(t,r){return t?r&&r(t):r(null,e())}}}}},{package:"pull-stream",file:"/home/circleci/project/node_modules/pull-stream/sources/infinite.js"}],[5480,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(e){return function(t,r){r(e)}}}}},{package:"pull-stream",file:"/home/circleci/project/node_modules/pull-stream/sources/error.js"}],[5483,{"./values":5485},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./values");t.exports=function(e){return n(Object.keys(e))}}}},{package:"pull-stream",file:"/home/circleci/project/node_modules/pull-stream/sources/keys.js"}],[5494,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(e,t){var r=!1;function n(e){!r&&t&&(r=!0,t(!0===e?null:e))}return function(t){return function(r,i){return r&&n(r),t(r,(function(t,r){t?n(t):e&&e(r),i(t,r)}))}}}}}},{package:"pull-stream",file:"/home/circleci/project/node_modules/pull-stream/throughs/through.js"}],[5493,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(e,t){var r=(t=t||{}).last||!1,n=!1;if("number"==typeof e){r=!0;var i=e;e=function(){return--i}}return function(t){function i(e){t(!0,(function(t){r=!1,e(t||!0)}))}return function(o,s){n&&!o?r?i(s):s(n):(n=o)?t(n,s):t(null,(function(t,o){(n=n||t)?s(n):e(o)?s(null,o):(n=!0,r?s(null,o):i(s))}))}}}}}},{package:"pull-stream",file:"/home/circleci/project/node_modules/pull-stream/throughs/take.js"}],[5487,{"../util/tester":5498,"./filter":5488},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("../util/tester"),i=e("./filter");t.exports=function(e){return e=n(e),i((function(t){return!e(t)}))}}}},{package:"pull-stream",file:"/home/circleci/project/node_modules/pull-stream/throughs/filter-not.js"}],[5495,{"../util/prop":5497,"./filter":5488},function(){with(this)return function(){"use strict";return function(e,t,r){function n(e){return e}var i=e("../util/prop"),o=e("./filter");t.exports=function(e,t){e=i(e)||n;var r={};return o((function(n){var i=e(n);return r[i]?!!t:(r[i]=!0,!t)}))}}}},{package:"pull-stream",file:"/home/circleci/project/node_modules/pull-stream/throughs/unique.js"}],[5492,{"./unique":5495},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./unique");t.exports=function(e){return n(e,!0)}}}},{package:"pull-stream",file:"/home/circleci/project/node_modules/pull-stream/throughs/non-unique.js"}],[4400,{"./lib/bytesToUuid":4398,"./lib/rng":4399},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./lib/rng"),i=e("./lib/bytesToUuid");t.exports=function(e,t,r){var o=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||n)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[o+a]=s[a];return t||i(s)}}}},{package:"uuid",file:"/home/circleci/project/node_modules/interface-datastore/node_modules/uuid/v4.js"}],[5445,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(){var e,t,r,n,i=function(i,o){e?e(i,o):i?(n=i,r=o):t=o};return i.resolve=function(i){if(e)throw new Error("already resolved");if(!(e=i))throw new Error("no read cannot resolve!"+e);t&&i(null,t),r&&i(n,r)},i.abort=function(e){i.resolve((function(t,r){r(e||!0)}))},i}}}},{package:"pull-defer",file:"/home/circleci/project/node_modules/pull-defer/source.js"}],[1766,{"./internal/createTester":1734,"./internal/doParallelLimit":1737,"lodash/identity":5144},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=s(e("./internal/createTester")),i=s(e("./internal/doParallelLimit")),o=s(e("lodash/identity"));function s(e){return e&&e.__esModule?e:{default:e}}r.default=(0,i.default)((0,n.default)(Boolean,o.default)),t.exports=r.default}}},{package:"async",file:"/home/circleci/project/node_modules/async/someLimit.js"}],[2238,{"./utils":2239,assert:1691,buffer:2072,debug:2243,"err-code":2345,"interface-datastore":4402},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){const{Key:n}=e("interface-datastore"),{encodeBase32:i,keyToTopic:o,topicToKey:s}=e("./utils"),a=e("err-code"),c=e("assert"),u=e("debug"),l=u("datastore-pubsub:publisher");l.error=u("datastore-pubsub:publisher:error");t.exports=class{constructor(e,t,r,n,i){c.strictEqual(typeof n,"object","missing validator"),c.strictEqual(typeof n.validate,"function","missing validate function"),c.strictEqual(typeof n.select,"function","missing select function"),i&&c.strictEqual(typeof i,"function","invalid subscriptionKeyFn received"),this._pubsub=e,this._datastore=t,this._peerId=r,this._validator=n,this._handleSubscriptionKeyFn=i,this._onMessage=this._onMessage.bind(this)}put(e,t,n){if(!r.isBuffer(e)){const e="datastore key does not have a valid format";return l.error(e),n(a(new Error(e),"ERR_INVALID_DATASTORE_KEY"))}if(!r.isBuffer(t)){const e="received value is not a buffer";return l.error(e),n(a(new Error(e),"ERR_INVALID_VALUE_RECEIVED"))}const i=o(e);l(`publish value for topic ${i}`),this._pubsub.publish(i,t,n)}get(e,t){if(!r.isBuffer(e)){const e="datastore key does not have a valid format";return l.error(e),t(a(new Error(e),"ERR_INVALID_DATASTORE_KEY"))}const n=o(e);this._pubsub.ls(((r,i)=>r?t(r):i&&Array.isArray(i)&&i.indexOf(n)>-1?this._getLocal(e,t):void this._pubsub.subscribe(n,this._onMessage,(r=>{if(r){const e=`cannot subscribe topic ${n}`;return l.error(e),t(a(new Error(e),"ERR_SUBSCRIBING_TOPIC"))}l(`subscribed values for key ${n}`),this._getLocal(e,t)}))))}unsubscribe(e){const t=o(e);this._pubsub.unsubscribe(t,this._onMessage)}_getLocal(e,t){const o=new n("/"+i(e),!1);this._datastore.get(o,((e,n)=>{if(e){if("ERR_NOT_FOUND"!==e.code){const e=`unexpected error getting the ipns record for ${o.toString()}`;return l.error(e),t(a(new Error(e),"ERR_UNEXPECTED_ERROR_GETTING_RECORD"))}const r=`local record requested was not found for ${o.toString()}`;return l.error(r),t(a(new Error(r),"ERR_NOT_FOUND"))}if(!r.isBuffer(n)){const e="found record that we couldn't convert to a value";return l.error(e),t(a(new Error(e),"ERR_INVALID_RECORD_RECEIVED"))}t(null,n)}))}_onMessage(e){const{data:t,from:r,topicIDs:n}=e;let i;try{i=s(n[0])}catch(e){return void l.error(e)}l(`message received for ${i} topic`),r!==this._peerId.toB58String()?this._handleSubscriptionKeyFn?this._handleSubscriptionKeyFn(i,((e,r)=>{e?l.error("message discarded by the subscriptionKeyFn"):this._storeIfSubscriptionIsBetter(r,t)})):this._storeIfSubscriptionIsBetter(i,t):l("message discarded as it is from the same peer")}_storeIfSubscriptionIsBetter(e,t){this._isBetter(e,t,((n,i)=>{!n&&i&&this._storeRecord(r.from(e),t)}))}_validateRecord(e,t,r){this._validator.validate(e,t,r)}_selectRecord(e,t,r){this._validator.select(e,t,((e,t)=>{if(e)return l.error(e),r(e);r(null,0===t)}))}_isBetter(e,t,r){this._validateRecord(t,e,((i,o)=>{if(i||!o){const e="record received through pubsub is not valid";return l.error(e),r(a(new Error(e),"ERR_NOT_VALID_RECORD"))}const s=new n(e);this._getLocal(s.toBuffer(),((e,n)=>e?r(null,!0):n.equals(t)?r(null,!1):void this._selectRecord(t,n,r)))}))}_storeRecord(e,t){const r=new n("/"+i(e),!1);this._datastore.put(r,t,(t=>{t?l.error(`record for ${e.toString()} could not be stored in the routing`):l(`record for ${e.toString()} was stored in the datastore`)}))}open(e){const t="open function was not implemented yet";return l.error(t),e(a(new Error(t),"ERR_NOT_IMPLEMENTED_YET"))}has(e,t){const r="has function was not implemented yet";return l.error(r),t(a(new Error(r),"ERR_NOT_IMPLEMENTED_YET"))}delete(e,t){const r="delete function was not implemented yet";return l.error(r),t(a(new Error(r),"ERR_NOT_IMPLEMENTED_YET"))}close(e){const t="close function was not implemented yet";return l.error(t),e(a(new Error(t),"ERR_NOT_IMPLEMENTED_YET"))}batch(){const e="batch function was not implemented yet";throw l.error(e),a(new Error(e),"ERR_NOT_IMPLEMENTED_YET")}query(){const e="query function was not implemented yet";throw l.error(e),a(new Error(e),"ERR_NOT_IMPLEMENTED_YET")}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"datastore-pubsub",file:"/home/circleci/project/node_modules/datastore-pubsub/src/index.js"}],[5732,{"truncate-utf8-bytes":5980},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("truncate-utf8-bytes"),i=/[\/\?<>\\:\*\|"]/g,o=/[\x00-\x1f\x80-\x9f]/g,s=/^\.+$/,a=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,c=/[\. ]+$/;function u(e,t){if("string"!=typeof e)throw new Error("Input must be string");var r=e.replace(i,t).replace(o,t).replace(s,t).replace(a,t).replace(c,t);return n(r,255)}t.exports=function(e,t){var r=t&&t.replacement||"",n=u(e,r);return""===r?n:u(n,"")}}}},{package:"sanitize-filename",file:"/home/circleci/project/node_modules/sanitize-filename/index.js"}],[4895,{"./util":4898,"async/detect":1722,"async/series":1763,"async/setImmediate":1764,"async/waterfall":1770,buffer:2072,"err-code":2345,"node-forge/lib/forge":5260,"node-forge/lib/pbe":5267,"node-forge/lib/pkcs7":5271},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){const n=e("async/setImmediate"),i=e("async/series"),o=e("async/detect"),s=e("async/waterfall");e("node-forge/lib/pkcs7"),e("node-forge/lib/pbe");const a=e("node-forge/lib/forge"),c=e("./util"),u=e("err-code");t.exports=class{constructor(e){if(!e)throw u(new Error("keychain is required"),"ERR_KEYCHAIN_REQUIRED");this.keychain=e}encrypt(e,t,o){const s=this,l=(e,t)=>n((()=>o(e,t)));if(!r.isBuffer(t))return l(u(new Error("Plain data must be a Buffer"),"ERR_INVALID_PARAMS"));i([t=>s.keychain.findKeyByName(e,t),t=>s.keychain._getPrivateKey(e,t)],((e,n)=>{if(e)return l(e);let i=n[0],u=n[1];try{const e=a.pki.decryptRsaPrivateKey(u,s.keychain._());c.certificateForKey(i,e,((e,n)=>{if(e)return o(e);const i=a.pkcs7.createEnvelopedData();i.addRecipient(n),i.content=a.util.createBuffer(t),i.encrypt();const s=a.asn1.toDer(i.toAsn1()).getBytes();l(null,r.from(s,"binary"))}))}catch(e){l(e)}}))}decrypt(e,t){const i=(e,r)=>n((()=>t(e,r)));if(!r.isBuffer(e))return i(u(new Error("CMS data is required"),"ERR_INVALID_PARAMS"));const c=this;let l;try{const t=a.util.createBuffer(e.toString("binary")),r=a.asn1.fromDer(t);l=a.pkcs7.messageFromAsn1(r)}catch(e){return i(u(new Error("Invalid CMS: "+e.message),"ERR_INVALID_CMS"))}const d=l.recipients.filter((e=>e.issuer.find((e=>"O"===e.shortName&&"ipfs"===e.value)))).filter((e=>e.issuer.find((e=>"CN"===e.shortName)))).map((e=>({recipient:e,keyId:e.issuer.find((e=>"CN"===e.shortName)).value})));o(d,((e,t)=>c.keychain.findKeyById(e.keyId,((e,r)=>t(null,!e&&r)))),((e,t)=>{if(e)return i(e);if(!t){const t=d.map((e=>e.keyId));return e=u(new Error("Decryption needs one of the key(s): "+t.join(", ")),"ERR_MISSING_KEYS",{missingKeys:t}),i(e)}s([e=>c.keychain.findKeyById(t.keyId,e),(e,t)=>c.keychain._getPrivateKey(e.name,t)],((e,n)=>{if(e)return i(e);const o=a.pki.decryptRsaPrivateKey(n,c.keychain._());l.decrypt(t.recipient,o),i(null,r.from(l.content.getBytes(),"binary"))}))}))}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"libp2p-keychain",file:"/home/circleci/project/node_modules/libp2p-keychain/src/cms.js"}],[4415,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={maxProvidersPerRequest:3,providerRequestTimeout:1e4,hasBlockTimeout:15e3,provideTimeout:15e3,kMaxPriority:Math.pow(2,31)-1,rebroadcastDelay:1e4,maxListeners:1e3}}}},{package:"ipfs-bitswap",file:"/home/circleci/project/node_modules/ipfs-bitswap/src/constants.js"}],[4424,{"./entry":4423,"./message.proto":4425,assert:1691,"async/each":1724,"async/nextTick":1758,cids:2109,"ipfs-block":4432,"lodash.isequalwith":4989,"multicodec/src/name-table":5211,"multihashing-async":4413,protons:5431,"varint-decoder":6020},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("protons"),i=e("ipfs-block"),o=e("lodash.isequalwith"),s=e("assert"),a=e("async/each"),c=e("async/nextTick"),u=e("cids"),l=e("multicodec/src/name-table"),d=e("varint-decoder"),f=e("multihashing-async"),h=n(e("./message.proto")),p=e("./entry");class m{constructor(e){this.full=e,this.wantlist=new Map,this.blocks=new Map}get empty(){return 0===this.blocks.size&&0===this.wantlist.size}addEntry(e,t,r){s(e&&u.isCID(e),"must be a valid cid");const n=e.buffer.toString(),i=this.wantlist.get(n);i?(i.priority=t,i.cancel=Boolean(r)):this.wantlist.set(n,new p(e,t,r))}addBlock(e){s(i.isBlock(e),"must be a valid cid");const t=e.cid.buffer.toString();this.blocks.set(t,e)}cancel(e){s(u.isCID(e),"must be a valid cid");const t=e.buffer.toString();this.wantlist.delete(t),this.addEntry(e,0,!0)}serializeToBitswap100(){const e={wantlist:{entries:Array.from(this.wantlist.values()).map((e=>({block:e.cid.buffer,priority:Number(e.priority),cancel:Boolean(e.cancel)})))},blocks:Array.from(this.blocks.values()).map((e=>e.data))};return this.full&&(e.wantlist.full=!0),h.Message.encode(e)}serializeToBitswap110(){const e={wantlist:{entries:Array.from(this.wantlist.values()).map((e=>({block:e.cid.buffer,priority:Number(e.priority),cancel:Boolean(e.cancel)})))},payload:[]};return this.full&&(e.wantlist.full=!0),this.blocks.forEach((t=>{e.payload.push({prefix:t.cid.prefix,data:t.data})})),h.Message.encode(e)}equals(e){const t=(e,t)=>{if(e.equals&&"function"==typeof e.equals)return e.equals(t)};return!(this.full!==e.full||!o(this.wantlist,e.wantlist,t)||!o(this.blocks,e.blocks,t))}get[Symbol.toStringTag](){const e=Array.from(this.wantlist.keys()),t=Array.from(this.blocks.keys());return`BitswapMessage <full: ${this.full}, list: ${e}, blocks: ${t}>`}}m.deserialize=(e,t)=>{let r;try{r=h.Message.decode(e)}catch(e){return c((()=>t(e)))}const n=r.wantlist&&r.wantlist.full||!1,o=new m(n);return r.wantlist&&r.wantlist.entries.forEach((e=>{let r;try{r=new u(e.block)}catch(e){return t(e)}o.addEntry(r,e.priority,e.cancel)})),r.blocks.length>0?a(r.blocks,((e,r)=>{f(e,"sha2-256",((n,s)=>{if(n)return r(n);let a;try{a=new u(s)}catch(n){return t(n)}o.addBlock(new i(e,a)),r()}))}),(e=>{if(e)return t(e);t(null,o)})):r.payload.length>0?a(r.payload,((e,t)=>{if(!e.prefix||!e.data)return c(t);const r=d(e.prefix),n=r[0],s=r[1],a=r[2];f(e.data,a,((r,a)=>{if(r)return t(r);let c;try{c=new u(n,l[s.toString("16")],a)}catch(r){return t(r)}o.addBlock(new i(e.data,c)),t()}))}),(e=>{if(e)return t(e);t(null,o)})):void t(null,o)},m.Entry=p,t.exports=m}}},{package:"ipfs-bitswap",file:"/home/circleci/project/node_modules/ipfs-bitswap/src/types/message/index.js"}],[4427,{"../../utils":4428,"./entry":4426},function(){with(this)return function(){"use strict";return function(e,t,r){const{sortBy:n}=e("../../utils"),i=e("./entry");class o{constructor(e){this.set=new Map,this._stats=e}get length(){return this.set.size}add(e,t){const r=e.buffer.toString(),n=this.set.get(r);n?(n.inc(),n.priority=t):(this.set.set(r,new i(e,t)),this._stats&&this._stats.push(null,"wantListSize",1))}remove(e){const t=e.buffer.toString(),r=this.set.get(t);r&&(r.dec(),r.hasRefs()||(this.set.delete(t),this._stats&&this._stats.push(null,"wantListSize",-1)))}removeForce(e){this.set.has(e)&&this.set.delete(e)}forEach(e){return this.set.forEach(e)}entries(){return this.set.entries()}sortedEntries(){return new Map(n((e=>e[1].key),Array.from(this.set.entries())))}contains(e){const t=e.buffer.toString();return this.set.get(t)}}o.Entry=i,t.exports=o}}},{package:"ipfs-bitswap",file:"/home/circleci/project/node_modules/ipfs-bitswap/src/types/wantlist/index.js"}],[4742,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(e,t,r){var n;return function(){if(!t)return e.apply(this,arguments);var i=this,o=arguments,s=r&&!n;return clearTimeout(n),n=setTimeout((function(){if(n=null,!s)return e.apply(i,o)}),t),s?e.apply(this,arguments):void 0}}}}},{package:"just-debounce-it",file:"/home/circleci/project/node_modules/just-debounce-it/index.js"}],[4417,{"../types/wantlist":4427},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("../types/wantlist");t.exports=class{constructor(e){this.partner=e,this.wantlist=new n,this.exchangeCount=0,this.sentToPeer=new Map,this.accounting={bytesSent:0,bytesRecv:0}}sentBytes(e){this.exchangeCount++,this.lastExchange=(new Date).getTime(),this.accounting.bytesSent+=e}receivedBytes(e){this.exchangeCount++,this.lastExchange=(new Date).getTime(),this.accounting.bytesRecv+=e}wants(e,t){this.wantlist.add(e,t)}cancelWant(e){this.wantlist.remove(e)}wantlistContains(e){return this.wantlist.contains(e)}debtRatio(){return this.accounting.bytesSent/(this.accounting.bytesRecv+1)}}}}},{package:"ipfs-bitswap",file:"/home/circleci/project/node_modules/ipfs-bitswap/src/decision-engine/ledger.js"}],[4422,{"bignumber.js":4409,events:2073,"moving-average":5194},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("events"),i=e("bignumber.js"),o=e("moving-average");t.exports=class extends n{constructor(e,t){super(),this._options=t,this._queue=[],this._stats={},this._frequencyLastTime=Date.now(),this._frequencyAccumulators={},this._movingAverages={},this._update=this._update.bind(this),e.forEach((e=>{this._stats[e]=i(0),this._movingAverages[e]={},this._options.movingAverageIntervals.forEach((t=>{(this._movingAverages[e][t]=o(t)).push(this._frequencyLastTime,0)}))})),this._enabled=this._options.enabled}enable(){this._enabled=!0}disable(){this._disabled=!0}stop(){this._timeout&&clearTimeout(this._timeout)}get snapshot(){return Object.assign({},this._stats)}get movingAverages(){return Object.assign({},this._movingAverages)}push(e,t){this._enabled&&(this._queue.push([e,t,Date.now()]),this._resetComputeTimeout())}_resetComputeTimeout(){this._timeout&&clearTimeout(this._timeout),this._timeout=setTimeout(this._update,this._nextTimeout())}_nextTimeout(){const e=this._queue.length/this._options.computeThrottleMaxQueueSize;return Math.max(this._options.computeThrottleTimeout*(1-e),0)}_update(){if(this._timeout=null,this._queue.length){let e;for(;this._queue.length;){const t=e=this._queue.shift();this._applyOp(t)}this._updateFrequency(e[2]),this.emit("update",this._stats)}}_updateFrequency(e){const t=e-this._frequencyLastTime;Object.keys(this._stats).forEach((r=>{this._updateFrequencyFor(r,t,e)})),this._frequencyLastTime=e}_updateFrequencyFor(e,t,r){const n=this._frequencyAccumulators[e]||0;this._frequencyAccumulators[e]=0;const i=n/t*1e3;let s=this._movingAverages[e];s||(s=this._movingAverages[e]={}),this._options.movingAverageIntervals.forEach((e=>{let t=s[e];t||(t=s[e]=o(e)),t.push(r,i)}))}_applyOp(e){const t=e[0],r=e[1];if("number"!=typeof r)throw new Error("invalid increment number:",r);let n;n=this._stats.hasOwnProperty(t)?this._stats[t]:this._stats[t]=i(0),this._stats[t]=n.plus(r),this._frequencyAccumulators[t]||(this._frequencyAccumulators[t]=0),this._frequencyAccumulators[t]+=r}}}}},{package:"ipfs-bitswap",file:"/home/circleci/project/node_modules/ipfs-bitswap/src/stats/stat.js"}],[4430,{"../types/message":4424,"../utils":4428,"just-debounce-it":4742},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("just-debounce-it"),i=e("../types/message"),o=e("../utils").logger;t.exports=class{constructor(e,t,r){this.peerId=t,this.network=r,this.refcnt=1,this._entries=[],this._log=o(e,"msgqueue",t.toB58String().slice(0,8)),this.sendEntries=n(this._sendEntries.bind(this),200)}addMessage(e){e.empty||this.send(e)}addEntries(e){this._entries=this._entries.concat(e),this.sendEntries()}_sendEntries(){if(!this._entries.length)return;const e=new i(!1);this._entries.forEach((t=>{t.cancel?e.cancel(t.cid):e.addEntry(t.cid,t.priority)})),this._entries=[],this.addMessage(e)}send(e){this.network.connectTo(this.peerId,(t=>{t?this._log.error("cant connect to peer %s: %s",this.peerId.toB58String(),t.message):(this._log("sending message"),this.network.sendMessage(this.peerId,e,(e=>{e&&this._log.error("send error: %s",e.message)})))}))}}}}},{package:"ipfs-bitswap",file:"/home/circleci/project/node_modules/ipfs-bitswap/src/want-manager/msg-queue.js"}],[5450,{"./decode":5448,"./encode":5449},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("./encode"),i=e("./decode");r.encode=n,r.decode=i.decode,r.decodeFromReader=i.decodeFromReader}}},{package:"pull-length-prefixed",file:"/home/circleci/project/node_modules/pull-length-prefixed/src/index.js"}],[4917,{"../../is-buffer/index.js":4677,"./record.proto":4918,"./utils":4922,assert:1691,protons:5431},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){const n=e("protons"),i=e("assert"),o=n(e("./record.proto")).Record,s=e("./utils");class a{constructor(e,t,n){e&&i(r.isBuffer(e),"key must be a Buffer"),t&&i(r.isBuffer(t),"value must be a buffer"),this.key=e,this.value=t,this.timeReceived=n}serialize(){return o.encode(this.prepareSerialize())}prepareSerialize(){return{key:this.key,value:this.value,timeReceived:this.timeReceived&&s.toRFC3339(this.timeReceived)}}static deserialize(e){const t=o.decode(e);return a.fromDeserialized(t)}static fromDeserialized(e){let t;e.timeReceived&&(t=s.parseRFC3339(e.timeReceived));return new a(e.key,e.value,t)}}t.exports=a}).call(this)}).call(this,{isBuffer:e("../../is-buffer/index.js")})}}},{package:"libp2p-record",file:"/home/circleci/project/node_modules/libp2p-record/src/record.js"}],[4919,{"./selectors":4920,buffer:2072,"buffer-split":2084,"err-code":2345},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){const n=e("buffer-split"),i=e("err-code");t.exports={bestRecord:(e,t,o)=>{if(0===o.length){throw i(new Error("No records given"),"ERR_NO_RECORDS_RECEIVED")}const s=n(t,r.from("/"));if(s.length<3){throw i(new Error("Record key does not have a selector function"),"ERR_NO_SELECTOR_FUNCTION_FOR_RECORD_KEY")}const a=e[s[1].toString()];if(!a){const e=`Unrecognized key prefix: ${s[1]}`;throw i(new Error(e),"ERR_UNRECOGNIZED_KEY_PREFIX")}return a(t,o)},selectors:e("./selectors")}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"libp2p-record",file:"/home/circleci/project/node_modules/libp2p-record/src/selection.js"}],[4923,{"./validators":4924,buffer:2072,"buffer-split":2084,"err-code":2345},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){const n=e("buffer-split"),i=e("err-code");t.exports={verifyRecord:(e,t,o)=>{const s=t.key,a=n(s,r.from("/"));if(a.length<3)return o();const c=e[a[1].toString()];if(!c){return o(i(new Error("Invalid record keytype"),"ERR_INVALID_RECORD_KEY_TYPE"))}c.func(s,t.value,o)},validators:e("./validators")}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"libp2p-record",file:"/home/circleci/project/node_modules/libp2p-record/src/validator.js"}],[4675,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports.toRFC3339=e=>`${e.getUTCFullYear()}-${String(e.getUTCMonth()+1).padStart(2,"0")}-${String(e.getUTCDate()).padStart(2,"0")}T${String(e.getUTCHours()).padStart(2,"0")}:${String(e.getUTCMinutes()).padStart(2,"0")}:${String(e.getUTCSeconds()).padStart(2,"0")}.${1e3*e.getUTCMilliseconds()*1e3}Z`,t.exports.parseRFC3339=e=>{const t=new RegExp("(\\d{4})-(\\d{2})-(\\d{2})T"+"(\\d{2}):(\\d{2}):(\\d{2})"+"\\.(\\d+)Z"),r=String(e).trim().match(t);if(!r)throw new Error("Invalid format");const n=parseInt(r[1],10),i=parseInt(r[2],10)-1,o=parseInt(r[3],10),s=parseInt(r[4],10),a=parseInt(r[5],10),c=parseInt(r[6],10),u=parseInt(r[7].slice(0,-6),10);return new Date(Date.UTC(n,i,o,s,a,c,u))}}}},{package:"ipns",file:"/home/circleci/project/node_modules/ipns/src/utils.js"}],[4672,{},function(){with(this)return function(){"use strict";return function(e,t,r){r.ERR_IPNS_EXPIRED_RECORD="ERR_IPNS_EXPIRED_RECORD",r.ERR_UNRECOGNIZED_VALIDITY="ERR_UNRECOGNIZED_VALIDITY",r.ERR_SIGNATURE_CREATION="ERR_SIGNATURE_CREATION",r.ERR_SIGNATURE_VERIFICATION="ERR_SIGNATURE_VERIFICATION",r.ERR_UNRECOGNIZED_FORMAT="ERR_UNRECOGNIZED_FORMAT",r.ERR_PEER_ID_FROM_PUBLIC_KEY="ERR_PEER_ID_FROM_PUBLIC_KEY",r.ERR_PUBLIC_KEY_FROM_ID="ERR_PUBLIC_KEY_FROM_ID",r.ERR_UNDEFINED_PARAMETER="ERR_UNDEFINED_PARAMETER"}}},{package:"ipns",file:"/home/circleci/project/node_modules/ipns/src/errors.js"}],[5928,{},function(){with(this)return function(){"use strict";return function(e,t,r){
/**
 * Timestamp for 64-bit time_t, nanosecond precision and strftime
 *
 * @author Yusuke Kawasaki
 * @license MIT
 * @see https://github.com/kawanet/timestamp-nano
 */
!function(){void 0!==t&&(t.exports=_);var e=86400,r=3200,n=1168776,i=100982246400,o=1e3*i,s=864e13,a=4294967296,c=1e6,u=1e9,l="000000000",d=Math.trunc||function(e){var t=e-e%1;return 0===t&&(e<0||0===e&&1/e!=1/0)?-0:t},f=_.prototype;_.fromDate=function(e){return new _(+e)},_.fromInt64BE=v(0,1,2,3,0,4),_.fromInt64LE=v(3,2,1,0,4,0),_.fromString=function(e){var t,r=new _,n=(e+="").replace(/^\s*[+\-]?\d+/,(function(e){var t=+e,n=1970+(t-1970)%400;return r.year=t-n,n})).replace(/(?:Z|([+\-]\d{2}):?(\d{2}))$/,(function(e,r,n){return r<0&&(n*=-1),t=6e4*(60*+r+ +n),""})).replace(/\.\d+$/,(function(e){return r.nano=+(e+l).substr(1,9),""})).split(/\D+/);n.length>1?n[1]--:n[1]=0;if(r.time=t=Date.UTC.apply(Date,n)-(t||0),isNaN(t))throw new TypeError("Invalid Date");return b(r)},_.fromTimeT=function(e){return y(e,0)},f.year=0,f.time=0,f.nano=0,f.addNano=function(e){return this.nano+=+e||0,this},f.getNano=function(){var e=b(this);return(e.time%1e3*c+ +e.nano+u)%u},f.getTimeT=function(){var t=b(this),i=Math.floor(t.time/1e3),o=t.year;o&&(i+=o*n*e/r);return i},f.getYear=function(){return this.toDate().getUTCFullYear()+this.year},f.toDate=function(){return g(b(this).time)},f.toJSON=function(){return this.toString().replace(/0{1,6}Z$/,"Z")},f.toString=function(e){var t=this,r=t.toDate(),n={H:function(){return k(r.getUTCHours())},L:function(){return S(r.getUTCMilliseconds(),3)},M:function(){return k(r.getUTCMinutes())},N:function(){return S(t.getNano(),9)},S:function(){return k(r.getUTCSeconds())},Y:function(){var e=t.getYear();return e>999999?"+"+e:e>9999?"+"+S(e,6):e>=0?S(e,4):e>=-999999?"-"+S(-e,6):e},a:function(){return p[r.getUTCDay()]},b:function(){return h[r.getUTCMonth()]},d:function(){return k(r.getUTCDate())},e:function(){return e=r.getUTCDate(),(e>9?"":" ")+(0|e);var e},m:function(){return k(r.getUTCMonth()+1)}};return function e(t){return t.replace(/%./g,(function(t){var r=t[1],i=m[r],o=n[r];return i?e(i):o?o():t}))}(e||"%Y-%m-%dT%H:%M:%S.%NZ")},f.writeInt64BE=w(0,1,2,3,0,4),f.writeInt64LE=w(3,2,1,0,4,0);var h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],p=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],m={"%":"%",F:"%Y-%m-%d",n:"\n",R:"%H:%M",T:"%H:%M:%S",t:"\t",X:"%T",Z:"GMT",z:"+0000"};return _;function _(e,t,r){var n=this;if(!(n instanceof _))return new _(e,t,r);n.time=+e||0,n.nano=+t||0,n.year=+r||0,b(n)}function b(e){var t,n,i=e.year,a=e.time,u=e.nano;if(u<0||c<=u){var l=Math.floor(u/c);u-=l*c,a+=l,t=1}var f=i%r;if(a<-s||s<a||f){(n=d(a/o))&&(i+=n*r,a-=n*o);var h=g(a);h.setUTCFullYear(f+h.getUTCFullYear());var p=(a=+h)+(n=d((i-=f)/r))*o;n&&-s<=p&&p<=s&&(i-=n*r,a=p),t=1}return t&&(e.year=i,e.time=a,e.nano=u),e}function g(e){var t=new Date(0);return t.setTime(e),t}function y(e,t){t|=0,e=+e||0;var n=d((t*=a)/i)+d(e/i),o=t%i+e%i,s=d(o/i);return s&&(n+=s,o-=s*i),new _(1e3*o,0,n*r)}function w(e,t,r,n,i,o){return function(e,t){var r=b(this);e||(e=new Array(8));E(e,t|=0);var n=Math.floor(r.time/1e3),c=31556952*r.year,u=d(c/a)+d(n/a),l=c%a+n%a,f=Math.floor(l/a);f&&(u+=f,l-=f*a);return s(e,t+i,u),s(e,t+o,l),e};function s(i,o,s){i[o+e]=s>>24&255,i[o+t]=s>>16&255,i[o+r]=s>>8&255,i[o+n]=255&s}}function v(e,t,r,n,i,o){return function(e,t){E(e,t|=0);var r=s(e,t+i);return y(s(e,t+o),r)};function s(i,o){return 16777216*i[o+e]+(i[o+t]<<16|i[o+r]<<8|i[o+n])}}function E(e,t){var r=e&&e.length;if(null==r)throw new TypeError("Invalid Buffer");if(r<t+8)throw new RangeError("Out of range")}function k(e){return(e>9?"":"0")+(0|e)}function S(e,t){return(l+(0|e)).substr(-t)}}()}}},{package:"timestamp-nano",file:"/home/circleci/project/node_modules/timestamp-nano/timestamp.js"}],[4674,{protons:5431},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("protons");t.exports=n('\nmessage IpnsEntry {\n  enum ValidityType {\n\t\tEOL = 0; // setting an EOL says "this record is valid until..."\n\t}\n\n  required bytes value = 1;\n\trequired bytes signature = 2;\n\n\toptional ValidityType validityType = 3;\n\toptional bytes validity = 4;\n\n\toptional uint64 sequence = 5;\n\n\toptional uint64 ttl = 6;\n\n\t// in order for nodes to properly validate a record upon receipt, they need the public\n\t// key associated with it. For old RSA keys, its easiest if we just send this as part of\n\t// the record itself. For newer ed25519 keys, the public key can be embedded in the\n\t// peerID, making this field unnecessary.\n\toptional bytes pubKey = 7;\n}\n').IpnsEntry}}},{package:"ipns",file:"/home/circleci/project/node_modules/ipns/src/pb/ipns.proto.js"}],[5454,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports="/mplex/6.7.0"}}},{package:"pull-mplex",file:"/home/circleci/project/node_modules/pull-mplex/src/codec.js"}],[5440,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(e){var t,r,n=!1,i=!1;function o(){if(e)return e(n&&!0!==n?n:i&&!0!==i?i:null)}function s(){i=i||!0,function(e){o();var r=t;t=null,r&&r(n||i)}(),r&&r(n,(function(e){t&&t(e||n)}))}function a(e){return r=e,function(r,s){if(t=s,r&&(n=r),i)return s(i);n||(!0,e(r,(function(s,a){if(!1,n)return!r&&e(n,(function(){}));if(t){var c=t;t=null,s?(i=n||s,o(),c(n||s)):c(n||s,a)}})))}}return a.abort=function(e){i||(n=e||!0,s())},a}}}},{package:"pull-abortable",file:"/home/circleci/project/node_modules/pull-abortable/index.js"}],[5459,{"./codec":5454,"async/nextTick":1758,debug:2243,events:2073,"interface-connection":4397},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("events").EventEmitter,i=e("interface-connection").Connection,o=e("async/nextTick"),s=e("debug"),a=e("./codec"),c=s("libp2p-mplex:muxer");function u(){}c.err=s("libp2p-mplex:muxer:error");t.exports=class extends n{constructor(e,t){super(),this.conn=e,this.multiplex=t,this.multicodec=a,t.on("close",(()=>this.emit("close"))),t.on("error",(e=>this.emit("error",e))),t.on("stream",(e=>{e.on("error",(e=>{c.err("receiver stream errored",e)})),this.emit("stream",new i(e,this.conn))}))}newStream(e){e=e||u;let t=this.multiplex.createStream();t.on("error",(e=>{c.err("initiator stream errored",e)}));const r=new i(t,this.conn);return o(e,null,r),r}end(e){if(e=e||u,this.multiplex.destroyed)return o(e);this.multiplex.once("close",e),this.multiplex.close()}}}}},{package:"pull-mplex",file:"/home/circleci/project/node_modules/pull-mplex/src/muxer.js"}],[5458,{"./channel":5453,"./coder":5455,"./consts":5456,"./util":5460,"async/nextTick":1758,buffer:2072,debug:2243,events:2073,looper:5452,"pull-pushable":5462,"pull-stream":5468,"pull-through":5499},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){const n=e("pull-stream"),i=e("pull-pushable"),o=e("pull-through"),s=e("looper"),a=e("async/nextTick"),c=e("events"),u=e("debug"),{emitError:l,emitStream:d}=e("./util"),{Types:f,MAX_MSG_SIZE:h}=e("./consts"),p=e("./channel"),m=e("./coder"),_=u("pull-plex");_.err=u("pull-plex:err");t.exports=class extends c{constructor(e){super(),"boolean"==typeof e&&(e={initiator:e}),e={initiator:!0,onChan:null,maxChannels:1e4,maxMsgSize:h,lazy:!1,...e},this._maxChannels=e.maxChannels,this._maxMsgSize=e.maxMsgSize,this._lazy=e.lazy,this._initiator=Boolean(e.initiator),this._chanId=0,this._inChannels=new Array(this._maxChannels/2),this._outChannels=new Array(this._maxChannels/2),this._endedRemote=!1,this._endedLocal=!1,this._chandata=i((e=>{this._log("mplex ended"),this._endedRemote=!0,this.close(e)})),e.onChan&&this.on("stream",(t=>e.onChan(t,t.id))),this.source=n(this._chandata,m.encode());const t=this;this.sink=n(o((function(e){if(e&&e.length>=t._maxMsgSize)return a(l,t,new Error("message too large!")),this.queue(null);this.queue(e)})),m.decode(),(e=>{const r=s((()=>{e(null,((e,n)=>{if(!t._endedLocal){if(!0===e)return t.close();if(e)return t.destroy(e);t._handle(n),r()}}))}));r()}))}_log(e,t){_({op:e,initiator:this._initiator,endedLocal:this._endedLocal,endedRemote:this._endedRemote,data:t&&t.toString()||""})}get initiator(){return this._initiator}close(e){if(this._log("close",e),this.destroyed)return;e&&a(l,this,e),e=e||"Underlying stream has been closed",this._endedLocal=!0;const t=Array.prototype.concat(this._outChannels,this._inChannels);for(let r of t)r&&r.close(e);this.emit("close")}get destroyed(){return this._endedRemote&&this._endedLocal}destroy(e){e=e||new Error("Underlying stream has been closed"),this._chandata.end(e),this.close(e)}push(e){e.data&&r.byteLength(e.data)>this._maxMsgSize&&this._chandata.end(new Error("message too large!")),this._chandata.push(e)}createStream(e){"number"==typeof e&&(e=e.toString());const t=this._newStream(null,!0,!1,e,this._outChannels);return this._lazy||t.openChan(e),t}_newStream(e,t,r,n,i){if(this.chanSize>=this._maxChannels)return void this.emit("error",new Error("max channels exceeded"));if("string"==typeof t&&(n=t,t=!1,r=!1),"string"==typeof r&&(n=r,r=!1),i[e="number"==typeof e?e:this._chanId++])return void this.emit("error",new Error(`channel with id ${e} already exist!`));const o=new p({id:e,name:n,plex:this,initiator:t,open:r||!1});return this._addChan(e,o,i)}_addChan(e,t,r){return t.once("close",(()=>{r[e]=null})),t.once("error",(e=>{_.err("channel error",e)})),r[e]=t,t}get chanSize(){return this._inChannels.size+this._outChannels.size}_handle(e){this._log("_handle",e);const{id:t,type:r,data:n}=e;switch(r){case f.NEW:{const e=this._newStream(t,!1,!0,n.toString(),this._inChannels);a(d,this,e,t);break}case f.OUT_MESSAGE:case f.IN_MESSAGE:{const e=(1&r?this._outChannels:this._inChannels)[t];e&&e.push(n);break}case f.OUT_CLOSE:case f.IN_CLOSE:{const e=(1&r?this._outChannels:this._inChannels)[t];e&&e.close();break}case f.OUT_RESET:case f.IN_RESET:{const e=(1&r?this._outChannels:this._inChannels)[t];e&&e.destroy();break}default:a(l,this,new Error("Invalid message type"))}}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"pull-mplex",file:"/home/circleci/project/node_modules/pull-mplex/src/mplex.js"}],[4397,{"./connection":4396},function(){with(this)return function(){"use strict";return function(e,t,r){r.Connection=e("./connection")}}},{package:"interface-connection",file:"/home/circleci/project/node_modules/interface-connection/src/index.js"}],[4973,{"interface-connection":4397,multiaddr:5199,os:5354,"pull-ws/server":5505},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("interface-connection").Connection,i=e("multiaddr"),o=e("os");function s(){}const a=e("pull-ws/server")||s;t.exports=(e,t)=>{const r=a(e,(e=>{e.getObservedAddrs=e=>e(null,[]),t(new n(e))}));let c;return r._listen=r.listen,r.listen=(e,t)=>{t=t||s,c=e,e.protoNames().includes("ipfs")&&(e=e.decapsulate("ipfs")),r._listen(e.toOptions(),t)},r.getAddrs=e=>{const t=[],n=r.address();if(!n)return e(new Error("Listener is not ready yet"));let s=c.getPeerId();if(-1!==c.toString().indexOf("ip4")){let e=c.decapsulate("tcp");if(e=e.encapsulate("/tcp/"+n.port+"/ws"),c.getPeerId()&&(e=e.encapsulate("/ipfs/"+s)),-1!==e.toString().indexOf("0.0.0.0")){const r=o.networkInterfaces();Object.keys(r).forEach((n=>{r[n].forEach((r=>{"IPv4"===r.family&&t.push(i(e.toString().replace("0.0.0.0",r.address)))}))}))}else t.push(e)}e(null,t)},r}}}},{package:"libp2p-websockets",file:"/home/circleci/project/node_modules/libp2p-websockets/src/listener.js"}],[5501,{"./duplex":5502,"./web-socket":5508,"./ws-url":5509},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./web-socket"),i=e("./duplex"),o=e("./ws-url");function s(e){return"function"==typeof e}t.exports=function(e,t){s(t)&&(t={onConnect:t});var r="undefined"==typeof window?{}:window.location,a=o(e,r),c=new n(a),u=i(c,t);return u.remoteAddress=a,u.close=function(e){s(e)&&c.addEventListener("close",e),c.close()},c.addEventListener("open",(function(e){t&&s(t.onConnect)&&t.onConnect(null,u)})),u},t.exports.connect=t.exports}}},{package:"pull-ws",file:"/home/circleci/project/node_modules/pull-ws/client.js"}],[4868,{},function(){with(this)return function(){"use strict";return function(e,t,r){const n=r.second=1e3,i=r.minute=60*n,o=r.hour=60*i;r.MAX_RECORD_AGE=36*o,r.PROTOCOL_DHT="/ipfs/kad/1.0.0",r.PROVIDERS_KEY_PREFIX="/providers/",r.PROVIDERS_LRU_CACHE_SIZE=256,r.PROVIDERS_VALIDITY=24*o,r.PROVIDERS_CLEANUP_INTERVAL=o,r.READ_MESSAGE_TIMEOUT=10*n,r.GET_MANY_RECORD_COUNT=16,r.K=20,r.ALPHA=3,r.maxMessageSize=2<<22,r.defaultRandomWalk={enabled:!0,queriesPerPeriod:1,interval:5*i,timeout:10*n,delay:10*n}}}},{package:"libp2p-kad-dht",file:"/home/circleci/project/node_modules/libp2p-kad-dht/src/constants.js"}],[4879,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=class{constructor(){this.queries=new Set,this.running=!1}queryStarted(e){this.queries.add(e)}queryCompleted(e){this.queries.delete(e)}start(){this.running=!0}stop(){this.running=!1;for(const e of this.queries)e.stop();this.queries.clear()}}}}},{package:"libp2p-kad-dht",file:"/home/circleci/project/node_modules/libp2p-kad-dht/src/query-manager.js"}],[1731,{"./internal/doParallel":1736,"./internal/filter":1739},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=o(e("./internal/filter")),i=o(e("./internal/doParallel"));function o(e){return e&&e.__esModule?e:{default:e}}r.default=(0,i.default)(n.default),t.exports=r.default}}},{package:"async",file:"/home/circleci/project/node_modules/async/filter.js"}],[1768,{"./internal/initialParams":1742,"./internal/wrapAsync":1754},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t,r){var o=(0,i.default)(e);return(0,n.default)((function(n,i){var s,a=!1;n.push((function(){a||(i.apply(null,arguments),clearTimeout(s))})),s=setTimeout((function(){var t=e.name||"anonymous",n=new Error('Callback function "'+t+'" timed out.');n.code="ETIMEDOUT",r&&(n.info=r),a=!0,i(n)}),t),o.apply(null,n)}))};var n=o(e("./internal/initialParams")),i=o(e("./internal/wrapAsync"));function o(e){return e&&e.__esModule?e:{default:e}}t.exports=r.default}}},{package:"async",file:"/home/circleci/project/node_modules/async/timeout.js"}],[4877,{"./constants":4868,"./limited-peer-list":4870,"./message":4872,"./query":4880,"./utils":4894,"async/timeout":1768,"err-code":2345,"libp2p-record":4916,"peer-id":5401,"peer-info":5402,"promise-to-callback":5413,"promisify-es6":5415},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("peer-id"),i=e("libp2p-record"),o=e("async/timeout"),s=e("peer-info"),a=e("promisify-es6"),c=e("promise-to-callback"),u=e("err-code"),l=e("./utils"),d=e("./message"),f=e("./constants"),h=e("./query"),p=e("./limited-peer-list"),m=i.Record;t.exports=e=>({_nearestPeersToQuery(e,t){c(this._nearestPeersToQueryAsync(e))(t)},async _nearestPeersToQueryAsync(t){const r=await a(l.convertBuffer)(t.key);return e.routingTable.closestPeers(r,e.kBucketSize).map((t=>e.peerBook.has(t)?e.peerBook.get(t):e.peerBook.put(new s(t))))},_betterPeersToQuery(e,t,r){c(this._betterPeersToQueryAsync(e,t))(r)},async _betterPeersToQueryAsync(t,r){e._log("betterPeersToQuery");return(await e._nearestPeersToQueryAsync(t)).filter((t=>e._isSelf(t.id)?(e._log.error("trying to return self as closer"),!1):!t.id.isEqual(r.id)))},_checkLocalDatastore(e,t){c(this._checkLocalDatastoreAsync(e))(t)},async _checkLocalDatastoreAsync(t){e._log("checkLocalDatastore: %b",t);const r=l.bufferToKey(t);let n;try{n=await a((t=>e.datastore.get(r,t)))()}catch(e){if("ERR_NOT_FOUND"===e.code)return undefined;throw e}const i=m.deserialize(n);if(!i)throw u("Invalid record","ERR_INVALID_RECORD");return null==i.timeReceived||l.now()-i.timeReceived>f.MAX_RECORD_AGE?(await a((t=>e.datastore.delete(r,t)))(),undefined):i},_add(e,t){c(this._addAsync(e))((e=>t(e)))},_addAsync:async t=>(t=e.peerBook.put(t),await a((r=>e.routingTable.add(t.id,r)))(),undefined),_verifyRecordLocally(e,t){c(this._verifyRecordLocallyAsync(e))((e=>t(e)))},async _verifyRecordLocallyAsync(t){e._log("verifyRecordLocally"),await a((r=>i.validator.verifyRecord(e.validators,t,r)))()},_closerPeersSingle(e,t,r){c(this._closerPeersSingleAsync(e,t))(r)},async _closerPeersSingleAsync(t,r){e._log("_closerPeersSingle %b from %s",t,r.toB58String());return(await e._findPeerSingleAsync(r,new n(t))).closerPeers.filter((t=>!e._isSelf(t.id))).map((t=>e.peerBook.put(t)))},_isSelf:t=>t&&e.peerInfo.id.id.equals(t.id),_findPeerSingle(e,t,r){c(this._findPeerSingleAsync(e,t))(r)},async _findPeerSingleAsync(t,r){e._log("_findPeerSingle %s",t.toB58String());const n=new d(d.TYPES.FIND_NODE,r.id,0);return a((r=>e.network.sendRequest(t,n,r)))()},_putValueToPeer(e,t,r,n){c(this._putValueToPeerAsync(e,t,r))(n)},async _putValueToPeerAsync(t,r,n){const i=new d(d.TYPES.PUT_VALUE,t,0);i.record=r;if(!(await a((t=>e.network.sendRequest(n,i,t)))()).record.value.equals(m.deserialize(r).value))throw u(new Error("value not put correctly"),"ERR_PUT_VALUE_INVALID")},_putLocal(e,t,r){c(this._putLocalAsync(e,t))((e=>r(e)))},_putLocalAsync:async(t,r)=>(await a((n=>e.datastore.put(l.bufferToKey(t),r,n)))(),undefined),_get(e,t,r){c(this._getAsync(e,t))(r)},async _getAsync(t,r){e._log("_get %b",t);const n=await a((n=>e.getMany(t,f.GET_MANY_RECORD_COUNT,r,n)))(),o=n.map((e=>e.val));let s=0;try{s=i.selection.bestRecord(e.selectors,t,o)}catch(e){if("ERR_NO_SELECTOR_FUNCTION_FOR_RECORD_KEY"!==e.code)throw e}const c=o[s];if(e._log("GetValue %b %s",t,c),!c)throw u(new Error("best value was not found"),"ERR_NOT_FOUND");return await this._sendCorrectionRecord(t,n,c),c},async _sendCorrectionRecord(t,r,n){const i=await a((e=>l.createPutRecord(t,n,e)))();return Promise.all(r.map((async r=>{if(!r.val.equals(n))if(e._isSelf(r.from))try{await e._putLocalAsync(t,i)}catch(t){e._log.error("Failed error correcting self",t)}else try{await e._putValueToPeerAsync(t,i,r.from)}catch(t){e._log.error("Failed error correcting entry",t)}})))},_getLocal(e,t){c(this._getLocalAsync(e))(t)},async _getLocalAsync(t){e._log("getLocal %b",t);const r=await a((r=>e.datastore.get(l.bufferToKey(t),r)))();e._log("found %b in local datastore",t);const n=m.deserialize(r);return await e._verifyRecordLocallyAsync(n),n},_getValueOrPeers(e,t,r){c(this._getValueOrPeersAsync(e,t))(((e,t)=>{if(e)return r(e);r(null,t.record,t.peers)}))},async _getValueOrPeersAsync(t,r){const n=await a((n=>e._getValueSingle(t,r,n)))(),i=n.closerPeers,o=n.record;if(o){try{await e._verifyRecordOnlineAsync(o)}catch(t){const r="invalid record received, discarded";throw e._log(r),u(new Error(r),"ERR_INVALID_RECORD")}return{record:o,peers:i}}if(i.length>0)return{peers:i};throw u(new Error("Not found"),"ERR_NOT_FOUND")},_getValueSingle(e,t,r){c(this._getValueSingleAsync(e,t))(r)},async _getValueSingleAsync(t,r){const n=new d(d.TYPES.GET_VALUE,r,0);return a((r=>e.network.sendRequest(t,n,r)))()},_verifyRecordOnline(e,t){c(this._verifyRecordOnlineAsync(e))((e=>t(e)))},async _verifyRecordOnlineAsync(t){await a((r=>i.validator.verifyRecord(e.validators,t,r)))()},_getPublicKeyFromNode(e,t){c(this._getPublicKeyFromNodeAsync(e))(t)},async _getPublicKeyFromNodeAsync(t){const r=l.keyForPublicKey(t),i=await a((n=>e._getValueSingle(t,r,n)))();if(!i.record||!i.record.value)throw u(`Node not responding with its public key: ${t.toB58String()}`,"ERR_INVALID_RECORD");const o=await a((e=>n.createFromPubKey(i.record.value,e)))();if(!o.isEqual(t))throw u("public key does not match id","ERR_PUBLIC_KEY_DOES_NOT_MATCH_ID");return o.pubKey},_findNProviders(e,t,r,n){c(this._findNProvidersAsync(e,t,r))(n)},async _findNProvidersAsync(t,r,n){const i=new p(n);if((await e.providers.getProviders(t)).forEach((t=>{let r;r=e.peerBook.has(t)?e.peerBook.get(t):e.peerBook.put(new s(t)),i.push(r)})),i.length>=n)return i.toArray();const d=[],f=new h(e,t.buffer,((r,o)=>{const s=l.pathSize(n-i.length,o),a=new p(s);return d.push(a),async r=>{const n=await e._findProvidersSingleAsync(r,t),i=n.providerPeers;return e._log("(%s) found %s provider entries",e.peerInfo.id.toB58String(),i.length),i.forEach((t=>{a.push(e.peerBook.put(t))})),a.length>=s?{pathComplete:!0}:{closerPeers:n.closerPeers}}})),m=e.routingTable.closestPeers(t.buffer,e.kBucketSize);try{await a((e=>o((e=>{c(f.run(m))(e)}),r)(e)))()}catch(e){if("ETIMEDOUT"!==e.code)throw e}finally{f.stop()}if(d.forEach((e=>{e.toArray().forEach((e=>{i.push(e)}))})),0===i.length)throw u(new Error("no providers found"),"ERR_NOT_FOUND");return i.toArray()},_findProvidersSingle(e,t,r){c(this._findProvidersSingleAsync(e,t))(r)},async _findProvidersSingleAsync(t,r){const n=new d(d.TYPES.GET_PROVIDERS,r.buffer,0);return a((r=>e.network.sendRequest(t,n,r)))()}})}}},{package:"libp2p-kad-dht",file:"/home/circleci/project/node_modules/libp2p-kad-dht/src/private.js"}],[4872,{"../../../is-buffer/index.js":4677,"./dht.proto":4871,assert:1691,"libp2p-record":4916,"peer-id":5401,"peer-info":5402,protons:5431},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){const n=e("assert"),i=e("peer-info"),o=e("peer-id"),s=e("protons"),a=e("libp2p-record").Record,c=s(e("./dht.proto")),u=c.Message.MessageType,l=c.Message.ConnectionType;class d{constructor(e,t,i){t&&n(r.isBuffer(t)),this.type=e,this.key=t,this._clusterLevelRaw=i,this.closerPeers=[],this.providerPeers=[],this.record=null}get clusterLevel(){const e=this._clusterLevelRaw-1;return e<0?0:e}set clusterLevel(e){this._clusterLevelRaw=e}serialize(){const e={key:this.key,type:this.type,clusterLevelRaw:this._clusterLevelRaw,closerPeers:this.closerPeers.map(f),providerPeers:this.providerPeers.map(f)};return this.record&&(r.isBuffer(this.record)?e.record=this.record:e.record=this.record.serialize()),c.Message.encode(e)}static deserialize(e){const t=c.Message.decode(e),r=new d(t.type,t.key,t.clusterLevelRaw);return r.closerPeers=t.closerPeers.map(h),r.providerPeers=t.providerPeers.map(h),t.record&&(r.record=a.deserialize(t.record)),r}}function f(e){const t={id:e.id.id,addrs:e.multiaddrs.toArray().map((e=>e.buffer))};return e.isConnected()?t.connection=l.CONNECTED:t.connection=l.NOT_CONNECTED,t}function h(e){const t=new i(new o(e.id));return e.addrs.forEach((e=>t.multiaddrs.add(e))),t}d.TYPES=u,d.CONNECTION_TYPES=l,t.exports=d}).call(this)}).call(this,{isBuffer:e("../../../is-buffer/index.js")})}}},{package:"libp2p-kad-dht",file:"/home/circleci/project/node_modules/libp2p-kad-dht/src/message/index.js"}],[4885,{"./utils":4894,"k-bucket":4745},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("k-bucket"),i=e("./utils");t.exports=class{constructor(e,t){this.self=e,this._onPing=this._onPing.bind(this),i.convertPeerId(e,((e,r)=>{if(e)throw e;this.kb=new n({localNodeId:r,numberOfNodesPerKBucket:t,numberOfNodesToPing:1}),this.kb.on("ping",this._onPing)}))}_onPing(e,t){const r=e[0];this.kb.remove(r.id),this.kb.add(t)}get size(){return this.kb.count()}find(e,t){i.convertPeerId(e,((r,n)=>{if(r)return t(r);const i=this.closestPeer(n);if(i&&i.isEqual(e))return t(null,i);t()}))}closestPeer(e,t){const r=this.closestPeers(e,1);if(r.length>0)return r[0]}closestPeers(e,t){return this.kb.closest(e,t).map((e=>e.peer))}add(e,t){i.convertPeerId(e,((r,n)=>{if(r)return t(r);this.kb.add({id:n,peer:e}),t()}))}remove(e,t){i.convertPeerId(e,((e,r)=>{if(e)return t(e);this.kb.remove(r),t()}))}}}}},{package:"libp2p-kad-dht",file:"/home/circleci/project/node_modules/libp2p-kad-dht/src/routing.js"}],[4884,{"./constants":4868,"./utils":4894,"abort-controller":1660,assert:1691,"err-code":2345,"libp2p-crypto":4841,"multihashing-async":4866,"p-times":5362,"peer-id":5401,"promisify-es6":5415},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("promisify-es6"),i=e("libp2p-crypto"),o=n(e("multihashing-async")),s=e("peer-id"),a=e("assert"),c=e("abort-controller"),u=e("err-code"),l=e("p-times"),d=e("./constants"),{logger:f}=e("./utils");t.exports=class{constructor(e,t){a(e,"Random Walk needs an instance of the Kademlia DHT"),this._options={...d.defaultRandomWalk,...t},this._kadDHT=e,this.log=f(e.peerInfo.id,"random-walk"),this._timeoutId=undefined}start(){!this._timeoutId&&this._options.enabled&&(this._timeoutId=setTimeout((()=>{this._runPeriodically()}),this._options.delay))}stop(){this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=undefined),this._controller&&this._controller.abort()}async _runPeriodically(){for(;this._timeoutId;){try{await this._walk(this._options.queriesPerPeriod,this._options.timeout)}catch(e){this._kadDHT._log.error("random-walk:error",e)}await new Promise((e=>{this._timeoutId=setTimeout(e,this._options.interval)}))}}async _walk(e,t){this.log("start"),this._controller=new c;try{await l(e,(async e=>{this.log("running query %d",e);try{const e=await this._randomPeerId();if(!this._controller)return;await this._query(e,{timeout:t,signal:this._controller.signal})}catch(t){if(t&&"ETIMEDOUT"!==t.code)throw this.log.error("query %d finished with error",e,t),t}this.log("finished query %d",e)}))}finally{this._controller=null,this.log("finished queries")}}async _query(e,t){let r;this.log("query:%s",e.toB58String());try{r=await n((r=>this._kadDHT.findPeer(e,t,r)))()}catch(e){if(e&&"ERR_NOT_FOUND"===e.code)return;throw e}throw this.log("query:found",r),u(`random-walk: ACTUALLY FOUND PEER: ${r}, ${e.toB58String()}`,"ERR_FOUND_RANDOM_PEER")}async _randomPeerId(){const e=await o(i.randomBytes(16),"sha2-256");return new s(e)}}}}},{package:"libp2p-kad-dht",file:"/home/circleci/project/node_modules/libp2p-kad-dht/src/random-walk.js"}],[4878,{"./constants":4868,"./utils":4894,buffer:2072,hashlru:4365,"interface-datastore":4402,"p-queue":5358,"peer-id":5401,"promisify-es6":5415,"pull-stream-to-async-iterator":5466,varint:6023},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){const n=e("hashlru"),i=e("varint"),o=e("peer-id"),s=e("interface-datastore").Key,a=e("p-queue"),c=e("promisify-es6"),u=e("pull-stream-to-async-iterator"),l=e("./constants"),d=e("./utils");function f(e){return e="string"==typeof e?e:d.encodeBase32(e.buffer),l.PROVIDERS_KEY_PREFIX+e}function h(e){const t=e.toString().split("/");if(4!==t.length)throw new Error("incorrectly formatted provider entry key in datastore: "+e);return{cid:t[2],peerId:t[3]}}function p(e){return i.decode(e)}t.exports=class{constructor(e,t,r){this.datastore=e,this._log=d.logger(t,"providers"),this.cleanupInterval=l.PROVIDERS_CLEANUP_INTERVAL,this.provideValidity=l.PROVIDERS_VALIDITY,this.lruCacheSize=r||l.PROVIDERS_LRU_CACHE_SIZE,this.providers=n(this.lruCacheSize),this.syncQueue=new a({concurrency:1})}stop(){this._cleaner&&(clearInterval(this._cleaner),this._cleaner=null)}_cleanup(){return this.syncQueue.add((async()=>{this._log("start cleanup");const e=Date.now();let t=0,r=0;const n=new Map,i=this.datastore.batch(),o=this.datastore.query({prefix:l.PROVIDERS_KEY_PREFIX});for await(const e of u(o))try{const{cid:o,peerId:s}=h(e.key),a=p(e.value),c=Date.now(),u=c-a,l=u>this.provideValidity;if(this._log("comparing: %d - %d = %d > %d %s",c,a,u,this.provideValidity,l?"(expired)":""),l){r++,i.delete(e.key);const t=n.get(o)||new Set;t.add(s),n.set(o,t)}t++}catch(e){this._log.error(e.message)}this._log("deleting %d / %d entries",r,t),n.size&&await c((e=>i.commit(e)))();for(const[e,t]of n){const r=f(e),n=this.providers.get(r);if(n){for(const e of t)n.delete(e);0===n.size?this.providers.remove(r):this.providers.set(r,n)}}this._log("Cleanup successful (%dms)",Date.now()-e)}))}async _getProvidersMap(e){const t=f(e);let r=this.providers.get(t);return r||(r=await async function(e,t){const r=new Map,n=e.query({prefix:f(t)});for await(const e of u(n)){const{peerId:t}=h(e.key);r.set(t,p(e.value))}return r}(this.datastore,e),this.providers.set(t,r)),r}get cleanupInterval(){return this._cleanupInterval}set cleanupInterval(e){this._cleanupInterval=e,this._cleaner&&clearInterval(this._cleaner),this._cleaner=setInterval((()=>this._cleanup()),this.cleanupInterval)}async addProvider(e,t){return this.syncQueue.add((async()=>{this._log("addProvider %s",e.toBaseEncodedString());const n=await this._getProvidersMap(e);this._log("loaded %s provs",n.size);const o=Date.now();n.set(d.encodeBase32(t.id),o);const a=f(e);return this.providers.set(a,n),async function(e,t,n,o){const a=[f(t),"/",d.encodeBase32(n.id)].join(""),u=new s(a),l=r.from(i.encode(o));return c((t=>e.put(u,l,t)))()}(this.datastore,e,t,o)}))}async getProviders(e){return this.syncQueue.add((async()=>{this._log("getProviders %s",e.toBaseEncodedString());return[...(await this._getProvidersMap(e)).keys()].map((e=>new o(d.decodeBase32(e))))}))}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"libp2p-kad-dht",file:"/home/circleci/project/node_modules/libp2p-kad-dht/src/providers.js"}],[4894,{"async/map":1755,"async/setImmediate":1764,"base32.js":1943,buffer:2072,debug:2243,"err-code":2345,"interface-datastore":4402,"libp2p-record":4916,multihashes:5225,"multihashing-async":4866,"peer-id":5401,"xor-distance":6161},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t){(function(){const n=e("debug"),i=e("multihashing-async"),o=e("multihashes"),s=e("interface-datastore").Key,a=e("base32.js"),c=e("xor-distance"),u=e("async/map"),l=e("libp2p-record").Record,d=e("async/setImmediate"),f=e("peer-id"),h=e("err-code");r.convertBuffer=(e,t)=>{i.digest(e,"sha2-256",t)},r.convertPeerId=(e,t)=>{i.digest(e.id,"sha2-256",t)},r.bufferToKey=e=>new s("/"+r.encodeBase32(e),!1),r.keyForPublicKey=e=>t.concat([t.from("/pk/"),e.id]),r.isPublicKeyKey=e=>"/pk/"===e.slice(0,4).toString(),r.fromPublicKeyKey=e=>new f(e.slice(4)),r.now=()=>Date.now(),r.encodeBase32=e=>(new a.Encoder).write(e).finalize(),r.decodeBase32=e=>{const r=new a.Decoder;return t.from(r.write(e).finalize())},r.sortClosestPeers=(e,t,n)=>{u(e,((e,n)=>{r.convertPeerId(e,((r,i)=>{if(r)return n(r);n(null,{peer:e,distance:c(i,t)})}))}),((e,t)=>{if(e)return n(e);n(null,t.sort(r.xorCompare).map((e=>e.peer)))}))},r.xorCompare=(e,t)=>c.compare(e.distance,t.distance),r.pathSize=(e,t)=>Math.ceil(e/t),r.createPutRecord=(e,t,r)=>{const n=new Date,i=new l(e,t,n);d((()=>{r(null,i.serialize())}))},r.logger=(e,t)=>{const r=["libp2p","dht"];t&&r.push(t),e&&r.push(`${e.toB58String().slice(0,8)}`),n.formatters.b=e=>o.toB58String(e);const i=n(r.join(":"));return i.error=n(r.concat(["error"]).join(":")),i},r.TimeoutError=class extends Error{get code(){return"ETIMEDOUT"}},r.withTimeout=(e,t)=>async(...r)=>Promise.race([e(...r),new Promise(((e,r)=>{setTimeout((()=>{r(h(new Error("Async function did not complete before timeout"),"ETIMEDOUT"))}),t)}))])}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"libp2p-kad-dht",file:"/home/circleci/project/node_modules/libp2p-kad-dht/src/utils.js"}],[4880,{"../utils":4894,"./run":4882,multihashes:5225},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("multihashes"),i=e("../utils"),o=e("./run");t.exports=class{constructor(e,t,r){this.dht=e,this.key=t,this.makePath=r,this._log=i.logger(this.dht.peerInfo.id,"query:"+n.toB58String(t)),this.running=!1,this._onStart=this._onStart.bind(this),this._onComplete=this._onComplete.bind(this)}async run(e){return this.dht._queryManager.running?0===e.length?(this._log.error("Running query with no peers"),{finalSet:new Set,paths:[]}):(this._run=new o(this),this._log(`query running with K=${this.dht.kBucketSize}, A=${this.dht.concurrency}, D=${Math.min(this.dht.disjointPaths,e.length)}`),this._run.once("start",this._onStart),this._run.once("complete",this._onComplete),this._run.execute(e)):(this._log.error("Attempt to run query after shutdown"),{finalSet:new Set,paths:[]})}_onStart(){this.running=!0,this._startTime=Date.now(),this._log("query:start"),this.dht._queryManager.queryStarted(this)}_onComplete(){this.stop()}stop(){this._log(`query:done in ${Date.now()-this._startTime}ms`),this._run&&this._log(`${this._run.errors.length} of ${this._run.peersSeen.size} peers errored (${this._run.errors.length/this._run.peersSeen.size*100}% fail rate)`),this.running&&(this._run.removeListener("start",this._onStart),this._run.removeListener("complete",this._onComplete),this.running=!1,this._run&&this._run.stop(),this.dht._queryManager.queryCompleted(this))}}}}},{package:"libp2p-kad-dht",file:"/home/circleci/project/node_modules/libp2p-kad-dht/src/query/index.js"}],[4873,{"./constants":4868,"./message":4872,"./rpc":4893,"./utils":4894,"async/setImmediate":1764,"async/timeout":1768,"err-code":2345,"pull-length-prefixed":5450,"pull-stream":5468},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("pull-stream"),i=e("async/timeout"),o=e("pull-length-prefixed"),s=e("async/setImmediate"),a=e("err-code"),c=e("./rpc"),u=e("./constants"),l=e("./message"),d=e("./utils");function f(e,t,r){n(n.values([t]),o.encode(),e,n.filter((e=>e.length<u.maxMessageSize)),o.decode(),n.collect(((e,t)=>{if(e)return r(e);if(0===t.length)return r(a(new Error("No message received"),"ERR_NO_MESSAGE_RECEIVED"));let n;try{n=l.deserialize(t[0])}catch(e){return r(a(e,"ERR_FAILED_DESERIALIZE_RESPONSE"))}r(null,n)})))}t.exports=class{constructor(e){this.dht=e,this.readMessageTimeout=u.READ_MESSAGE_TIMEOUT,this._log=d.logger(this.dht.peerInfo.id,"net"),this._rpc=c(this.dht),this._onPeerConnected=this._onPeerConnected.bind(this),this._running=!1}start(e){const t=t=>s((()=>e(t)));return this._running?t(a(new Error("Network is already running"),"ERR_NETWORK_ALREADY_RUNNING")):this.dht.isStarted?(this._running=!0,this.dht.switch.handle(u.PROTOCOL_DHT,this._rpc),this.dht.switch.on("peer-mux-established",this._onPeerConnected),void t()):t(a(new Error("Can not start network"),"ERR_CANNOT_START_NETWORK"))}stop(e){const t=t=>s((()=>e(t)));if(!this.dht.isStarted&&!this.isStarted)return t(a(new Error("Network is already stopped"),"ERR_NETWORK_ALREADY_STOPPED"));this._running=!1,this.dht.switch.removeListener("peer-mux-established",this._onPeerConnected),this.dht.switch.unhandle(u.PROTOCOL_DHT),t()}get isStarted(){return this._running}get isConnected(){return this.dht.isStarted&&this.isStarted}_onPeerConnected(e){if(!this.isConnected)return this._log.error("Network is offline");this.dht.switch.dial(e,u.PROTOCOL_DHT,((t,r)=>{if(t)return this._log("%s does not support protocol: %s",e.id.toB58String(),u.PROTOCOL_DHT);n(n.empty(),r),this.dht._add(e,(t=>{if(t)return this._log.error("Failed to add to the routing table",t);this._log("added to the routing table: %s",e.id.toB58String())}))}))}sendRequest(e,t,r){if(!this.isConnected)return r(a(new Error("Network is offline"),"ERR_NETWORK_OFFLINE"));this._log("sending to: %s",e.toB58String()),this.dht.switch.dial(e,u.PROTOCOL_DHT,((e,n)=>{if(e)return r(e);this._writeReadMessage(n,t.serialize(),r)}))}sendMessage(e,t,r){if(!this.isConnected)return s((()=>r(a(new Error("Network is offline"),"ERR_NETWORK_OFFLINE"))));this._log("sending to: %s",e.toB58String()),this.dht.switch.dial(e,u.PROTOCOL_DHT,((e,n)=>{if(e)return r(e);this._writeMessage(n,t.serialize(),r)}))}_writeReadMessage(e,t,r){i(f,this.readMessageTimeout)(e,t,r)}_writeMessage(e,t,r){n(n.values([t]),o.encode(),e,n.onEnd(r))}}}}},{package:"libp2p-kad-dht",file:"/home/circleci/project/node_modules/libp2p-kad-dht/src/network.js"}],[4939,{"pull-defer":5443,"pull-handshake":5447},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("pull-handshake"),i=e("pull-defer");t.exports=class{constructor(e,t,r,o){"function"==typeof r&&(o=r,r=undefined),this.setup(),this.id.local=e,this.id.remote=t,this.key.local=e.privKey,this.timeout=r||6e4,o=o||(()=>{}),this.secure=i.duplex(),this.stream=n({timeout:this.timeout},o),this.shake=this.stream.handshake,delete this.stream.handshake}setup(){this.id={local:null,remote:null},this.key={local:null,remote:null},this.shake=null,this.cleanSecrets()}cleanSecrets(){this.shared={},this.ephemeralKey={local:null,remote:null},this.proposal={in:null,out:null},this.proposalEncoded={in:null,out:null},this.protocols={local:null,remote:null},this.exchange={in:null,out:null}}}}}},{package:"libp2p-secio",file:"/home/circleci/project/node_modules/libp2p-secio/src/state.js"}],[4935,{"./exchange":4933,"./finish":4934,"./propose":4936,"async/series":1763},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("async/series"),i=e("./propose"),o=e("./exchange"),s=e("./finish");t.exports=function(e,t){return n([t=>i(e,t),t=>o(e,t),t=>s(e,t)],(r=>{e.cleanSecrets(),r&&(!0===r&&(r=new Error("Stream ended prematurely")),e.shake.abort(r)),t(r)})),e.stream}}}},{package:"libp2p-secio",file:"/home/circleci/project/node_modules/libp2p-secio/src/handshake/index.js"}],[4969,{"./listener":4970,"./utils":4971,"async/setImmediate":1764,"class-is":2111,debug:2243,events:2073,"interface-connection":4397,mafmt:5181,multiaddr:5199,"peer-id":5401,"peer-info":5402},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("debug")("libp2p:websocket-star"),i=e("multiaddr"),o=e("events").EventEmitter,s=e("peer-id"),a=e("peer-info"),c=e("interface-connection").Connection,u=e("async/setImmediate"),l=e("./utils"),d=e("./listener"),f=l.cleanUrlSIO,h=e("mafmt"),p=e("class-is");t.exports=p(class{constructor(e){e=e||{},this.id=e.id,this.flag=e.allowJoinWithDisabledChallenge,this.discovery=new o,this.discovery.tag="websocketStar",this.discovery.start=e=>{u(e)},this.discovery.stop=e=>{u(e)},this.listeners_list={},this._peerDiscovered=this._peerDiscovered.bind(this)}lazySetId(e){e&&(this.id=e,this.canCrypto=!0)}dial(e,t,r){let n;"function"==typeof t&&(r=t,t={});try{n=f(e)}catch(e){return r(e)}const i=this.listeners_list[n];return i?i.dial(e,t,r):(r(new Error("No listener for this server")),new c)}createListener(e,t){"function"==typeof e&&(t=e,e={});const r=new d({id:this.id,handler:t,listeners:this.listeners_list,flag:this.flag});return r.on("peer",this._peerDiscovered),r}filter(e){return Array.isArray(e)||(e=[e]),e.filter((e=>h.WebSocketStar.matches(e)))}_peerDiscovered(e){n("Peer Discovered:",e);const t=e.split("/ipfs/").pop(),r=s.createFromB58String(t),o=new a(r);o.multiaddrs.add(i(e)),this.discovery.emit("peer",o)}},{className:"WebsocketStar",symbolName:"@libp2p/js-libp2p-websocket-star/websocketstar"})}}},{package:"libp2p-websocket-star",file:"/home/circleci/project/node_modules/libp2p-websocket-star/src/index.js"}],[6152,{},function(){with(this)return function(){"use strict";return function(e,t,r){var n,i;self.mozRTCPeerConnection||navigator.mozGetUserMedia?(n="moz",i=parseInt(navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1],10)):(self.webkitRTCPeerConnection||navigator.webkitGetUserMedia)&&(n="webkit",i=navigator.userAgent.match(/Chrom(e|ium)/)&&parseInt(navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./)[2],10));var o=self.RTCPeerConnection||self.mozRTCPeerConnection||self.webkitRTCPeerConnection,s=self.mozRTCIceCandidate||self.RTCIceCandidate,a=self.mozRTCSessionDescription||self.RTCSessionDescription,c=self.webkitMediaStream||self.MediaStream,u="https:"===self.location.protocol&&("webkit"===n&&i>=26||"moz"===n&&i>=33),l=self.AudioContext||self.webkitAudioContext,d=self.document&&document.createElement("video"),f=d&&d.canPlayType&&"probably"===d.canPlayType('video/webm; codecs="vp8", vorbis'),h=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.msGetUserMedia||navigator.mozGetUserMedia;t.exports={prefix:n,browserVersion:i,support:!!o&&!!h,supportRTCPeerConnection:!!o,supportVp8:f,supportGetUserMedia:!!h,supportDataChannel:!!(o&&o.prototype&&o.prototype.createDataChannel),supportWebAudio:!(!l||!l.prototype.createMediaStreamSource),supportMediaStream:!(!c||!c.prototype.removeTrack),supportScreenSharing:!!u,AudioContext:l,PeerConnection:o,SessionDescription:a,IceCandidate:s,MediaStream:c,getUserMedia:h}}}},{package:"webrtcsupport",file:"/home/circleci/project/node_modules/webrtcsupport/index-browser.js"}],[4966,{multiaddr:5199},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("multiaddr");(r=t.exports).cleanUrlSIO=function(e){const t=e.toString().split("/"),r=e.protos()[1].name,i=e.protos()[2].name,o=e.stringTuples()[1][1];if("tcp"!==r||"ws"!==i&&"wss"!==i)throw new Error("invalid multiaddr: "+e.toString());return n.isName(e)?"ws"===i?"http://"+t[2]+(80===o?"":":"+o):"wss"===i?"https://"+t[2]+(443===o?"":":"+o):void 0:"http://"+t[2]+":"+t[4]},r.cleanMultiaddr=function(e){const t="/libp2p-webrtc-star";if(-1!==e.indexOf(t)){e=e.substring(t.length,e.length);let r=n(e);const i=r.stringTuples().filter((e=>421===e[0]))[0];r=r.decapsulate("ipfs"),r=r.encapsulate("/p2p-webrtc-star"),r=r.encapsulate(`/ipfs/${i[1]}`),e=r.toString()}return e}}}},{package:"libp2p-webrtc-star",file:"/home/circleci/project/node_modules/libp2p-webrtc-star/src/utils.js"}],[5811,{buffer:2072,debug:2243,"get-browser-rtc":4300,inherits:4395,randombytes:5545,"readable-stream":5826},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){t.exports=u;var n=e("debug")("simple-peer"),i=e("get-browser-rtc"),o=e("inherits"),s=e("randombytes"),a=e("readable-stream"),c=65536;function u(e){var t=this;if(!(t instanceof u))return new u(e);if(t._id=s(4).toString("hex").slice(0,7),t._debug("new peer %o",e),e=Object.assign({allowHalfOpen:!1},e),a.Duplex.call(t,e),t.channelName=e.initiator?e.channelName||s(20).toString("hex"):null,t.initiator=e.initiator||!1,t.channelConfig=e.channelConfig||u.channelConfig,t.config=Object.assign({},u.config,e.config),t.offerOptions=e.offerOptions||{},t.answerOptions=e.answerOptions||{},t.sdpTransform=e.sdpTransform||function(e){return e},t.streams=e.streams||(e.stream?[e.stream]:[]),t.trickle=e.trickle===undefined||e.trickle,t.allowHalfTrickle=e.allowHalfTrickle!==undefined&&e.allowHalfTrickle,t.iceCompleteTimeout=e.iceCompleteTimeout||5e3,t.destroyed=!1,t._connected=!1,t.remoteAddress=undefined,t.remoteFamily=undefined,t.remotePort=undefined,t.localAddress=undefined,t.localFamily=undefined,t.localPort=undefined,t._wrtc=e.wrtc&&"object"==typeof e.wrtc?e.wrtc:i(),!t._wrtc)throw"undefined"==typeof window?d("No WebRTC support: Specify `opts.wrtc` option in this environment","ERR_WEBRTC_SUPPORT"):d("No WebRTC support: Not a supported browser","ERR_WEBRTC_SUPPORT");t._pcReady=!1,t._channelReady=!1,t._iceComplete=!1,t._iceCompleteTimer=null,t._channel=null,t._pendingCandidates=[],t._isNegotiating=!t.initiator,t._batchedNegotiation=!1,t._queuedNegotiation=!1,t._sendersAwaitingStable=[],t._senderMap=new Map,t._firstStable=!0,t._closingInterval=null,t._remoteTracks=[],t._remoteStreams=[],t._chunk=null,t._cb=null,t._interval=null;try{t._pc=new t._wrtc.RTCPeerConnection(t.config)}catch(e){return void setTimeout((()=>t.destroy(e)),0)}t._isReactNativeWebrtc="number"==typeof t._pc._peerConnectionId,t._pc.oniceconnectionstatechange=function(){t._onIceStateChange()},t._pc.onicegatheringstatechange=function(){t._onIceStateChange()},t._pc.onsignalingstatechange=function(){t._onSignalingStateChange()},t._pc.onicecandidate=function(e){t._onIceCandidate(e)},t.initiator?t._setupData({channel:t._pc.createDataChannel(t.channelName,t.channelConfig)}):t._pc.ondatachannel=function(e){t._setupData(e)},t.streams&&t.streams.forEach((function(e){t.addStream(e)})),t._pc.ontrack=function(e){t._onTrack(e)},t.initiator&&t._needsNegotiation(),t._onFinishBound=function(){t._onFinish()},t.once("finish",t._onFinishBound)}function l(e){return e.replace(/a=ice-options:trickle\s\n/g,"")}function d(e,t){var r=new Error(e);return r.code=t,r}o(u,a.Duplex),u.WEBRTC_SUPPORT=!!i(),u.config={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:global.stun.twilio.com:3478?transport=udp"}],sdpSemantics:"unified-plan"},u.channelConfig={},Object.defineProperty(u.prototype,"bufferSize",{get:function(){return this._channel&&this._channel.bufferedAmount||0}}),Object.defineProperty(u.prototype,"connected",{get:function(){return this._connected&&"open"===this._channel.readyState}}),u.prototype.address=function(){var e=this;return{port:e.localPort,family:e.localFamily,address:e.localAddress}},u.prototype.signal=function(e){var t=this;if(t.destroyed)throw d("cannot signal after peer is destroyed","ERR_SIGNALING");if("string"==typeof e)try{e=JSON.parse(e)}catch(t){e={}}t._debug("signal()"),e.renegotiate&&t.initiator&&(t._debug("got request to renegotiate"),t._needsNegotiation()),e.transceiverRequest&&t.initiator&&(t._debug("got request for transceiver"),t.addTransceiver(e.transceiverRequest.kind,e.transceiverRequest.init)),e.candidate&&(t._pc.localDescription&&t._pc.localDescription.type&&t._pc.remoteDescription&&t._pc.remoteDescription.type?t._addIceCandidate(e.candidate):t._pendingCandidates.push(e.candidate)),e.sdp&&t._pc.setRemoteDescription(new t._wrtc.RTCSessionDescription(e)).then((function(){t.destroyed||(t._pendingCandidates.forEach((function(e){t._addIceCandidate(e)})),t._pendingCandidates=[],"offer"===t._pc.remoteDescription.type&&t._createAnswer())})).catch((function(e){t.destroy(d(e,"ERR_SET_REMOTE_DESCRIPTION"))})),e.sdp||e.candidate||e.renegotiate||e.transceiverRequest||t.destroy(d("signal() called with invalid signal data","ERR_SIGNALING"))},u.prototype._addIceCandidate=function(e){var t=this,r=new t._wrtc.RTCIceCandidate(e);t._pc.addIceCandidate(r).catch((function(e){var n;!r.address||r.address.endsWith(".local")?(n="Ignoring unsupported ICE candidate.",console.warn(n)):t.destroy(d(e,"ERR_ADD_ICE_CANDIDATE"))}))},u.prototype.send=function(e){this._channel.send(e)},u.prototype.addTransceiver=function(e,t){var r=this;if(r._debug("addTransceiver()"),r.initiator)try{r._pc.addTransceiver(e,t),r._needsNegotiation()}catch(e){r.destroy(e)}else r.emit("signal",{transceiverRequest:{kind:e,init:t}})},u.prototype.addStream=function(e){var t=this;t._debug("addStream()"),e.getTracks().forEach((function(r){t.addTrack(r,e)}))},u.prototype.addTrack=function(e,t){var r=this;r._debug("addTrack()");var n=r._senderMap.get(e)||new Map,i=n.get(t);i?i.removed?r.destroy(d("Track has been removed. You should enable/disable tracks that you want to re-add.","ERR_SENDER_REMOVED")):r.destroy(d("Track has already been added to that stream.","ERR_SENDER_ALREADY_ADDED")):(i=r._pc.addTrack(e,t),n.set(t,i),r._senderMap.set(e,n),r._needsNegotiation())},u.prototype.replaceTrack=function(e,t,r){var n=this;n._debug("replaceTrack()");var i=n._senderMap.get(e),o=i?i.get(r):null;o||n.destroy(d("Cannot replace track that was never added.","ERR_TRACK_NOT_ADDED")),t&&n._senderMap.set(t,i),null!=o.replaceTrack?o.replaceTrack(t):n.destroy(d("replaceTrack is not supported in this browser","ERR_UNSUPPORTED_REPLACETRACK"))},u.prototype.removeTrack=function(e,t){var r=this;r._debug("removeSender()");var n=r._senderMap.get(e),i=n?n.get(t):null;i||r.destroy(d("Cannot remove track that was never added.","ERR_TRACK_NOT_ADDED"));try{i.removed=!0,r._pc.removeTrack(i)}catch(e){"NS_ERROR_UNEXPECTED"===e.name?r._sendersAwaitingStable.push(i):r.destroy(e)}r._needsNegotiation()},u.prototype.removeStream=function(e){var t=this;t._debug("removeSenders()"),e.getTracks().forEach((function(r){t.removeTrack(r,e)}))},u.prototype._needsNegotiation=function(){var e=this;e._debug("_needsNegotiation"),e._batchedNegotiation||(e._batchedNegotiation=!0,setTimeout((function(){e._batchedNegotiation=!1,e._debug("starting batched negotiation"),e.negotiate()}),0))},u.prototype.negotiate=function(){var e=this;e.initiator?e._isNegotiating?(e._queuedNegotiation=!0,e._debug("already negotiating, queueing")):(e._debug("start negotiation"),setTimeout((()=>{e._createOffer()}),0)):e._isNegotiating||(e._debug("requesting negotiation from initiator"),e.emit("signal",{renegotiate:!0})),e._isNegotiating=!0},u.prototype.destroy=function(e){this._destroy(e,(function(){}))},u.prototype._destroy=function(e,t){var r=this;if(!r.destroyed){if(r._debug("destroy (error: %s)",e&&(e.message||e)),r.readable=r.writable=!1,r._readableState.ended||r.push(null),r._writableState.finished||r.end(),r.destroyed=!0,r._connected=!1,r._pcReady=!1,r._channelReady=!1,r._remoteTracks=null,r._remoteStreams=null,r._senderMap=null,clearInterval(r._closingInterval),r._closingInterval=null,clearInterval(r._interval),r._interval=null,r._chunk=null,r._cb=null,r._onFinishBound&&r.removeListener("finish",r._onFinishBound),r._onFinishBound=null,r._channel){try{r._channel.close()}catch(e){}r._channel.onmessage=null,r._channel.onopen=null,r._channel.onclose=null,r._channel.onerror=null}if(r._pc){try{r._pc.close()}catch(e){}r._pc.oniceconnectionstatechange=null,r._pc.onicegatheringstatechange=null,r._pc.onsignalingstatechange=null,r._pc.onicecandidate=null,r._pc.ontrack=null,r._pc.ondatachannel=null}r._pc=null,r._channel=null,e&&r.emit("error",e),r.emit("close"),t()}},u.prototype._setupData=function(e){var t=this;if(!e.channel)return t.destroy(d("Data channel event is missing `channel` property","ERR_DATA_CHANNEL"));t._channel=e.channel,t._channel.binaryType="arraybuffer","number"==typeof t._channel.bufferedAmountLowThreshold&&(t._channel.bufferedAmountLowThreshold=c),t.channelName=t._channel.label,t._channel.onmessage=function(e){t._onChannelMessage(e)},t._channel.onbufferedamountlow=function(){t._onChannelBufferedAmountLow()},t._channel.onopen=function(){t._onChannelOpen()},t._channel.onclose=function(){t._onChannelClose()},t._channel.onerror=function(e){t.destroy(d(e,"ERR_DATA_CHANNEL"))};var r=!1;t._closingInterval=setInterval((function(){t._channel&&"closing"===t._channel.readyState?(r&&t._onChannelClose(),r=!0):r=!1}),5e3)},u.prototype._read=function(){},u.prototype._write=function(e,t,r){var n=this;if(n.destroyed)return r(d("cannot write after peer is destroyed","ERR_DATA_CHANNEL"));if(n._connected){try{n.send(e)}catch(e){return n.destroy(d(e,"ERR_DATA_CHANNEL"))}n._channel.bufferedAmount>c?(n._debug("start backpressure: bufferedAmount %d",n._channel.bufferedAmount),n._cb=r):r(null)}else n._debug("write before connect"),n._chunk=e,n._cb=r},u.prototype._onFinish=function(){var e=this;function t(){setTimeout((function(){e.destroy()}),1e3)}e.destroyed||(e._connected?t():e.once("connect",t))},u.prototype._startIceCompleteTimeout=function(){var e=this;e.destroyed||e._iceCompleteTimer||(e._debug("started iceComplete timeout"),e._iceCompleteTimer=setTimeout((function(){e._iceComplete||(e._iceComplete=!0,e._debug("iceComplete timeout completed"),e.emit("iceTimeout"),e.emit("_iceComplete"))}),e.iceCompleteTimeout))},u.prototype._createOffer=function(){var e=this;e.destroyed||e._pc.createOffer(e.offerOptions).then((function(t){function r(){if(!e.destroyed){var r=e._pc.localDescription||t;e._debug("signal"),e.emit("signal",{type:r.type,sdp:r.sdp})}}e.destroyed||(e.trickle||e.allowHalfTrickle||(t.sdp=l(t.sdp)),t.sdp=e.sdpTransform(t.sdp),e._pc.setLocalDescription(t).then((function(){if(e._debug("createOffer success"),e.destroyed)return;e.trickle||e._iceComplete?r():e.once("_iceComplete",r)})).catch((function(t){e.destroy(d(t,"ERR_SET_LOCAL_DESCRIPTION"))})))})).catch((function(t){e.destroy(d(t,"ERR_CREATE_OFFER"))}))},u.prototype._requestMissingTransceivers=function(){var e=this;e._pc.getTransceivers&&e._pc.getTransceivers().forEach((t=>{t.mid||!t.sender.track||t.requested||(t.requested=!0,e.addTransceiver(t.sender.track.kind))}))},u.prototype._createAnswer=function(){var e=this;e.destroyed||e._pc.createAnswer(e.answerOptions).then((function(t){function r(){if(!e.destroyed){var r=e._pc.localDescription||t;e._debug("signal"),e.emit("signal",{type:r.type,sdp:r.sdp}),e.initiator||e._requestMissingTransceivers()}}e.destroyed||(e.trickle||e.allowHalfTrickle||(t.sdp=l(t.sdp)),t.sdp=e.sdpTransform(t.sdp),e._pc.setLocalDescription(t).then((function(){if(e.destroyed)return;e.trickle||e._iceComplete?r():e.once("_iceComplete",r)})).catch((function(t){e.destroy(d(t,"ERR_SET_LOCAL_DESCRIPTION"))})))})).catch((function(t){e.destroy(d(t,"ERR_CREATE_ANSWER"))}))},u.prototype._onIceStateChange=function(){var e=this;if(!e.destroyed){var t=e._pc.iceConnectionState,r=e._pc.iceGatheringState;e._debug("iceStateChange (connection: %s) (gathering: %s)",t,r),e.emit("iceStateChange",t,r),"connected"!==t&&"completed"!==t||(e._pcReady=!0,e._maybeReady()),"failed"===t&&e.destroy(d("Ice connection failed.","ERR_ICE_CONNECTION_FAILURE")),"closed"===t&&e.destroy(d("Ice connection closed.","ERR_ICE_CONNECTION_CLOSED"))}},u.prototype.getStats=function(e){var t=this;function r(e){return"[object Array]"===Object.prototype.toString.call(e.values)&&e.values.forEach((function(t){Object.assign(e,t)})),e}0===t._pc.getStats.length?t._pc.getStats().then((function(t){var n=[];t.forEach((function(e){n.push(r(e))})),e(null,n)}),(function(t){e(t)})):t._isReactNativeWebrtc?t._pc.getStats(null,(function(t){var n=[];t.forEach((function(e){n.push(r(e))})),e(null,n)}),(function(t){e(t)})):t._pc.getStats.length>0?t._pc.getStats((function(n){if(!t.destroyed){var i=[];n.result().forEach((function(e){var t={};e.names().forEach((function(r){t[r]=e.stat(r)})),t.id=e.id,t.type=e.type,t.timestamp=e.timestamp,i.push(r(t))})),e(null,i)}}),(function(t){e(t)})):e(null,[])},u.prototype._maybeReady=function(){var e=this;e._debug("maybeReady pc %s channel %s",e._pcReady,e._channelReady),!e._connected&&!e._connecting&&e._pcReady&&e._channelReady&&(e._connecting=!0,function t(){e.destroyed||e.getStats((function(r,n){if(!e.destroyed){r&&(n=[]);var i={},o={},s={},a=!1;if(n.forEach((function(e){"remotecandidate"!==e.type&&"remote-candidate"!==e.type||(i[e.id]=e),"localcandidate"!==e.type&&"local-candidate"!==e.type||(o[e.id]=e),"candidatepair"!==e.type&&"candidate-pair"!==e.type||(s[e.id]=e)})),n.forEach((function(e){"transport"===e.type&&e.selectedCandidatePairId&&u(s[e.selectedCandidatePairId]),("googCandidatePair"===e.type&&"true"===e.googActiveConnection||("candidatepair"===e.type||"candidate-pair"===e.type)&&e.selected)&&u(e)})),a||Object.keys(s).length&&!Object.keys(o).length){if(e._connecting=!1,e._connected=!0,e._chunk){try{e.send(e._chunk)}catch(r){return e.destroy(d(r,"ERR_DATA_CHANNEL"))}e._chunk=null,e._debug('sent chunk from "write before connect"');var c=e._cb;e._cb=null,c(null)}"number"!=typeof e._channel.bufferedAmountLowThreshold&&(e._interval=setInterval((function(){e._onInterval()}),150),e._interval.unref&&e._interval.unref()),e._debug("connect"),e.emit("connect")}else setTimeout(t,100)}function u(t){a=!0;var r=o[t.localCandidateId];r&&(r.ip||r.address)?(e.localAddress=r.ip||r.address,e.localPort=Number(r.port)):r&&r.ipAddress?(e.localAddress=r.ipAddress,e.localPort=Number(r.portNumber)):"string"==typeof t.googLocalAddress&&(r=t.googLocalAddress.split(":"),e.localAddress=r[0],e.localPort=Number(r[1])),e.localAddress&&(e.localFamily=e.localAddress.includes(":")?"IPv6":"IPv4");var n=i[t.remoteCandidateId];n&&(n.ip||n.address)?(e.remoteAddress=n.ip||n.address,e.remotePort=Number(n.port)):n&&n.ipAddress?(e.remoteAddress=n.ipAddress,e.remotePort=Number(n.portNumber)):"string"==typeof t.googRemoteAddress&&(n=t.googRemoteAddress.split(":"),e.remoteAddress=n[0],e.remotePort=Number(n[1])),e.remoteAddress&&(e.remoteFamily=e.remoteAddress.includes(":")?"IPv6":"IPv4"),e._debug("connect local: %s:%s remote: %s:%s",e.localAddress,e.localPort,e.remoteAddress,e.remotePort)}}))}())},u.prototype._onInterval=function(){var e=this;!e._cb||!e._channel||e._channel.bufferedAmount>c||e._onChannelBufferedAmountLow()},u.prototype._onSignalingStateChange=function(){var e=this;e.destroyed||("stable"!==e._pc.signalingState||e._firstStable||(e._isNegotiating=!1,e._debug("flushing sender queue",e._sendersAwaitingStable),e._sendersAwaitingStable.forEach((function(t){e._pc.removeTrack(t),e._queuedNegotiation=!0})),e._sendersAwaitingStable=[],e._queuedNegotiation&&(e._debug("flushing negotiation queue"),e._queuedNegotiation=!1,e._needsNegotiation()),e._debug("negotiate"),e.emit("negotiate")),e._firstStable=!1,e._debug("signalingStateChange %s",e._pc.signalingState),e.emit("signalingStateChange",e._pc.signalingState))},u.prototype._onIceCandidate=function(e){var t=this;t.destroyed||(e.candidate&&t.trickle?t.emit("signal",{candidate:{candidate:e.candidate.candidate,sdpMLineIndex:e.candidate.sdpMLineIndex,sdpMid:e.candidate.sdpMid}}):e.candidate||t._iceComplete||(t._iceComplete=!0,t.emit("_iceComplete")),e.candidate&&t._startIceCompleteTimeout())},u.prototype._onChannelMessage=function(e){if(!this.destroyed){var t=e.data;t instanceof ArrayBuffer&&(t=r.from(t)),this.push(t)}},u.prototype._onChannelBufferedAmountLow=function(){var e=this;if(!e.destroyed&&e._cb){e._debug("ending backpressure: bufferedAmount %d",e._channel.bufferedAmount);var t=e._cb;e._cb=null,t(null)}},u.prototype._onChannelOpen=function(){var e=this;e._connected||e.destroyed||(e._debug("on channel open"),e._channelReady=!0,e._maybeReady())},u.prototype._onChannelClose=function(){var e=this;e.destroyed||(e._debug("on channel close"),e.destroy())},u.prototype._onTrack=function(e){var t=this;t.destroyed||e.streams.forEach((function(r){t._debug("on track"),t.emit("track",e.track,r),t._remoteTracks.push({track:e.track,stream:r}),t._remoteStreams.some((function(e){return e.id===r.id}))||(t._remoteStreams.push(r),setTimeout((function(){t.emit("stream",r)}),0))}))},u.prototype._debug=function(){var e=this,t=[].slice.call(arguments);t[0]="["+e._id+"] "+t[0],n.apply(null,t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"simple-peer",file:"/home/circleci/project/node_modules/simple-peer/index.js"}],[5829,{"./manager":5830,"./socket":5832,"./url":5833,debug:5834,"socket.io-parser":5838},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./url"),i=e("socket.io-parser"),o=e("./manager"),s=e("debug")("socket.io-client");t.exports=r=c;var a=r.managers={};function c(e,t){"object"==typeof e&&(t=e,e=undefined),t=t||{};var r,i=n(e),c=i.source,u=i.id,l=i.path,d=a[u]&&l in a[u].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||d?(s("ignoring socket cache for %s",c),r=o(c,t)):(a[u]||(s("new io instance for %s",c),a[u]=o(c,t)),r=a[u]),i.query&&!t.query&&(t.query=i.query),r.socket(i.path,t)}r.protocol=i.protocol,r.connect=c,r.Manager=e("./manager"),r.Socket=e("./socket")}}},{package:"socket.io-client",file:"/home/circleci/project/node_modules/socket.io-client/lib/index.js"}],[4977,{},function(){with(this)return function(){"use strict";return function(e,t,r){r.messages={NOT_STARTED_YET:"The libp2p node is not started yet",DHT_DISABLED:"DHT is not available"},r.codes={DHT_DISABLED:"ERR_DHT_DISABLED",PUBSUB_NOT_STARTED:"ERR_PUBSUB_NOT_STARTED",ERR_NODE_NOT_STARTED:"ERR_NODE_NOT_STARTED",ERR_DISCOVERED_SELF:"ERR_DISCOVERED_SELF"}}}},{package:"libp2p",file:"/home/circleci/project/node_modules/libp2p/src/errors.js"}],[4974,{superstruct:5898},function(){with(this)return function(){"use strict";return function(e,t,r){const{struct:n,superstruct:i}=e("superstruct"),{optional:o,list:s}=n,a=i(),c=a.union([a.interface({createListener:"function",dial:"function"}),"function"]),u=a({connEncryption:o(s([a("object|function")])),connProtector:a.union(["undefined",a.interface({protect:"function"})]),contentRouting:o(s(["object"])),dht:o(a("null|function|object")),peerDiscovery:o(s([a("object|function")])),peerRouting:o(s(["object"])),streamMuxer:o(s([a("object|function")])),transport:a.intersection([[c],a.interface({length:e=>e>0||"ERROR_EMPTY"})])}),l=a({peerDiscovery:a("object",{autoDial:!0}),relay:a({enabled:"boolean",hop:o(a({enabled:"boolean",active:"boolean"},{enabled:!1,active:!1}))},{enabled:!0}),dht:a("object?",{enabled:!1,kBucketSize:20,randomWalk:{enabled:!1,queriesPerPeriod:1,interval:3e5,timeout:1e4}}),EXPERIMENTAL:a({pubsub:"boolean"},{pubsub:!1})},{}),d=a({switch:"object?",connectionManager:a("object",{minPeers:25}),datastore:"object?",peerInfo:"object",peerBook:"object?",modules:u,config:l});t.exports.validate=e=>{const[t,r]=d.validate(e);if(t)throw new Error(`${t.message}${t.reason?" - "+t.reason:""}`);return r.config.dht.enabled&&a("function|object")(r.modules.dht),r.config.peerDiscovery.autoDial===undefined&&(r.config.peerDiscovery.autoDial=!0),r}}}},{package:"libp2p",file:"/home/circleci/project/node_modules/libp2p/src/config.js"}],[4978,{"err-code":2345,multiaddr:5199,"peer-id":5401,"peer-info":5402},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("peer-id"),i=e("peer-info"),o=e("multiaddr"),s=e("err-code");t.exports=e=>function(t,r){let a;if(i.isPeerInfo(t))a=t;else if(o.isMultiaddr(t)||"string"==typeof t){if("string"==typeof t)try{t=o(t)}catch(e){return r(s(e,"ERR_INVALID_MULTIADDR"))}const c=t.getPeerId();if(!c)return r(s(new Error("peer multiaddr instance or string must include peerId"),"ERR_INVALID_MULTIADDR"));try{a=e.peerBook.get(c)}catch(e){a=new i(n.createFromB58String(c))}a.multiaddrs.add(t)}else{if(!n.isPeerId(t))return r(s(new Error(`${a} is not a valid peer type`),"ERR_INVALID_PEER_TYPE"));{const n=t.toB58String();try{a=e.peerBook.get(n)}catch(n){return e.peerRouting.findPeer(t,r)}}}r(null,a)}}}},{package:"libp2p",file:"/home/circleci/project/node_modules/libp2p/src/get-peer-info.js"}],[4980,{"async/tryEach":1769,"err-code":2345},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("async/tryEach"),i=e("err-code");t.exports=e=>{const t=e._modules.peerRouting||[];return e._dht&&t.unshift(e._dht),{findPeer:(e,r,o)=>{"function"==typeof r&&(o=r,r={}),t.length||o(i(new Error("No peer routers available"),"NO_ROUTERS_AVAILABLE"));const s=t.map((t=>n=>t.findPeer(e,r,((e,t)=>e?n(e):t&&0!==Object.keys(t).length?void n(null,t):n(i(new Error("not found"),"NOT_FOUND"),null)))));n(s,((e,t)=>{if(e)return o(e);o(null,t=t||[])}))}}}}}},{package:"libp2p",file:"/home/circleci/project/node_modules/libp2p/src/peer-routing.js"}],[4976,{"./errors":4977,"async/nextTick":1758,"err-code":2345},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("async/nextTick"),i=e("err-code"),{messages:o,codes:s}=e("./errors");t.exports=e=>({put:(t,r,a)=>{if(!e._dht)return n(a,i(new Error(o.DHT_DISABLED),s.DHT_DISABLED));e._dht.put(t,r,a)},get:(t,r,a)=>{if("function"==typeof r&&(a=r,r={}),!e._dht)return n(a,i(new Error(o.DHT_DISABLED),s.DHT_DISABLED));e._dht.get(t,r,a)},getMany:(t,r,a,c)=>{if("function"==typeof a&&(c=a,a={}),!e._dht)return n(c,i(new Error(o.DHT_DISABLED),s.DHT_DISABLED));e._dht.getMany(t,r,a,c)}})}}},{package:"libp2p",file:"/home/circleci/project/node_modules/libp2p/src/dht.js"}],[4982,{once:5298},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("once");t.exports.emitFirst=function(e,t,r){r=n(r),t.forEach((n=>{e.once(n,((...n)=>{t.forEach((t=>{e.removeListener(t,r)})),r.apply(e,n)}))}))}}}},{package:"libp2p",file:"/home/circleci/project/node_modules/libp2p/src/util/index.js"}],[4975,{"async/parallel":1759,"async/tryEach":1769,"err-code":2345},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("async/tryEach"),i=e("async/parallel"),o=e("err-code");t.exports=e=>{const t=e._modules.contentRouting||[];return e._dht&&t.unshift(e._dht),{findProviders:(e,r,i)=>{if("function"==typeof r?(i=r,r={}):"number"==typeof r&&(r={maxTimeout:r}),!t.length)return i(o(new Error("No content routers available"),"NO_ROUTERS_AVAILABLE"));const s=t.map((t=>n=>t.findProviders(e,r,((e,t)=>e?n(e):t&&0!==Object.keys(t).length?void n(null,t):n(o(new Error("not found"),"NOT_FOUND"),null)))));n(s,((e,t)=>{if(e&&"NOT_FOUND"!==e.code)return i(e);i(null,t=t||[])}))},provide:(e,r)=>{if(!t.length)return r(o(new Error("No content routers available"),"NO_ROUTERS_AVAILABLE"));i(t.map((t=>r=>t.provide(e,r))),r)}}}}}},{package:"libp2p",file:"/home/circleci/project/node_modules/libp2p/src/content-routing.js"}],[4901,{"./handler":4900,"./ping":4902},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("./handler");(r=t.exports=e("./ping")).mount=n.mount,r.unmount=n.unmount}}},{package:"libp2p-ping",file:"/home/circleci/project/node_modules/libp2p-ping/src/index.js"}],[4981,{"../../is-buffer/index.js":4677,"./errors":4977,"async/nextTick":1758,"err-code":2345,"libp2p-floodsub":4858},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){const n=e("async/nextTick"),{messages:i,codes:o}=e("./errors"),s=e("libp2p-floodsub"),a=e("err-code");t.exports=e=>{const t=new s(e);return e._floodSub=t,{subscribe:(r,s,c,u)=>{if("function"==typeof s&&(u=c,c=s,s={}),!e.isStarted()&&!t.started)return n(u,a(new Error(i.NOT_STARTED_YET),o.PUBSUB_NOT_STARTED));var l;l=u,0===t.listenerCount(r)&&t.subscribe(r),t.on(r,c),n(l)},unsubscribe:(r,s,c)=>{if(!e.isStarted()&&!t.started)return n(c,a(new Error(i.NOT_STARTED_YET),o.PUBSUB_NOT_STARTED));s||c?t.removeListener(r,s):t.removeAllListeners(r),0===t.listenerCount(r)&&t.unsubscribe(r),"function"==typeof c&&n((()=>c()))},publish:(s,c,u)=>e.isStarted()||t.started?r.isBuffer(c)?void t.publish(s,c,u):n(u,a(new Error("data must be a Buffer"),"ERR_DATA_IS_NOT_A_BUFFER")):n(u,a(new Error(i.NOT_STARTED_YET),o.PUBSUB_NOT_STARTED)),ls:r=>{if(!e.isStarted()&&!t.started)return n(r,a(new Error(i.NOT_STARTED_YET),o.PUBSUB_NOT_STARTED));const s=Array.from(t.subscriptions);n((()=>r(null,s)))},peers:(r,s)=>{if(!e.isStarted()&&!t.started)return n(s,a(new Error(i.NOT_STARTED_YET),o.PUBSUB_NOT_STARTED));"function"==typeof r&&(s=r,r=null);const c=Array.from(t.peers.values()).filter((e=>!r||e.topics.has(r))).map((e=>e.info.id.toB58String()));n((()=>s(null,c)))},setMaxListeners:e=>t.setMaxListeners(e)}}}).call(this)}).call(this,{isBuffer:e("../../is-buffer/index.js")})}}},{package:"libp2p",file:"/home/circleci/project/node_modules/libp2p/src/pubsub.js"}],[4813,{debug:2243,events:2073,"latency-monitor":4770},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("events"),i=e("latency-monitor").default,o=e("debug")("libp2p:connection-manager"),s={maxPeers:Infinity,minPeers:0,maxData:Infinity,maxSentData:Infinity,maxReceivedData:Infinity,maxEventLoopDelay:Infinity,pollInterval:2e3,movingAverageInterval:6e4,defaultPeerValue:1};function a(e,t){return e[1]-t[1]}function c(e){return e.name.toLowerCase()}t.exports=class extends n{constructor(e,t){if(super(),this._libp2p=e,this._options=Object.assign({},s,t),this._options.maxPeersPerProtocol=function(e){e||(e={});return Object.keys(e).forEach((t=>{const r=e[t];delete e[t],e[t.toLowerCase()]=r})),e}(this._options.maxPeersPerProtocol),o("options: %j",this._options),this._stats=e.stats,t&&!this._stats)throw new Error("No libp2p.stats");this._peerValues=new Map,this._peers=new Map,this._peerProtocols=new Map,this._peerCountPerProtocol=new Map,this._onStatsUpdate=this._onStatsUpdate.bind(this),this._onPeerConnect=this._onPeerConnect.bind(this),this._onPeerDisconnect=this._onPeerDisconnect.bind(this),this._libp2p.isStarted()?this._onceStarted():this._libp2p.once("start",this._onceStarted.bind(this))}start(){this._stats.on("update",this._onStatsUpdate),this._libp2p.on("connection:start",this._onPeerConnect),this._libp2p.on("connection:end",this._onPeerDisconnect),this._latencyMonitor=new i({dataEmitIntervalMs:this._options.pollInterval}),this._onLatencyMeasure=this._onLatencyMeasure.bind(this),this._latencyMonitor.on("data",this._onLatencyMeasure)}stop(){this._stats.removeListener("update",this._onStatsUpdate),this._libp2p.removeListener("connection:start",this._onPeerConnect),this._libp2p.removeListener("connection:end",this._onPeerDisconnect),this._latencyMonitor.removeListener("data",this._onLatencyMeasure)}setPeerValue(e,t){if(t<0||t>1)throw new Error("value should be a number between 0 and 1");e.toB58String&&(e=e.toB58String()),this._peerValues.set(e,t)}_onceStarted(){this._peerId=this._libp2p.peerInfo.id.toB58String()}_onStatsUpdate(){const e=this._stats.global.movingAverages,t=e.dataReceived[this._options.movingAverageInterval].movingAverage();this._checkLimit("maxReceivedData",t);const r=e.dataSent[this._options.movingAverageInterval].movingAverage();this._checkLimit("maxSentData",r);const n=t+r;this._checkLimit("maxData",n),o("stats update",n)}_onPeerConnect(e){const t=e.id.toB58String();o("%s: connected to %s",this._peerId,t),this._peerValues.set(t,this._options.defaultPeerValue),this._peers.set(t,e),this.emit("connected",t),this._checkLimit("maxPeers",this._peers.size),function(e){const t=new Set;return e.multiaddrs.forEach((e=>{e.protos().map(c).forEach((e=>{t.add(e)}))})),Array.from(t)}(e).forEach((e=>{this._peerCountPerProtocol[e]||(this._peerCountPerProtocol[e]=0),this._peerCountPerProtocol[e]++;let r=this._peerProtocols[t];r||(r=this._peerProtocols[t]=new Set),r.add(e),this._checkProtocolMaxPeersLimit(e,this._peerCountPerProtocol[e])}))}_onPeerDisconnect(e){const t=e.id.toB58String();o("%s: disconnected from %s",this._peerId,t),this._peerValues.delete(t),this._peers.delete(t);const r=this._peerProtocols[t];r&&Array.from(r).forEach((e=>{this._peerCountPerProtocol[e]&&this._peerCountPerProtocol[e]--})),this.emit("disconnected",t)}_onLatencyMeasure(e){this._checkLimit("maxEventLoopDelay",e.avgMs)}_checkLimit(e,t){const r=this._options[e];o("checking limit of %s. current value: %d of %d",e,t,r),t>r&&(o("%s: limit exceeded: %s, %d",this._peerId,e,t),this.emit("limit:exceeded",e,t),this._maybeDisconnectOne())}_checkProtocolMaxPeersLimit(e,t){o("checking protocol limit. current value of %s is %d",e,t);t>this._options.maxPeersPerProtocol[e]&&(o("%s: protocol max peers limit exceeded: %s, %d",this._peerId,e,t),this.emit("limit:exceeded",e,t),this._maybeDisconnectOne())}_maybeDisconnectOne(){if(this._options.minPeers<this._peerValues.size){const e=Array.from(this._peerValues).sort(a);o("%s: sorted peer values: %j",this._peerId,e);const t=e[0];if(t){const e=t[0];o("%s: lowest value peer is %s",this._peerId,e),o("%s: forcing disconnection from %j",this._peerId,e),this._disconnectPeer(e)}}}_disconnectPeer(e){o("preemptively disconnecting peer",e),this.emit("%s: disconnect:preemptive",this._peerId,e);const t=this._peers.get(e);this._libp2p.hangUp(t,(e=>{e&&this.emit("error",e)}))}}}}},{package:"libp2p-connection-manager",file:"/home/circleci/project/node_modules/libp2p-connection-manager/src/index.js"}],[4953,{"./connection/handler":4943,"./connection/manager":4946,"./dialer":4948,"./errors":4951,"./get-peer-info":4952,"./observer":4957,"./plaintext":4958,"./protocol-muxer":4959,"./stats":4960,"./transport":4963,assert:1691,"async/each":1724,"async/eachSeries":1729,"async/series":1763,debug:2243,events:2073,"fsm-event":4295,"libp2p-circuit":4809},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("fsm-event"),i=e("events").EventEmitter,o=e("async/each"),s=e("async/eachSeries"),a=e("async/series"),c=e("libp2p-circuit"),u=e("./transport"),l=e("./connection/manager"),d=e("./get-peer-info"),f=e("./dialer"),h=e("./connection/handler"),p=e("./protocol-muxer"),m=e("./plaintext"),_=e("./observer"),b=e("./stats"),g=e("assert"),y=e("./errors"),w=e("debug"),v=w("libp2p:switch");v.error=w("libp2p:switch:error");t.exports=class extends i{constructor(e,t,r){super(),g(e,"You must provide a `peerInfo`"),g(t,"You must provide a `peerBook`"),this._peerInfo=e,this._peerBook=t,this._options=r||{},this.setMaxListeners(Infinity),this.transports={},this.conns={},this.protocols={},this.muxers={},this.identify=!1,this.crypto=m,this.protector=this._options.protector||null,this.transport=new u(this),this.connection=new l(this),this.observer=_(this),this.stats=b(this.observer,this._options.stats),this.protocolMuxer=p(this.protocols,this.observer),this._connectionHandler=h(this),this.state=new n("STOPPED",{STOPPED:{start:"STARTING",stop:"STOPPING"},STARTING:{done:"STARTED",stop:"STOPPING"},STARTED:{stop:"STOPPING",start:"STARTED"},STOPPING:{stop:"STOPPING",done:"STOPPED"}}),this.state.on("STARTING",(()=>{v("The switch is starting"),this._onStarting()})),this.state.on("STOPPING",(()=>{v("The switch is stopping"),this._onStopping()})),this.state.on("STARTED",(()=>{v("The switch has started"),this.emit("start")})),this.state.on("STOPPED",(()=>{v("The switch has stopped"),this.emit("stop")})),this.state.on("error",(e=>{v.error(e),this.emit("error",e)})),this.dialer=f(this),this.dial=this.dialer.dial,this.dialFSM=this.dialer.dialFSM}availableTransports(e){const t=e.multiaddrs.toArray();return Object.keys(this.transports).filter((e=>this.transports[e].filter(t).length>0)).sort(((e,t)=>e===c.tag?1:t===c.tag||e<t?-1:1))}handle(e,t,r){this.protocols[e]={handlerFunc:t,matchFunc:r},this._peerInfo.protocols.add(e)}unhandle(e){this.protocols[e]&&delete this.protocols[e],this._peerInfo.protocols.delete(e)}hangUp(e,t){const r=d(e,this._peerBook).id.toB58String(),n=[...this.connection.getAllById(r)];o(n,((e,t)=>{e.once("close",t),e.close()}),t)}hasTransports(){const e=Object.keys(this.transports).filter((e=>e!==c.tag));return e&&e.length>0}start(e=(()=>{})){this.once("start",e),this.state("start")}stop(e=(()=>{})){this.once("stop",e),this.state("stop")}_onStarting(){this.stats.start(),s(this.availableTransports(this._peerInfo),((e,t)=>{this.transport.listen(e,{},null,t)}),(e=>{if(e)return v.error(e),this.emit("error",e),this.state("stop");this.state("done")}))}_onStopping(){this.stats.stop(),a([e=>{o(this.transports,((e,t)=>{o(e.listeners,((e,t)=>{e.close((e=>{e&&v.error(e),t()}))}),t)}),e)},e=>o(this.connection.getAll(),((e,t)=>{e.once("close",t),e.close()}),e)],(e=>{this.state("done")}))}},t.exports.errors=y}}},{package:"libp2p-switch",file:"/home/circleci/project/node_modules/libp2p-switch/src/index.js"}],[5446,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(){var e,t,r,n,i;function o(o){return i?i(o):(e=o,function(e,i){t?t(e,i):(n=e,r=i)})}return o.resolve=function(o){if(i)throw new Error("already resolved");if(!(i=o))throw new Error("resolve *must* be passed a transform stream");e&&(t=i(e),r&&t(n,r))},o}}}},{package:"pull-defer",file:"/home/circleci/project/node_modules/pull-defer/through.js"}],[5444,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(e){var t,r=!1;function n(n){if(!n)throw new Error("must be passed a readable");t=n,r&&e(t)}return n.resolve=n.ready=n.start=function(i){return r=!0,e=i||e,t&&e(t),n},n}}}},{package:"pull-defer",file:"/home/circleci/project/node_modules/pull-defer/sink.js"}],[5442,{"./sink":5444,"./source":5445},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./source"),i=e("./sink");t.exports=function(){var e=n(),t=i();return{source:e,sink:t,resolve:function(r){e.resolve(r.source),t.resolve(r.sink)}}}}}},{package:"pull-defer",file:"/home/circleci/project/node_modules/pull-defer/duplex.js"}],[1698,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=async e=>{let t;for await(const r of e)t=r;return t}}}},{package:"async-iterator-last",file:"/home/circleci/project/node_modules/async-iterator-last/index.js"}],[4501,{"./dag-cbor":4500,"./raw":4502,"./unixfs-v1":4506,"err-code":2345},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("err-code"),i={"dag-pb":e("./unixfs-v1"),raw:e("./raw"),"dag-cbor":e("./dag-cbor")},o=(e,t,r,s,a,c)=>{const u=i[e.codec];if(!u)throw n(new Error(`No resolver for codec ${e.codec}`),"ERR_NO_RESOLVER");return u(e,t,r,s,o,a,c)};t.exports=o}}},{package:"ipfs-unixfs-exporter",file:"/home/circleci/project/node_modules/ipfs-unixfs-exporter/src/resolvers/index.js"}],[5496,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(e,t,r){e(t),r&&r(!0===t?null:t)}}}},{package:"pull-stream",file:"/home/circleci/project/node_modules/pull-stream/util/abort-cb.js"}],[5498,{"./prop":5497},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./prop");function i(e){return e}t.exports=function(e){return"object"==typeof e&&"function"==typeof e.test?function(t){return e.test(t)}:n(e)||i}}}},{package:"pull-stream",file:"/home/circleci/project/node_modules/pull-stream/util/tester.js"}],[4530,{},function(){with(this)return function(){"use strict";return function(e,t,r){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}}}},{package:"is-buffer",file:"/home/circleci/project/node_modules/ipfs-utils/node_modules/is-buffer/index.js"}],[5175,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(e){!function t(){var r=!0,n=!1;do{n=!0,r=!1,e.call(this,(function(){n?r=!0:t()})),n=!1}while(r)}()}}}},{package:"looper",file:"/home/circleci/project/node_modules/looper/index.js"}],[4545,{"./lib/_stream_duplex.js":4532,"./lib/_stream_passthrough.js":4533,"./lib/_stream_readable.js":4534,"./lib/_stream_transform.js":4535,"./lib/_stream_writable.js":4536,"./lib/internal/streams/end-of-stream.js":4540,"./lib/internal/streams/pipeline.js":4542},function(){with(this)return function(){"use strict";return function(e,t,r){(r=t.exports=e("./lib/_stream_readable.js")).Stream=r,r.Readable=r,r.Writable=e("./lib/_stream_writable.js"),r.Duplex=e("./lib/_stream_duplex.js"),r.Transform=e("./lib/_stream_transform.js"),r.PassThrough=e("./lib/_stream_passthrough.js"),r.finished=e("./lib/internal/streams/end-of-stream.js"),r.pipeline=e("./lib/internal/streams/pipeline.js")}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/ipfs-utils/node_modules/readable-stream/readable-browser.js"}],[4525,{"./dir":4522,"./dir-flat":4520,"./flat-to-shard":4523,"./utils/to-path-components":4527,"async-iterator-first":1697,"err-code":2345},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("./dir-flat"),i=e("./flat-to-shard"),o=e("./dir"),s=e("./utils/to-path-components"),a=e("err-code"),c=e("async-iterator-first");async function u(e,t,r){const a=s(e.path||""),c=a.length-1;let u=t,l="";for(let s=0;s<a.length;s++){const d=a[s];l+=`${l?"/":""}${d}`;const f=s===c;if(u.dirty=!0,u.cid=null,u.size=null,f)await u.put(d,e),t=await i(null,u,r.shardSplitThreshold,r);else{let e=await u.get(d);e&&e instanceof o||(e=new n({dir:!0,parent:u,parentKey:d,path:l,dirty:!0,flat:!0},r)),await u.put(d,e),u=e}}return t}t.exports=async function*(e,t,r){let i=new n({root:!0,dir:!0,path:"",dirty:!0,flat:!0},r);for await(const t of e)i=await u(t,i,r),yield t;if(i){if(!r.wrapWithDirectory){if(i.childCount()>1)throw a(new Error("detected more than one root"),"ERR_MORE_THAN_ONE_ROOT");const e=await c(i.eachChildSeries());if(!e)return;i=e.child}if(!i.dir)return;for await(const e of i.flush(i.path,t))yield e}}}}},{package:"ipfs-unixfs-importer",file:"/home/circleci/project/node_modules/ipfs-unixfs-importer/src/tree-builder.js"}],[4518,{"../chunker":4511,"./dir":4513,"./file":4516,"./validate-chunks":4519},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("./dir"),i=e("./file"),o=e("../chunker"),s=e("./validate-chunks");t.exports=async function*(e,t,r){for await(const a of e)if(a.path&&("./"===a.path.substring(0,2)&&(r.wrapWithDirectory=!0),a.path=a.path.split("/").filter((e=>e&&"."!==e)).join("/")),a.content){let e=a.content;(e[Symbol.asyncIterator]||e[Symbol.iterator])&&e.length===undefined||(e={[Symbol.iterator]:function*(){yield a.content}});const n=o(r.chunker,s(e),r.chunkerOptions);yield i(a,n,t,r)}else yield n(a,t,r)}}}},{package:"ipfs-unixfs-importer",file:"/home/circleci/project/node_modules/ipfs-unixfs-importer/src/dag-builder/index.js"}],[4555,{},function(){with(this)return function(){"use strict";return function(e,t,r){var n={};function i(e,t,r){r||(r=Error);var i=function(e){var r,n;function i(r,n,i){return e.call(this,function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(r,n,i))||this}return n=e,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,i}(r);i.prototype.name=r.name,i.prototype.code=e,n[e]=i}function o(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}i("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(e,t,r){var n,i,s,a;if("string"==typeof t&&(i="not ",t.substr(!s||s<0?0:+s,i.length)===i)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(r===undefined||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))a="The ".concat(e," ").concat(n," ").concat(o(t,"type"));else{var c=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";a='The "'.concat(e,'" ').concat(c," ").concat(n," ").concat(o(t,"type"))}return a+=". Received type ".concat(typeof r)}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=n}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/ipfs/node_modules/readable-stream/errors-browser.js"}],[4563,{_process:5411},function(){with(this)return function(){"use strict";return function(e,t,r){(function(e){(function(){function r(e,t){i(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}t.exports={destroy:function(t,o){var s=this,a=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return a||c?(o?o(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(i,this,t)):e.nextTick(i,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!o&&t?s._writableState?s._writableState.errorEmitted?e.nextTick(n,s):(s._writableState.errorEmitted=!0,e.nextTick(r,s,t)):e.nextTick(r,s,t):o?(e.nextTick(n,s),o(t)):e.nextTick(n,s)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/ipfs/node_modules/readable-stream/lib/internal/streams/destroy.js"}],[4568,{events:2073},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=e("events").EventEmitter}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/ipfs/node_modules/readable-stream/lib/internal/streams/stream-browser.js"}],[4567,{"../../../errors":4555},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(e,t,r,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/ipfs/node_modules/readable-stream/lib/internal/streams/state.js"}],[4565,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(){throw new Error("Readable.from is not available in the browser")}}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/ipfs/node_modules/readable-stream/lib/internal/streams/from-browser.js"}],[4562,{buffer:2072,util:2071},function(){with(this)return function(){"use strict";return function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=e("buffer").Buffer,a=e("util").inspect,c=a&&a.custom||"inspect";t.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r,u;return t=e,r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return s.alloc(0);for(var t,r,n,i=s.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,r=i,n=a,s.prototype.copy.call(t,r,n),a+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=s.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:c,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],r&&o(t.prototype,r),u&&o(t,u),e}()}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/ipfs/node_modules/readable-stream/lib/internal/streams/buffer_list.js"}],[4561,{"./end-of-stream":4564,_process:5411},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n;function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=e("./end-of-stream"),s=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),d=Symbol("handlePromise"),f=Symbol("stream");function h(e,t){return{value:e,done:t}}function p(e){var t=e[s];if(null!==t){var r=e[f].read();null!==r&&(e[l]=null,e[s]=null,e[a]=null,t(h(r,!1)))}}function m(e){r.nextTick(p,e)}var _=Object.getPrototypeOf((function(){})),b=Object.setPrototypeOf((i(n={get stream(){return this[f]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(h(undefined,!0));if(this[f].destroyed)return new Promise((function(t,n){r.nextTick((function(){e[c]?n(e[c]):t(h(undefined,!0))}))}));var n,i=this[l];if(i)n=new Promise(function(e,t){return function(r,n){e.then((function(){t[u]?r(h(undefined,!0)):t[d](r,n)}),n)}}(i,this));else{var o=this[f].read();if(null!==o)return Promise.resolve(h(o,!1));n=new Promise(this[d])}return this[l]=n,n}},Symbol.asyncIterator,(function(){return this})),i(n,"return",(function(){var e=this;return new Promise((function(t,r){e[f].destroy(null,(function(e){e?r(e):t(h(undefined,!0))}))}))})),n),_);t.exports=function(e){var t,r=Object.create(b,(i(t={},f,{value:e,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,u,{value:e._readableState.endEmitted,writable:!0}),i(t,d,{value:function(e,t){var n=r[f].read();n?(r[l]=null,r[s]=null,r[a]=null,e(h(n,!1))):(r[s]=e,r[a]=t)},writable:!0}),t));return r[l]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[a];return null!==t&&(r[l]=null,r[s]=null,r[a]=null,t(e)),void(r[c]=e)}var n=r[s];null!==n&&(r[l]=null,r[s]=null,r[a]=null,n(h(undefined,!0))),r[u]=!0})),e.on("readable",m.bind(null,r)),r}}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/ipfs/node_modules/readable-stream/lib/internal/streams/async_iterator.js"}],[1710,{"../../../errors":1701},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var s=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||l()},u=t._writableState&&t._writableState.finished,l=function(){a=!1,u=!0,s||o.call(t)},d=t._readableState&&t._readableState.endEmitted,f=function(){s=!1,d=!0,a||o.call(t)},h=function(e){o.call(t,e)},p=function(){var e;return s&&!d?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):a&&!u?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},m=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",c),t.on("close",c)):(t.on("complete",l),t.on("abort",p),t.req?m():t.on("request",m)),t.on("end",f),t.on("finish",l),!1!==r.error&&t.on("error",h),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",m),t.req&&t.req.removeListener("finish",l),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("end",f),t.removeListener("error",h),t.removeListener("close",p)}}}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/async-iterator-to-stream/node_modules/readable-stream/lib/internal/streams/end-of-stream.js"}],[1712,{"../../../errors":1701,"./end-of-stream":1710},function(){with(this)return function(){"use strict";return function(e,t,r){var n;var i=e("../../../errors").codes,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(t,r,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;t.on("close",(function(){a=!0})),n===undefined&&(n=e("./end-of-stream")),n(t,{readable:r,writable:i},(function(e){if(e)return o(e);a=!0,o()}));var c=!1;return function(e){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void o(e||new s("pipe"))}}function u(e){e()}function l(e,t){return e.pipe(t)}function d(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}t.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=d(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var s=t.map((function(e,r){var o=r<t.length-1;return c(e,o,r>0,(function(e){n||(n=e),e&&s.forEach(u),o||(s.forEach(u),i(n))}))}));return t.reduce(l)}}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/async-iterator-to-stream/node_modules/readable-stream/lib/internal/streams/pipeline.js"}],[1702,{"./_stream_readable":1704,"./_stream_writable":1706,_process:5411,inherits:4395},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};t.exports=u;var i=e("./_stream_readable"),o=e("./_stream_writable");e("inherits")(u,i);for(var s=n(o.prototype),a=0;a<s.length;a++){var c=s[a];u.prototype[c]||(u.prototype[c]=o.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||r.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==undefined&&this._writableState!==undefined&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){this._readableState!==undefined&&this._writableState!==undefined&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/async-iterator-to-stream/node_modules/readable-stream/lib/_stream_duplex.js"}],[1705,{"../errors":1701,"./_stream_duplex":1702,inherits:4395},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=l;var n=e("../errors").codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,c=e("./_stream_duplex");function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(t,r){f(e,t,r)}))}function f(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}e("inherits")(l,c),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new i("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/async-iterator-to-stream/node_modules/readable-stream/lib/_stream_transform.js"}],[1706,{"../errors":1701,"./_stream_duplex":1702,"./internal/streams/destroy":1709,"./internal/streams/state":1713,"./internal/streams/stream":1714,_process:5411,buffer:2072,inherits:4395,"util-deprecate":6e3},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var i;t.exports=S,S.WritableState=k;var o={deprecate:e("util-deprecate")},s=e("./internal/streams/stream"),a=e("buffer").Buffer,c=global.Uint8Array||function(){};var u,l=e("./internal/streams/destroy"),d=e("./internal/streams/state").getHighWaterMark,f=e("../errors").codes,h=f.ERR_INVALID_ARG_TYPE,p=f.ERR_METHOD_NOT_IMPLEMENTED,m=f.ERR_MULTIPLE_CALLBACK,_=f.ERR_STREAM_CANNOT_PIPE,b=f.ERR_STREAM_DESTROYED,g=f.ERR_STREAM_NULL_VALUES,y=f.ERR_STREAM_WRITE_AFTER_END,w=f.ERR_UNKNOWN_ENCODING,v=l.errorOrDestroy;function E(){}function k(t,o,s){i=i||e("./_stream_duplex"),t=t||{},"boolean"!=typeof s&&(s=o instanceof i),this.objectMode=!!t.objectMode,s&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=d(this,t,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,o=n.writecb;if("function"!=typeof o)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,o){--t.pendingcb,n?(r.nextTick(o,i),r.nextTick(A,e,t),e._writableState.errorEmitted=!0,v(e,i)):(o(i),e._writableState.errorEmitted=!0,v(e,i),A(e,t))}(e,n,i,t,o);else{var s=j(n)||e.destroyed;s||n.corked||n.bufferProcessing||!n.bufferedRequest||x(e,n),i?r.nextTick(T,e,n,s,o):T(e,n,s,o)}}(o,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function S(t){var r=this instanceof(i=i||e("./_stream_duplex"));if(!r&&!u.call(S,this))return new S(t);this._writableState=new k(t,this,r),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),s.call(this)}function R(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new b("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function T(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),A(e,t)}function x(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,o=new Array(i),s=t.corkedRequestsFree;s.entry=r;for(var a=0,c=!0;r;)o[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;o.allBuffers=c,R(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,d=r.callback;if(R(e,t,!1,t.objectMode?1:u.length,u,l,d),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function j(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function I(e,t){e._final((function(r){t.pendingcb--,r&&v(e,r),t.prefinished=!0,e.emit("prefinish"),A(e,t)}))}function A(e,t){var n=j(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,r.nextTick(I,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return n}e("inherits")(S,s),k.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(k.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(e){return!!u.call(this,e)||this===S&&(e&&e._writableState instanceof k)}})):u=function(e){return e instanceof this},S.prototype.pipe=function(){v(this,new _)},S.prototype.write=function(e,t,n){var i,o=this._writableState,s=!1,u=!o.objectMode&&(i=e,a.isBuffer(i)||i instanceof c);return u&&!a.isBuffer(e)&&(e=function(e){return a.from(e)}(e)),"function"==typeof t&&(n=t,t=null),u?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof n&&(n=E),o.ending?function(e,t){var n=new y;v(e,n),r.nextTick(t,n)}(this,n):(u||function(e,t,n,i){var o;return null===n?o=new g:"string"==typeof n||t.objectMode||(o=new h("chunk",["string","Buffer"],n)),!o||(v(e,o),r.nextTick(i,o),!1)}(this,o,e,n))&&(o.pendingcb++,s=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=a.from(t,r));return t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var c=t.objectMode?1:n.length;t.length+=c;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else R(e,t,!1,c,n,i,o);return u}(this,o,u,e,t,n)),s},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||x(this,e))},S.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(e,t,r){r(new p("_write()"))},S.prototype._writev=null,S.prototype.end=function(e,t,n){var i=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&e!==undefined&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,n){t.ending=!0,A(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n),this},Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==undefined&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),S.prototype.destroy=l.destroy,S.prototype._undestroy=l.undestroy,S.prototype._destroy=function(e,t){t(e)}}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/async-iterator-to-stream/node_modules/readable-stream/lib/_stream_writable.js"}],[1703,{"./_stream_transform":1705,inherits:4395},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=i;var n=e("./_stream_transform");function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}e("inherits")(i,n),i.prototype._transform=function(e,t,r){r(null,e)}}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/async-iterator-to-stream/node_modules/readable-stream/lib/_stream_passthrough.js"}],[1704,{"../errors":1701,"./_stream_duplex":1702,"./internal/streams/async_iterator":1707,"./internal/streams/buffer_list":1708,"./internal/streams/destroy":1709,"./internal/streams/from":1711,"./internal/streams/state":1713,"./internal/streams/stream":1714,_process:5411,buffer:2072,events:2073,inherits:4395,"string_decoder/":5889,util:2071},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n;t.exports=S,S.ReadableState=k;e("events").EventEmitter;var i=function(e,t){return e.listeners(t).length},o=e("./internal/streams/stream"),s=e("buffer").Buffer,a=global.Uint8Array||function(){};var c,u=e("util");c=u&&u.debuglog?u.debuglog("stream"):function(){};var l,d,f,h=e("./internal/streams/buffer_list"),p=e("./internal/streams/destroy"),m=e("./internal/streams/state").getHighWaterMark,_=e("../errors").codes,b=_.ERR_INVALID_ARG_TYPE,g=_.ERR_STREAM_PUSH_AFTER_EOF,y=_.ERR_METHOD_NOT_IMPLEMENTED,w=_.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(S,o);var v=p.errorOrDestroy,E=["error","close","destroy","pause","resume"];function k(t,r,i){n=n||e("./_stream_duplex"),t=t||{},"boolean"!=typeof i&&(i=r instanceof n),this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=m(this,t,"readableHighWaterMark",i),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(l||(l=e("string_decoder/").StringDecoder),this.decoder=new l(t.encoding),this.encoding=t.encoding)}function S(t){if(n=n||e("./_stream_duplex"),!(this instanceof S))return new S(t);var r=this instanceof n;this._readableState=new k(t,this,r),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),o.call(this)}function R(e,t,r,n,i){c("readableAddChunk",t);var o,u=e._readableState;if(null===t)u.reading=!1,function(e,t){if(c("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?I(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,A(e)))}(e,u);else if(i||(o=function(e,t){var r;n=t,s.isBuffer(n)||n instanceof a||"string"==typeof t||t===undefined||e.objectMode||(r=new b("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(u,t)),o)v(e,o);else if(u.objectMode||t&&t.length>0)if("string"==typeof t||u.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=function(e){return s.from(e)}(t)),n)u.endEmitted?v(e,new w):T(e,u,t,!0);else if(u.ended)v(e,new g);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!r?(t=u.decoder.write(t),u.objectMode||0!==t.length?T(e,u,t,!1):O(e,u)):T(e,u,t,!1)}else n||(u.reading=!1,O(e,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function T(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&I(e)),O(e,t)}Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==undefined&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),S.prototype.destroy=p.destroy,S.prototype._undestroy=p.undestroy,S.prototype._destroy=function(e,t){t(e)},S.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=s.from(e,t),t=""),r=!0),R(this,e,t,!1,r)},S.prototype.unshift=function(e){return R(this,e,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(t){l||(l=e("string_decoder/").StringDecoder);var r=new l(t);this._readableState.decoder=r,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=r.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var x=1073741824;function j(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=x?e=x:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function I(e){var t=e._readableState;c("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(A,e))}function A(e){var t=e._readableState;c("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,M(e)}function O(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(P,e,t))}function P(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(c("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function L(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function N(e){c("readable nexttick read 0"),e.read(0)}function D(e,t){c("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),M(e),t.flowing&&!t.reading&&e.read(0)}function M(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function C(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function B(e){var t=e._readableState;c("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(U,t,e))}function U(e,t){if(c("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function F(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}S.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?B(this):I(this),null;if(0===(e=j(e,t))&&t.ended)return 0===t.length&&B(this),null;var n,i=t.needReadable;return c("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",i=!0),t.ended||t.reading?c("reading or ended",i=!1):i&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=j(r,t))),null===(n=e>0?C(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&B(this)),null!==n&&this.emit("data",n),n},S.prototype._read=function(e){v(this,new y("_read()"))},S.prototype.pipe=function(e,t){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,c("pipe count=%d opts=%j",o.pipesCount,t);var s=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?u:_;function a(t,r){c("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,c("cleanup"),e.removeListener("close",p),e.removeListener("finish",m),e.removeListener("drain",l),e.removeListener("error",h),e.removeListener("unpipe",a),n.removeListener("end",u),n.removeListener("end",_),n.removeListener("data",f),d=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function u(){c("onend"),e.end()}o.endEmitted?r.nextTick(s):n.once("end",s),e.on("unpipe",a);var l=function(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,M(e))}}(n);e.on("drain",l);var d=!1;function f(t){c("ondata");var r=e.write(t);c("dest.write",r),!1===r&&((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==F(o.pipes,e))&&!d&&(c("false write response, pause",o.awaitDrain),o.awaitDrain++),n.pause())}function h(t){c("onerror",t),_(),e.removeListener("error",h),0===i(e,"error")&&v(e,t)}function p(){e.removeListener("finish",m),_()}function m(){c("onfinish"),e.removeListener("close",p),_()}function _(){c("unpipe"),n.unpipe(e)}return n.on("data",f),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",h),e.once("close",p),e.once("finish",m),e.emit("pipe",n),o.flowing||(c("pipe resume"),n.resume()),e},S.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=F(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},S.prototype.on=function(e,t){var n=o.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,c("on readable",i.length,i.reading),i.length?I(this):i.reading||r.nextTick(N,this))),n},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(e,t){var n=o.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(L,this),n},S.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&e!==undefined||r.nextTick(L,this),t},S.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(D,e,t))}(this,e)),e.paused=!1,this},S.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},S.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(c("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(c("wrapped data"),r.decoder&&(i=r.decoder.write(i)),!r.objectMode||null!==i&&i!==undefined)&&((r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause())))})),e)this[i]===undefined&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<E.length;o++)e.on(E[o],this.emit.bind(this,E[o]));return this._read=function(t){c("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(S.prototype[Symbol.asyncIterator]=function(){return d===undefined&&(d=e("./internal/streams/async_iterator")),d(this)}),Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(S.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(S.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),S._fromList=C,Object.defineProperty(S.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(S.from=function(t,r){return f===undefined&&(f=e("./internal/streams/from")),f(S,t,r)})}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/async-iterator-to-stream/node_modules/readable-stream/lib/_stream_readable.js"}],[4455,{"./cp":4450,"./rm":4457,"./utils/apply-default-options":4460,"./utils/to-sources":4470},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("./utils/apply-default-options"),i=e("./utils/to-sources"),o=e("./cp"),s=e("./rm"),a={parents:!1,recursive:!1,flush:!0,format:"dag-pb",hashAlg:"sha2-256",shardSplitThreshold:1e3};t.exports=e=>async function(...t){Array.isArray(t[0])&&(t=t[0].concat(t.slice(1)));const{sources:r}=await i(e,t),c=n(t,a),u=r.map((e=>e.path)).concat(c),l=r.slice(0,-1).map((e=>e.path)).concat(Object.assign(c,{recursive:!0}));await o(e).apply(null,u),await s(e).apply(null,l)}}}},{package:"ipfs-mfs",file:"/home/circleci/project/node_modules/ipfs-mfs/src/core/mv.js"}],[4456,{"./utils/apply-default-options":4460,"./utils/to-mfs-path":4467,"err-code":2345,"ipfs-unixfs-exporter":4499},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("ipfs-unixfs-exporter"),i=e("./utils/apply-default-options"),o=e("./utils/to-mfs-path"),s=e("err-code"),a={offset:0,length:Infinity};t.exports=e=>function(t,r={}){return r=i(r,a),{[Symbol.asyncIterator]:async function*(){const i=await o(e,t),a=await n(i.mfsPath,e.ipld);if("file"!==a.unixfs.type)throw s(new Error(`${t} was not a file`),"ERR_NOT_FILE");if(!a.content)throw s(new Error(`Could not load content stream from ${t}`),"ERR_NO_CONTENT");for await(const e of a.content({offset:r.offset,length:r.length}))yield e}}}}}},{package:"ipfs-mfs",file:"/home/circleci/project/node_modules/ipfs-mfs/src/core/read.js"}],[4453,{"./utils/apply-default-options":4460,"./utils/constants":4461,"./utils/to-mfs-path":4467,"ipfs-unixfs-exporter":4499},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("ipfs-unixfs-exporter"),i=e("./utils/apply-default-options"),o=e("./utils/to-mfs-path"),{FILE_SEPARATOR:s,FILE_TYPES:a}=e("./utils/constants"),c={},u=e=>{let t=0,r=e.node.size||e.node.length;return e.unixfs&&(r=e.unixfs.fileSize(),t=a[e.unixfs.type]),{cid:e.cid,name:e.name,type:t,size:r}};t.exports=e=>async function*(t=s,r={}){"object"!=typeof t||t instanceof String||(r=t,t=s),r=i(r,c);const a=await o(e,t),l=await n(a.mfsPath,e.ipld);if(l.unixfs&&l.unixfs.type.includes("directory"))for await(const e of l.content(r))yield u(e);else yield u(l)}}}},{package:"ipfs-mfs",file:"/home/circleci/project/node_modules/ipfs-mfs/src/core/ls.js"}],[4458,{"./utils/apply-default-options":4460,"./utils/to-mfs-path":4467,debug:2243,"err-code":2345,"ipfs-unixfs-exporter":4499},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("./utils/apply-default-options"),i=e("./utils/to-mfs-path"),o=e("ipfs-unixfs-exporter"),s=e("debug")("ipfs:mfs:stat"),a=e("err-code"),c={withLocal:!1};t.exports=e=>async function(t,r){r=n(r,c),s(`Fetching stats for ${t}`);const{type:l,cid:d,mfsPath:f}=await i(e,t);let h,p="ipfs"===l&&d?d:f;try{h=await o(p,e.ipld)}catch(e){if("ERR_NOT_FOUND"===e.code)throw a(new Error(`${t} does not exist`),"ERR_NOT_FOUND");throw e}if(!u[h.cid.codec])throw new Error(`Cannot stat codec ${h.cid.codec}`);return u[h.cid.codec](h,r)};const u={raw:e=>({cid:e.cid,size:e.node.length,cumulativeSize:e.node.length,blocks:0,type:"file",local:undefined,sizeLocal:undefined,withLocality:!1}),"dag-pb":e=>{let t=e.node.Links.length,r=e.node.size,n=e.node.size,i=null;return e.unixfs&&(r=e.unixfs.fileSize(),i=e.unixfs.type,i.includes("directory")&&(r=0,n=e.node.size),"file"===i&&(t=e.unixfs.blockSizes.length)),{cid:e.cid,size:r,cumulativeSize:n,blocks:t,type:i,local:undefined,sizeLocal:undefined,withLocality:!1}},"dag-cbor":e=>({cid:e.cid,local:undefined,sizeLocal:undefined,withLocality:!1})}}}},{package:"ipfs-mfs",file:"/home/circleci/project/node_modules/ipfs-mfs/src/core/stat.js"}],[4451,{"./stat":4458,"./utils/apply-default-options":4460,"./utils/constants":4461},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("./utils/apply-default-options"),i=e("./stat"),{FILE_SEPARATOR:o}=e("./utils/constants"),s={};t.exports=e=>async function(t=o,r=s){r=n(r,s),await i(e)(t,r)}}}},{package:"ipfs-mfs",file:"/home/circleci/project/node_modules/ipfs-mfs/src/core/flush.js"}],[4454,{"./utils/add-link":4459,"./utils/apply-default-options":4460,"./utils/constants":4461,"./utils/create-node":4463,"./utils/to-path-components":4468,"./utils/update-mfs-root":4472,"./utils/update-tree":4473,"./utils/with-mfs-root":4474,debug:2243,"err-code":2345,"ipfs-unixfs-exporter":4499},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("err-code"),i=e("debug")("ipfs:mfs:mkdir"),o=e("ipfs-unixfs-exporter"),s=e("./utils/create-node"),a=e("./utils/to-path-components"),c=e("./utils/update-mfs-root"),u=e("./utils/update-tree"),l=e("./utils/add-link"),d=e("./utils/with-mfs-root"),f=e("./utils/apply-default-options"),{FILE_SEPARATOR:h}=e("./utils/constants"),p={parents:!1,hashAlg:"sha2-256",cidVersion:0,shardSplitThreshold:1e3,format:"dag-pb",flush:!0};t.exports=e=>async function(t,r){if(r=f(r,p),!t)throw new Error("no path given to Mkdir");if((t=t.trim())===h){if(r.parents)return;throw n(new Error(`cannot create directory '${h}': Already exists`),"ERR_INVALID_PATH")}if(t.substring(0,1)!==h)throw n(new Error("paths must start with a leading /"),"ERR_INVALID_PATH");i(`Creating ${t}`);const l=a(t);if("ipfs"===l[0])throw n(new Error("path cannot have the prefix 'ipfs'"),"ERR_INVALID_PATH");let _,b=await d(e),g=[];const y=await s(e,"directory",r);for(let t=0;t<=l.length;t++){const s=l.slice(0,t),a=`/ipfs/${b}/${s.join("/")}`;try{if(_=await o(a,e.ipld),i(`${a} existed`),i(`${a} had children ${_.node.Links.map((e=>e.Name))}`),t===l.length){if(r.parents)return;throw n(new Error("file already exists"),"ERR_ALREADY_EXISTS")}g.push({name:_.name,cid:_.cid})}catch(i){if("ERR_NOT_FOUND"!==i.code)throw i;if(t<l.length&&!r.parents)throw n(new Error(`Intermediate directory path ${a} does not exist, use the -p flag to create it`),"ERR_NOT_FOUND");await m(e,s[s.length-1],y,g[g.length-1],g,r)}}const w=await u(e,g,r);await c(e,w)};const m=async(e,t,r,n,o,s)=>{i(`Adding empty dir called ${t} to ${n.cid}`);const a=await l(e,{parent:n.node,parentCid:n.cid,size:r.node.size,cid:r.cid,name:t,format:s.format,hashAlg:s.hashAlg,cidVersion:s.cidVersion});o[o.length-1].cid=a.cid,o.push({name:t,cid:r.cid})}}}},{package:"ipfs-mfs",file:"/home/circleci/project/node_modules/ipfs-mfs/src/core/mkdir.js"}],[4457,{"./utils/apply-default-options":4460,"./utils/constants":4461,"./utils/remove-link":4465,"./utils/to-mfs-path":4467,"./utils/to-sources":4470,"./utils/to-trail":4471,"./utils/update-mfs-root":4472,"./utils/update-tree":4473,"err-code":2345},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("err-code"),i=e("./utils/update-tree"),o=e("./utils/update-mfs-root"),s=e("./utils/to-sources"),a=e("./utils/remove-link"),c=e("./utils/to-mfs-path"),u=e("./utils/to-trail"),l=e("./utils/apply-default-options"),{FILE_SEPARATOR:d}=e("./utils/constants"),f={recursive:!1,cidVersion:0,hashAlg:"sha2-256",format:"dag-pb",flush:!0};t.exports=e=>async function(){const t=Array.from(arguments),{sources:r}=await s(e,t,f),i=l(t,f);if(!r.length)throw n(new Error("Please supply at least one path to remove"),"ERR_INVALID_PARAMS");r.forEach((e=>{if(e.path===d)throw n(new Error("Cannot delete root"),"ERR_INVALID_PARAMS")}));for(const t of r)await h(e,t.path,i)};const h=async(e,t,r)=>{const s=await c(e,t),l=await u(e,s.mfsPath,r),d=l.pop(),f=l[l.length-1];if(!f)throw n(new Error(`${t} does not exist`),"ERR_NOT_FOUND");if("directory"===d.type&&!r.recursive)throw n(new Error(`${t} is a directory, use -r to remove directories`),"ERR_WAS_DIR");const{cid:h}=await a(e,{parentCid:f.cid,name:d.name,format:r.format,hashAlg:r.hashAlg,cidVersion:r.cidVersion,flush:r.flush});f.cid=h;const p=await i(e,l,r);await o(e,p)}}}},{package:"ipfs-mfs",file:"/home/circleci/project/node_modules/ipfs-mfs/src/core/rm.js"}],[4475,{"./mkdir":4454,"./stat":4458,"./utils/add-link":4459,"./utils/apply-default-options":4460,"./utils/constants":4461,"./utils/create-lock":4462,"./utils/to-async-iterator":4466,"./utils/to-mfs-path":4467,"./utils/to-path-components":4468,"./utils/to-trail":4471,"./utils/update-mfs-root":4472,"./utils/update-tree":4473,"async-iterator-last":1698,buffer:2072,debug:2243,"err-code":2345,"ipfs-unixfs-importer":4524},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){const n=e("debug")("ipfs:mfs:write"),i=e("ipfs-unixfs-importer"),o=e("./stat"),s=e("./mkdir"),a=e("./utils/add-link"),c=e("./utils/apply-default-options"),u=e("./utils/create-lock"),l=e("./utils/to-async-iterator"),d=e("./utils/to-mfs-path"),f=e("./utils/to-path-components"),h=e("./utils/to-trail"),p=e("./utils/update-tree"),m=e("./utils/update-mfs-root"),_=e("err-code"),{MAX_CHUNK_SIZE:b}=e("./utils/constants"),g=e("async-iterator-last"),y={offset:0,length:undefined,create:!1,truncate:!1,rawLeaves:!1,reduceSingleLeafToSelf:!1,cidVersion:0,hashAlg:"sha2-256",format:"dag-pb",parents:!1,progress:()=>{},strategy:"trickle",flush:!0,leafType:"raw",shardSplitThreshold:1e3};t.exports=e=>async function(t,r,i){let o,s,a;if(n("Hello world, writing",t,r,i),i=c(i,y),n("Reading source, destination and parent"),await u().readLock((async()=>{o=await l(r,i),s=await d(e,t),a=await d(e,s.mfsDirectory)}))(),n("Read source, destination and parent"),!i.parents&&!a.exists)throw _(new Error("directory does not exist"),"ERR_NO_EXIST");if(!i.create&&!s.exists)throw _(new Error("file does not exist"),"ERR_NO_EXIST");return w(e,t,o,s,i)};const w=async(e,t,r,n,i)=>{const c=await v(e,r,n,i);await u().writeLock((async()=>{const r=f(t),n=r.pop();let u=!1;try{await o(e)(`/${r.join("/")}`,i),u=!0}catch(e){if("ERR_NOT_FOUND"!==e.code)throw e}u||await s(e)(`/${r.join("/")}`,i);const l=await d(e,t),b=await h(e,l.mfsDirectory,i),g=b[b.length-1];if(!g.type.includes("directory"))throw _(new Error(`cannot write to ${g.name}: Not a directory`),"ERR_NOT_A_DIRECTORY");const y=await e.ipld.get(g.cid),w=await a(e,{parent:y,name:n,cid:c.cid,size:c.size,flush:i.flush,shardSplitThreshold:i.shardSplitThreshold,format:i.format,hashAlg:i.hashAlg,cidVersion:i.cidVersion});g.cid=w.cid;const v=await p(e,b,i);await m(e,v)}))()},v=async(e,t,r,o)=>{r.exists?n(`Overwriting file ${r.cid} offset ${o.offset} length ${o.length}`):n(`Writing file offset ${o.offset} length ${o.length}`);const s=[];o.offset>0&&(r.unixfs&&r.unixfs.fileSize()>o.offset?(n(`Writing first ${o.offset} bytes of original file`),s.push((()=>r.content({offset:0,length:o.offset})))):(n(`Writing zeros for first ${o.offset} bytes`),s.push(k(o.offset)))),s.push(E(t,o.length));const a=R(S(s),(e=>{if(r.unixfs&&!o.truncate){const t=r.unixfs.fileSize();if(t>e)return n(`Writing last ${t-e} of ${t} bytes from original file starting at offset ${e}`),r.content({offset:e});n("Not writing last bytes from original file")}return{[Symbol.asyncIterator]:async function*(){}}}));let c=await g(i([{content:a}],e.ipld,{progress:o.progress,hashAlg:o.hashAlg,cidVersion:o.cidVersion,strategy:o.strategy,rawLeaves:o.rawLeaves,reduceSingleLeafToSelf:o.reduceSingleLeafToSelf,leafType:o.leafType}));return n(`Wrote ${c.cid}`),{cid:c.cid,size:c.size}},E=(e,t)=>async function*(){let r=0;for await(const n of e){if(r+=n.length,r>t)return void(yield n.slice(0,t-r));yield n}},k=(e,t=b)=>{const n=r.alloc(t,0),i={[Symbol.asyncIterator]:async function*(){for(;;)yield n.slice()}};return E(i,e)},S=async function*(e){for(let t=0;t<e.length;t++)for await(const r of e[t]())yield r},R=async function*(e,t){let r=0;for await(const t of e)r+=t.length,yield t;for await(const e of t(r))r+=e.length,yield e}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ipfs-mfs",file:"/home/circleci/project/node_modules/ipfs-mfs/src/core/write.js"}],[4450,{"./mkdir":4454,"./utils/add-link":4459,"./utils/apply-default-options":4460,"./utils/to-mfs-path":4467,"./utils/to-sources-and-destination":4469,"./utils/to-trail":4471,"./utils/update-mfs-root":4472,"./utils/update-tree":4473,debug:2243,"err-code":2345},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("./mkdir"),i=e("debug")("ipfs:mfs:cp"),o=e("err-code"),s=e("./utils/update-tree"),a=e("./utils/update-mfs-root"),c=e("./utils/add-link"),u=e("./utils/apply-default-options"),l=e("./utils/to-mfs-path"),d=e("./utils/to-sources-and-destination"),f=e("./utils/to-trail"),h={parents:!1,flush:!0,format:"dag-pb",hashAlg:"sha2-256",cidVersion:0,shardSplitThreshold:1e3};t.exports=e=>async function(...t){const r=u(t,h);let{sources:s,destination:a}=await d(e,t);if(!s.length)throw o(new Error("Please supply at least one source"),"ERR_INVALID_PARAMS");if(!a)throw o(new Error("Please supply a destination"),"ERR_INVALID_PARAMS");r.parents=r.p||r.parents;const c=s.find((e=>!e.exists));if(c)throw o(new Error(`${c.path} does not exist`),"ERR_INVALID_PARAMS");const b=p(a);if(a.exists){if(i("Destination exists"),1===s.length&&!b)throw o(new Error("directory already has entry by that name"),"ERR_ALREADY_EXISTS")}else if(i("Destination does not exist"),s.length>1){if(!r.parents)throw o(new Error("destination did not exist, pass -p to create intermediate directories"),"ERR_INVALID_PARAMS");await n(e)(a.path,r),a=await l(e,a.path)}const g=p(a)?a.mfsPath:a.mfsDirectory,y=await f(e,g,r);if(1===s.length){const t=s.pop(),n=b?t.name:a.name;return i(`Only one source, copying to destination ${b?"directory":"file"} ${n}`),m(e,t,n,y,r)}return i("Multiple sources, wrapping in a directory"),_(e,s,a,y,r)};const p=e=>e.unixfs&&e.unixfs.type&&e.unixfs.type.includes("directory"),m=async(e,t,r,n,i)=>{let o=n.pop();o=await b(e,t,r,o,i),n.push(o);const c=await s(e,n,i);await a(e,c)},_=async(e,t,r,n,i)=>{for(let n=0;n<t.length;n++){const o=t[n];r=await b(e,o,o.name,r,i)}n[n.length-1]=r;const o=await s(e,n,i);await a(e,o)},b=async(e,t,r,n,i)=>{const o=await e.repo.blocks.get(t.cid),{node:s,cid:a}=await c(e,{parentCid:n.cid,size:o.data.length,cid:t.cid,name:r,format:i.format,hashAlg:i.hashAlg,cidVersion:i.cidVersion});return n.node=s,n.cid=a,n.size=s.size,n}}}},{package:"ipfs-mfs",file:"/home/circleci/project/node_modules/ipfs-mfs/src/core/cp.js"}],[4462,{mortice:5192},function(){with(this)return function(){"use strict";return function(e,t,r){const n=e("mortice");let i;t.exports=e=>{if(i)return i;const t=n({singleProcess:e});return i={readLock:e=>(...r)=>t.readLock((()=>e.apply(null,r))),writeLock:e=>(...r)=>t.writeLock((()=>e.apply(null,r)))},i}}}},{package:"ipfs-mfs",file:"/home/circleci/project/node_modules/ipfs-mfs/src/core/utils/create-lock.js"}],[1163,{"./constants":1157,buffer:2072},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.isValidBase64StringKey=r.isValidHexStringKey=r.isValidBufferKey=r.bufferToBase64String=r.hexStringToBuffer=r.base64StringToBuffer=r.isValidHexString=r.stripHexPrefix=r.isHardened=r.isValidBIP32Index=r.validateBIP32Index=r.getUnhardenedBIP32NodeToken=r.getHardenedBIP32NodeToken=r.getBIP44CoinTypeToAddressPathTuple=r.getBIP44ChangePathString=r.getBIP44CoinTypePathString=void 0;const n=e("./constants");function i(e){return s(e),`${o(e)}'`}function o(e){return s(e),`bip32:${e}`}function s(e){if(!a(e))throw new Error("Invalid BIP-32 index: Must be a non-negative integer.")}function a(e){return Number.isInteger(e)&&e>=0}function c(e){return e.replace(/^0x/iu,"")}function u(e){return/^(?:0x)?[a-f0-9]+$/iu.test(e)}r.getBIP44CoinTypePathString=function(e){return`m / ${n.BIP44PurposeNodeToken} / ${o(e)}'`},r.getBIP44ChangePathString=function(e,t){return`${e} / ${i(t.account||0)} / ${o(t.change||0)}`},r.getBIP44CoinTypeToAddressPathTuple=function({account:e=0,change:t=0,address_index:r}){return[i(e),o(t),o(r)]},r.getHardenedBIP32NodeToken=i,r.getUnhardenedBIP32NodeToken=o,r.validateBIP32Index=s,r.isValidBIP32Index=a,r.isHardened=function(e){return e.endsWith("'")},r.stripHexPrefix=c,r.isValidHexString=u,r.base64StringToBuffer=function(e){return t.from(e,"base64")},r.hexStringToBuffer=function(e){return t.from(c(e),"hex")},r.bufferToBase64String=function(e){return e.toString("base64")},r.isValidBufferKey=function(e){if(e.length!==n.BUFFER_KEY_LENGTH)return!1;for(const t of e)if(0!==t)return!0;return!1},r.isValidHexStringKey=function(e){if(!u(e))return!1;const t=c(e);return t.length===n.HEXADECIMAL_KEY_LENGTH&&!/^0+$/iu.test(t)},r.isValidBase64StringKey=function(e){return t=e,!!n.BASE_64_REGEX.test(t)&&(e.length===n.BASE_64_KEY_LENGTH&&e!==n.BASE_64_ZERO);var t}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/key-tree",file:"/home/circleci/project/node_modules/@metamask/key-tree/dist/utils.js"}],[1158,{"../../../is-buffer/index.js":4677,"./constants":1157,"./derivers":1161},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.validatePathSegment=r.deriveKeyFromPath=void 0;const n=e("./constants"),i=e("./derivers");function o(e,t,r){if(0===e.length)throw new Error("Invalid HD path segment: The segment must not be empty.");if(e.length-1>n.MAX_BIP_44_DEPTH)throw new Error("Invalid HD path segment: The segment cannot exceed a 0-indexed depth of 5.");let i=!1;if(e.forEach(((e,t)=>{if(0===t){if(i=n.BIP_39_PATH_REGEX.test(e),!i&&!n.BIP_32_PATH_REGEX.test(e))throw s()}else if(!n.BIP_32_PATH_REGEX.test(e))throw s()})),r===n.MIN_BIP_44_DEPTH&&(!i||1!==e.length))throw new Error(`Invalid HD path segment: The segment must consist of a single BIP-39 node for depths of ${n.MIN_BIP_44_DEPTH}. Received: "${e}"`);if(!t&&!i)throw new Error("Invalid derivation parameters: Must specify parent key if the first node of the path segment is not a BIP-39 node.");if(t&&i)throw new Error("Invalid derivation parameters: May not specify parent key if the path segment starts with a BIP-39 node.")}function s(){throw new Error("Invalid HD path segment: The path segment is malformed.")}r.deriveKeyFromPath=function(e,r,n){if(r&&!t.isBuffer(r))throw new Error("Parent key must be a Buffer if specified.");o(e,Boolean(r),n);let s=r;return e.forEach((e=>{const[t,r]=e.split(":");if(!function(e){return e in i.derivers}(t))throw new Error(`Unknown derivation type: "${t}"`);const n=i.derivers[t].deriveChildKey(r,s);s=n})),s},r.validatePathSegment=o}).call(this)}).call(this,{isBuffer:e("../../../is-buffer/index.js")})}}},{package:"@metamask/key-tree",file:"/home/circleci/project/node_modules/@metamask/key-tree/dist/derivation.js"}],[1391,{},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.abiERC20=void 0,r.abiERC20=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"version",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"},{name:"_extraData",type:"bytes"}],name:"approveAndCall",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"remaining",type:"uint256"}],payable:!1,type:"function"},{inputs:[{name:"_initialAmount",type:"uint256"},{name:"_tokenName",type:"string"},{name:"_decimalUnits",type:"uint8"},{name:"_tokenSymbol",type:"string"}],type:"constructor"},{payable:!1,type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"_from",type:"address"},{indexed:!0,name:"_to",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_owner",type:"address"},{indexed:!0,name:"_spender",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Approval",type:"event"}]}}},{package:"@metamask/metamask-eth-abis",file:"/home/circleci/project/node_modules/@metamask/snap-controllers/node_modules/@metamask/metamask-eth-abis/dist/abis/abiERC20.js"}],[1392,{},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.abiERC721=void 0,r.abiERC721=[{constant:!0,inputs:[{name:"interfaceID",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"name",outputs:[{name:"_name",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_tokenId",type:"uint256"}],name:"getApproved",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_approved",type:"address"},{name:"_tokenId",type:"uint256"}],name:"approve",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"transferFrom",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"_index",type:"uint256"}],name:"tokenByIndex",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_tokenId",type:"uint256"}],name:"ownerOf",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"_symbol",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_operator",type:"address"},{name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"},{name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"_tokenId",type:"uint256"}],name:"tokenURI",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_operator",type:"address"}],name:"isApprovedForAll",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"_from",type:"address"},{indexed:!0,name:"_to",type:"address"},{indexed:!0,name:"_tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_owner",type:"address"},{indexed:!0,name:"_approved",type:"address"},{indexed:!0,name:"_tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_owner",type:"address"},{indexed:!0,name:"_operator",type:"address"},{indexed:!1,name:"_approved",type:"bool"}],name:"ApprovalForAll",type:"event"}]}}},{package:"@metamask/metamask-eth-abis",file:"/home/circleci/project/node_modules/@metamask/snap-controllers/node_modules/@metamask/metamask-eth-abis/dist/abis/abiERC721.js"}],[1390,{},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.abiERC1155=void 0,r.abiERC1155=[{inputs:[{internalType:"string",name:"uri_",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}]}}},{package:"@metamask/metamask-eth-abis",file:"/home/circleci/project/node_modules/@metamask/snap-controllers/node_modules/@metamask/metamask-eth-abis/dist/abis/abiERC1155.js"}],[1369,{},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){const t=e.map((e=>e.baseFeePerGas)),r=t[0],n=t[t.length-1];return n.gt(r)?"up":r.gt(n)?"down":"level"}}}},{package:"@metamask/controllers",file:"/home/circleci/project/node_modules/@metamask/snap-controllers/node_modules/@metamask/controllers/dist/gas/fetchGasEstimatesViaEthFeeHistory/calculateBaseFeeTrend.js"}],[1371,{},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){const t=e[e.length-1].baseFeePerGas,r=e.map((e=>e.baseFeePerGas)).sort(((e,t)=>e.cmp(t))).findIndex((e=>e.gte(t)));return-1!==r?r/(e.length-1):0}}}},{package:"@metamask/controllers",file:"/home/circleci/project/node_modules/@metamask/snap-controllers/node_modules/@metamask/controllers/dist/gas/fetchGasEstimatesViaEthFeeHistory/calculateNetworkCongestion.js"}],[1374,{"../../util":1389},function(){with(this)return function(){"use strict";return function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0});const i=e("../../util");r.default=function(e,t=!1){return n(this,void 0,void 0,(function*(){const r=yield i.query(e,"blockNumber"),n=yield i.query(e,"getBlockByNumber",[r,t]);return Object.assign(Object.assign({},n),{number:i.fromHex(n.number),baseFeePerGas:i.fromHex(n.baseFeePerGas)})}))}}}},{package:"@metamask/controllers",file:"/home/circleci/project/node_modules/@metamask/snap-controllers/node_modules/@metamask/controllers/dist/gas/fetchGasEstimatesViaEthFeeHistory/fetchLatestBlock.js"}],[1367,{"../fetchBlockFeeHistory":1365},function(){with(this)return function(){"use strict";return function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});const o=i(e("../fetchBlockFeeHistory"));r.default=class{constructor({ethQuery:e,endBlockNumber:t}){this.ethQuery=e,this.endBlockNumber=t}forAll(){return n(this,void 0,void 0,(function*(){const[e,t,r,n,i]=yield Promise.all([this.forLongRange(),this.forMediumRange(),this.forSmallRange(),this.forTinyRange(),this.forLatestWithNextBlock()]);return{longRange:e,mediumRange:t,smallRange:r,tinyRange:n,latest:i.slice(0,-1),latestWithNextBlock:i}}))}forLongRange(){return this.fetchExcludingNextBlock({numberOfBlocks:2e4})}forMediumRange(){return this.fetchExcludingNextBlock({numberOfBlocks:200,percentiles:[10,95]})}forSmallRange(){return this.fetchExcludingNextBlock({numberOfBlocks:5,percentiles:[10,20,30]})}forTinyRange(){return this.fetchExcludingNextBlock({numberOfBlocks:2,percentiles:[50]})}forLatestWithNextBlock(){return this.fetchIncludingNextBlock({numberOfBlocks:1,percentiles:[10,95]})}fetchExcludingNextBlock(e){return o.default(Object.assign({ethQuery:this.ethQuery,endBlock:this.endBlockNumber},e))}fetchIncludingNextBlock(e){return o.default(Object.assign({ethQuery:this.ethQuery,endBlock:this.endBlockNumber,includeNextBlock:!0},e))}}}}},{package:"@metamask/controllers",file:"/home/circleci/project/node_modules/@metamask/snap-controllers/node_modules/@metamask/controllers/dist/gas/fetchGasEstimatesViaEthFeeHistory/BlockFeeHistoryDatasetFetcher.js"}],[1370,{"../../constants":1362,"./medianOf":1375,"ethereumjs-util":2511,"ethjs-unit":2563},function(){with(this)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});const i=e("ethereumjs-util"),o=e("ethjs-unit"),s=e("../../constants"),a=n(e("./medianOf")),c=["low","medium","high"],u={low:{percentile:10,baseFeePercentageMultiplier:new i.BN(110),priorityFeePercentageMultiplier:new i.BN(94),minSuggestedMaxPriorityFeePerGas:new i.BN(1e9),estimatedWaitTimes:{minWaitTimeEstimate:15e3,maxWaitTimeEstimate:3e4}},medium:{percentile:20,baseFeePercentageMultiplier:new i.BN(120),priorityFeePercentageMultiplier:new i.BN(97),minSuggestedMaxPriorityFeePerGas:new i.BN(15e8),estimatedWaitTimes:{minWaitTimeEstimate:15e3,maxWaitTimeEstimate:45e3}},high:{percentile:30,baseFeePercentageMultiplier:new i.BN(125),priorityFeePercentageMultiplier:new i.BN(98),minSuggestedMaxPriorityFeePerGas:new i.BN(2e9),estimatedWaitTimes:{minWaitTimeEstimate:15e3,maxWaitTimeEstimate:6e4}}};r.default=function(e){return c.reduce(((t,r)=>{const n=function(e,t){const r=u[e],n=t[t.length-1].baseFeePerGas.mul(r.baseFeePercentageMultiplier).divn(100),c=t.map((e=>e.priorityFeesByPercentile[r.percentile])),l=a.default(c).mul(r.priorityFeePercentageMultiplier).divn(100),d=i.BN.max(l,r.minSuggestedMaxPriorityFeePerGas),f=n.add(d);return Object.assign(Object.assign({},r.estimatedWaitTimes),{suggestedMaxPriorityFeePerGas:o.fromWei(d,s.GWEI),suggestedMaxFeePerGas:o.fromWei(f,s.GWEI)})}(r,e);return Object.assign(Object.assign({},t),{[r]:n})}),{})}}}},{package:"@metamask/controllers",file:"/home/circleci/project/node_modules/@metamask/snap-controllers/node_modules/@metamask/controllers/dist/gas/fetchGasEstimatesViaEthFeeHistory/calculateGasFeeEstimatesForPriorityLevels.js"}],[1372,{"../../constants":1362,"ethereumjs-util":2511,"ethjs-unit":2563},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});const n=e("ethereumjs-util"),i=e("ethjs-unit"),o=e("../../constants");r.default=function(e){const t=e.map((e=>e.priorityFeesByPercentile[10])).filter((e=>!e.eq(new n.BN(0)))).sort(((e,t)=>e.cmp(t))),r=e.map((e=>e.priorityFeesByPercentile[95])).sort(((e,t)=>e.cmp(t)));return[i.fromWei(t[0],o.GWEI),i.fromWei(r[r.length-1],o.GWEI)]}}}},{package:"@metamask/controllers",file:"/home/circleci/project/node_modules/@metamask/snap-controllers/node_modules/@metamask/controllers/dist/gas/fetchGasEstimatesViaEthFeeHistory/calculatePriorityFeeRange.js"}],[1368,{"../../constants":1362,"ethjs-unit":2563},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});const n=e("ethjs-unit"),i=e("../../constants");r.default=function(e){const t=e.map((e=>e.baseFeePerGas)).sort(((e,t)=>e.cmp(t)));return[n.fromWei(t[0],i.GWEI),n.fromWei(t[t.length-1],i.GWEI)]}}}},{package:"@metamask/controllers",file:"/home/circleci/project/node_modules/@metamask/snap-controllers/node_modules/@metamask/controllers/dist/gas/fetchGasEstimatesViaEthFeeHistory/calculateBaseFeeRange.js"}],[1373,{"ethereumjs-util":2511},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});const n=e("ethereumjs-util");r.default=function(e){const t=e.map((e=>e.priorityFeesByPercentile[50])).filter((e=>!e.eq(new n.BN(0)))),r=t[0],i=t[t.length-1];return i.gt(r)?"up":r.gt(i)?"down":"level"}}}},{package:"@metamask/controllers",file:"/home/circleci/project/node_modules/@metamask/snap-controllers/node_modules/@metamask/controllers/dist/gas/fetchGasEstimatesViaEthFeeHistory/calculatePriorityFeeTrend.js"}],[1427,{"./lib/bytesToUuid":1425,"./lib/rng":1426},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("./lib/rng"),i=e("./lib/bytesToUuid");t.exports=function(e,t,r){var o=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||n)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[o+a]=s[a];return t||i(s)}}}},{package:"uuid",file:"/home/circleci/project/node_modules/@metamask/snap-controllers/node_modules/ethereumjs-wallet/node_modules/uuid/v4.js"}],[1424,{"./index":1423,"aes-js":1666,buffer:2072,crypto:2181,"ethereumjs-util":2511,"scrypt-js":5739,utf8:5999},function(){with(this)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(r,"__esModule",{value:!0}),r.fromQuorumWallet=r.fromKryptoKit=r.fromEtherCamp=r.fromEtherWallet=void 0;var o=e("crypto"),s=e("ethereumjs-util"),a=e("scrypt-js"),c=e("./index"),u=e("utf8"),l=e("aes-js");var d={count:1,keysize:16,ivsize:16,digest:"md5"};function f(e,r,n){var i=function(e){return e?{count:e.count||d.count,keysize:e.keysize||d.keysize,ivsize:e.ivsize||d.ivsize,digest:e.digest||d.digest}:d}(n);function s(t){var n=o.createHash(i.digest);n.update(t),n.update(e),n.update(r),t=n.digest();for(var s=1,a=i.count;s<a;s++)(n=o.createHash(i.digest)).update(t),t=n.digest();return t}for(var a=[],c=0;t.concat(a).length<i.keysize+i.ivsize;)a[c]=s(0===c?t.alloc(0):a[c-1]),c++;var u=t.concat(a);return{key:u.slice(0,i.keysize),iv:u.slice(i.keysize,i.keysize+i.ivsize)}}function h(e,r){var n,i="object"==typeof e?e:JSON.parse(e);if(i.locked){if("string"!=typeof r)throw new Error("Password required");if(r.length<7)throw new Error("Password must be at least 7 characters");var s=function(e){var r=t.from(e,"base64");return"Salted__"===r.slice(0,8).toString()?{salt:r.slice(8,16),ciphertext:r.slice(16)}:{ciphertext:r}}(i.encrypted?i.private.slice(0,128):i.private);if(!s.salt)throw new Error("Unsupported EtherWallet key format");var a=f(t.from(r),s.salt,{keysize:32,ivsize:16});n=function(e,r){return t.concat([e.update(r),e.final()])}(o.createDecipheriv("aes-256-cbc",a.key,a.iv),t.from(s.ciphertext)),n=t.from(u.decode(n.toString()),"hex")}else{if(64!==i.private.length)throw new Error("Invalid private key length");n=t.from(i.private,"hex")}var l=new c.default(n);if(l.getAddressString()!==i.address)throw new Error("Invalid private key or address");return l}function p(e){return new c.default(s.keccak256(t.from(e)))}function m(e,r){return n(this,void 0,void 0,(function(){var n,o,u,d,f,h,p;return i(this,(function(i){switch(i.label){case 0:return"#"===e[0]&&(e=e.slice(1)),n=e[0],e=e.slice(1),"d"!==n?[3,1]:(o=s.sha256(s.toBuffer(e)),[3,4]);case 1:if("q"!==n)return[3,3];if("string"!=typeof r)throw new Error("Password required");return u=s.sha256(t.from(e.slice(0,30))),d=e.slice(30,46),f=function(e){function r(e){try{return decodeURIComponent(e)}catch(e){return String.fromCharCode(65533)}}for(var n="",i="",o=0;o<e.length;o++)e[o]<=127?(n+=r(i)+String.fromCharCode(e[o]),i=""):i+="%"+e[o].toString(16);return t.from(n+r(i))}(u),[4,a.scrypt(t.from(r,"utf8"),f,16384,8,1,32)];case 2:if(h=i.sent(),p=new l.ModeOfOperation.ecb(h),o=t.concat([t.from(p.decrypt(u.slice(0,16))),t.from(p.decrypt(u.slice(16,32)))]),d.length>0&&d!==s.sha256(s.sha256(o)).slice(0,8).toString("hex"))throw new Error("Failed to decrypt input - possibly invalid passphrase");return[3,4];case 3:throw new Error("Unsupported or invalid entropy type");case 4:return[2,new c.default(o)]}}))}))}function _(e,t){if(e.length<10)throw new Error("Passphrase must be at least 10 characters");if(t.length<10)throw new Error("User id must be at least 10 characters");var r=e+t,n=o.pbkdf2Sync(r,r,2e3,32,"sha256");return new c.default(n)}r.fromEtherWallet=h,r.fromEtherCamp=p,r.fromKryptoKit=m,r.fromQuorumWallet=_;var b={fromEtherWallet:h,fromEtherCamp:p,fromKryptoKit:m,fromQuorumWallet:_};r.default=b}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ethereumjs-wallet",file:"/home/circleci/project/node_modules/@metamask/snap-controllers/node_modules/ethereumjs-wallet/dist/thirdparty.js"}],[1422,{"./index":1423,"ethereum-cryptography/hdkey":2481},function(){with(this)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=e("./index"),i=e("ethereum-cryptography/hdkey"),o=function(){function e(e){this._hdkey=e}return e.fromMasterSeed=function(t){return new e(i.HDKey.fromMasterSeed(t))},e.fromExtendedKey=function(t){return new e(i.HDKey.fromExtendedKey(t))},e.prototype.privateExtendedKey=function(){if(!this._hdkey.privateExtendedKey)throw new Error("This is a public key only wallet");return this._hdkey.privateExtendedKey},e.prototype.publicExtendedKey=function(){return this._hdkey.publicExtendedKey},e.prototype.derivePath=function(t){return new e(this._hdkey.derive(t))},e.prototype.deriveChild=function(t){return new e(this._hdkey.deriveChild(t))},e.prototype.getWallet=function(){return this._hdkey._privateKey?n.default.fromPrivateKey(this._hdkey._privateKey):n.default.fromPublicKey(this._hdkey._publicKey,!0)},e}();r.default=o}}},{package:"ethereumjs-wallet",file:"/home/circleci/project/node_modules/@metamask/snap-controllers/node_modules/ethereumjs-wallet/dist/hdkey.js"}],[1421,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={1:"0x44691B39d1a75dC4E0A0346CBB15E310e6ED1E86"}}}},{package:"eth-method-registry",file:"/home/circleci/project/node_modules/@metamask/snap-controllers/node_modules/eth-method-registry/registry-map.json"}],[1419,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=[{constant:!1,inputs:[{name:"_new",type:"address"}],name:"setOwner",outputs:[],payable:!1,type:"function"},{constant:!0,inputs:[],name:"totalSignatures",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,type:"function"},{constant:!1,inputs:[],name:"drain",outputs:[],payable:!1,type:"function"},{constant:!0,inputs:[{name:"",type:"bytes4"}],name:"entries",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_method",type:"string"}],name:"register",outputs:[{name:"",type:"bool"}],payable:!1,type:"function"},{inputs:[],type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"creator",type:"address"},{indexed:!0,name:"signature",type:"bytes4"},{indexed:!1,name:"method",type:"string"}],name:"Registered",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"old",type:"address"},{indexed:!0,name:"current",type:"address"}],name:"NewOwner",type:"event"}]}}},{package:"eth-method-registry",file:"/home/circleci/project/node_modules/@metamask/snap-controllers/node_modules/eth-method-registry/abi.json"}],[1436,{"./lib/getTransactionSuccess.js":1437,"bn.js":1402,buffer:2072,"ethjs-abi":1428,"ethjs-contract":1432,"ethjs-filter":2557,"ethjs-provider-http":2559,"ethjs-query":1435,"ethjs-unit":2563,"ethjs-util":2565,"js-sha3":1438,"number-to-bn":5289},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=e("ethjs-query"),i=e("ethjs-filter"),o=e("ethjs-contract"),s=e("ethjs-provider-http"),a=e("ethjs-abi"),c=e("ethjs-unit"),u=e("js-sha3").keccak_256,l=e("number-to-bn"),d=e("bn.js"),f=e("ethjs-util"),h=e("./lib/getTransactionSuccess.js");function p(e,t){if(!(this instanceof p))throw new Error('[ethjs] the Eth object requires you construct it with the "new" flag (i.e. `const eth = new Eth(...);`).');var r=this;r.options=t||{};var s=new n(e,r.options.query);Object.keys(Object.getPrototypeOf(s)).forEach((function(e){r[e]=function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return s[e].apply(s,r)}})),r.filter=new i(s,r.options.query),r.contract=new o(s,r.options.query),r.currentProvider=s.rpc.currentProvider,r.setProvider=s.setProvider,r.getTransactionSuccess=h(r)}t.exports=p,p.BN=d,p.isAddress=function(e){return f.isHexString(e,20)},p.keccak256=function(e){return"0x"+u(e)},p.Buffer=r,p.isHexString=f.isHexString,p.fromWei=c.fromWei,p.toWei=c.toWei,p.toBN=l,p.abi=a,p.fromAscii=f.fromAscii,p.toAscii=f.toAscii,p.fromUtf8=f.fromUtf8,p.toUtf8=f.toUtf8,p.HttpProvider=s}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ethjs",file:"/home/circleci/project/node_modules/@metamask/snap-controllers/node_modules/ethjs/lib/index.js"}],[5695,{},function(){with(this)return function(){"use strict";return function(e,t,r){var n={};function i(e,t,r){r||(r=Error);var i=function(e){var r,n;function i(r,n,i){return e.call(this,function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(r,n,i))||this}return n=e,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,i}(r);i.prototype.name=r.name,i.prototype.code=e,n[e]=i}function o(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}i("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(e,t,r){var n,i,s,a;if("string"==typeof t&&(i="not ",t.substr(!s||s<0?0:+s,i.length)===i)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(r===undefined||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))a="The ".concat(e," ").concat(n," ").concat(o(t,"type"));else{var c=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";a='The "'.concat(e,'" ').concat(c," ").concat(n," ").concat(o(t,"type"))}return a+=". Received type ".concat(typeof r)}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=n}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/readable-web-to-node-stream/node_modules/readable-stream/errors-browser.js"}],[5708,{events:2073},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=e("events").EventEmitter}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/readable-web-to-node-stream/node_modules/readable-stream/lib/internal/streams/stream-browser.js"}],[5703,{_process:5411},function(){with(this)return function(){"use strict";return function(e,t,r){(function(e){(function(){function r(e,t){i(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}t.exports={destroy:function(t,o){var s=this,a=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return a||c?(o?o(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(i,this,t)):e.nextTick(i,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!o&&t?s._writableState?s._writableState.errorEmitted?e.nextTick(n,s):(s._writableState.errorEmitted=!0,e.nextTick(r,s,t)):e.nextTick(r,s,t):o?(e.nextTick(n,s),o(t)):e.nextTick(n,s)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/readable-web-to-node-stream/node_modules/readable-stream/lib/internal/streams/destroy.js"}],[5707,{"../../../errors":5695},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(e,t,r,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/readable-web-to-node-stream/node_modules/readable-stream/lib/internal/streams/state.js"}],[5705,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(){throw new Error("Readable.from is not available in the browser")}}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/readable-web-to-node-stream/node_modules/readable-stream/lib/internal/streams/from-browser.js"}],[5702,{buffer:2072,util:2071},function(){with(this)return function(){"use strict";return function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=e("buffer").Buffer,a=e("util").inspect,c=a&&a.custom||"inspect";t.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r,u;return t=e,r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return s.alloc(0);for(var t,r,n,i=s.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,r=i,n=a,s.prototype.copy.call(t,r,n),a+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=s.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:c,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],r&&o(t.prototype,r),u&&o(t,u),e}()}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/readable-web-to-node-stream/node_modules/readable-stream/lib/internal/streams/buffer_list.js"}],[5701,{"./end-of-stream":5704,_process:5411},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n;function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=e("./end-of-stream"),s=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),d=Symbol("handlePromise"),f=Symbol("stream");function h(e,t){return{value:e,done:t}}function p(e){var t=e[s];if(null!==t){var r=e[f].read();null!==r&&(e[l]=null,e[s]=null,e[a]=null,t(h(r,!1)))}}function m(e){r.nextTick(p,e)}var _=Object.getPrototypeOf((function(){})),b=Object.setPrototypeOf((i(n={get stream(){return this[f]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(h(undefined,!0));if(this[f].destroyed)return new Promise((function(t,n){r.nextTick((function(){e[c]?n(e[c]):t(h(undefined,!0))}))}));var n,i=this[l];if(i)n=new Promise(function(e,t){return function(r,n){e.then((function(){t[u]?r(h(undefined,!0)):t[d](r,n)}),n)}}(i,this));else{var o=this[f].read();if(null!==o)return Promise.resolve(h(o,!1));n=new Promise(this[d])}return this[l]=n,n}},Symbol.asyncIterator,(function(){return this})),i(n,"return",(function(){var e=this;return new Promise((function(t,r){e[f].destroy(null,(function(e){e?r(e):t(h(undefined,!0))}))}))})),n),_);t.exports=function(e){var t,r=Object.create(b,(i(t={},f,{value:e,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,u,{value:e._readableState.endEmitted,writable:!0}),i(t,d,{value:function(e,t){var n=r[f].read();n?(r[l]=null,r[s]=null,r[a]=null,e(h(n,!1))):(r[s]=e,r[a]=t)},writable:!0}),t));return r[l]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[a];return null!==t&&(r[l]=null,r[s]=null,r[a]=null,t(e)),void(r[c]=e)}var n=r[s];null!==n&&(r[l]=null,r[s]=null,r[a]=null,n(h(undefined,!0))),r[u]=!0})),e.on("readable",m.bind(null,r)),r}}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/readable-web-to-node-stream/node_modules/readable-stream/lib/internal/streams/async_iterator.js"}],[1404,{},function(){with(this)return function(){"use strict";return function(e,t,r){var n={};function i(e,t,r){r||(r=Error);var i=function(e){var r,n;function i(r,n,i){return e.call(this,function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(r,n,i))||this}return n=e,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,i}(r);i.prototype.name=r.name,i.prototype.code=e,n[e]=i}function o(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}i("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(e,t,r){var n,i,s,a;if("string"==typeof t&&(i="not ",t.substr(!s||s<0?0:+s,i.length)===i)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(r===undefined||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))a="The ".concat(e," ").concat(n," ").concat(o(t,"type"));else{var c=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";a='The "'.concat(e,'" ').concat(c," ").concat(n," ").concat(o(t,"type"))}return a+=". Received type ".concat(typeof r)}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=n}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/@metamask/snap-controllers/node_modules/concat-stream/node_modules/readable-stream/errors-browser.js"}],[1417,{events:2073},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=e("events").EventEmitter}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/@metamask/snap-controllers/node_modules/concat-stream/node_modules/readable-stream/lib/internal/streams/stream-browser.js"}],[1412,{_process:5411},function(){with(this)return function(){"use strict";return function(e,t,r){(function(e){(function(){function r(e,t){i(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}t.exports={destroy:function(t,o){var s=this,a=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return a||c?(o?o(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(i,this,t)):e.nextTick(i,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!o&&t?s._writableState?s._writableState.errorEmitted?e.nextTick(n,s):(s._writableState.errorEmitted=!0,e.nextTick(r,s,t)):e.nextTick(r,s,t):o?(e.nextTick(n,s),o(t)):e.nextTick(n,s)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/@metamask/snap-controllers/node_modules/concat-stream/node_modules/readable-stream/lib/internal/streams/destroy.js"}],[1416,{"../../../errors":1404},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(e,t,r,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/@metamask/snap-controllers/node_modules/concat-stream/node_modules/readable-stream/lib/internal/streams/state.js"}],[1414,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(){throw new Error("Readable.from is not available in the browser")}}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/@metamask/snap-controllers/node_modules/concat-stream/node_modules/readable-stream/lib/internal/streams/from-browser.js"}],[1411,{buffer:2072,util:2071},function(){with(this)return function(){"use strict";return function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=e("buffer").Buffer,a=e("util").inspect,c=a&&a.custom||"inspect";t.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r,u;return t=e,r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return s.alloc(0);for(var t,r,n,i=s.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,r=i,n=a,s.prototype.copy.call(t,r,n),a+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=s.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:c,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],r&&o(t.prototype,r),u&&o(t,u),e}()}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/@metamask/snap-controllers/node_modules/concat-stream/node_modules/readable-stream/lib/internal/streams/buffer_list.js"}],[1410,{"./end-of-stream":1413,_process:5411},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n;function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=e("./end-of-stream"),s=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),d=Symbol("handlePromise"),f=Symbol("stream");function h(e,t){return{value:e,done:t}}function p(e){var t=e[s];if(null!==t){var r=e[f].read();null!==r&&(e[l]=null,e[s]=null,e[a]=null,t(h(r,!1)))}}function m(e){r.nextTick(p,e)}var _=Object.getPrototypeOf((function(){})),b=Object.setPrototypeOf((i(n={get stream(){return this[f]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(h(undefined,!0));if(this[f].destroyed)return new Promise((function(t,n){r.nextTick((function(){e[c]?n(e[c]):t(h(undefined,!0))}))}));var n,i=this[l];if(i)n=new Promise(function(e,t){return function(r,n){e.then((function(){t[u]?r(h(undefined,!0)):t[d](r,n)}),n)}}(i,this));else{var o=this[f].read();if(null!==o)return Promise.resolve(h(o,!1));n=new Promise(this[d])}return this[l]=n,n}},Symbol.asyncIterator,(function(){return this})),i(n,"return",(function(){var e=this;return new Promise((function(t,r){e[f].destroy(null,(function(e){e?r(e):t(h(undefined,!0))}))}))})),n),_);t.exports=function(e){var t,r=Object.create(b,(i(t={},f,{value:e,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,u,{value:e._readableState.endEmitted,writable:!0}),i(t,d,{value:function(e,t){var n=r[f].read();n?(r[l]=null,r[s]=null,r[a]=null,e(h(n,!1))):(r[s]=e,r[a]=t)},writable:!0}),t));return r[l]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[a];return null!==t&&(r[l]=null,r[s]=null,r[a]=null,t(e)),void(r[c]=e)}var n=r[s];null!==n&&(r[l]=null,r[s]=null,r[a]=null,n(h(undefined,!0))),r[u]=!0})),e.on("readable",m.bind(null,r)),r}}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/@metamask/snap-controllers/node_modules/concat-stream/node_modules/readable-stream/lib/internal/streams/async_iterator.js"}],[5917,{"../../../errors":5908},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var s=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||l()},u=t._writableState&&t._writableState.finished,l=function(){a=!1,u=!0,s||o.call(t)},d=t._readableState&&t._readableState.endEmitted,f=function(){s=!1,d=!0,a||o.call(t)},h=function(e){o.call(t,e)},p=function(){var e;return s&&!d?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):a&&!u?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},m=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",c),t.on("close",c)):(t.on("complete",l),t.on("abort",p),t.req?m():t.on("request",m)),t.on("end",f),t.on("finish",l),!1!==r.error&&t.on("error",h),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",m),t.req&&t.req.removeListener("finish",l),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("end",f),t.removeListener("error",h),t.removeListener("close",p)}}}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/tar-stream/node_modules/readable-stream/lib/internal/streams/end-of-stream.js"}],[5919,{"../../../errors":5908,"./end-of-stream":5917},function(){with(this)return function(){"use strict";return function(e,t,r){var n;var i=e("../../../errors").codes,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(t,r,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;t.on("close",(function(){a=!0})),n===undefined&&(n=e("./end-of-stream")),n(t,{readable:r,writable:i},(function(e){if(e)return o(e);a=!0,o()}));var c=!1;return function(e){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void o(e||new s("pipe"))}}function u(e){e()}function l(e,t){return e.pipe(t)}function d(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}t.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=d(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var s=t.map((function(e,r){var o=r<t.length-1;return c(e,o,r>0,(function(e){n||(n=e),e&&s.forEach(u),o||(s.forEach(u),i(n))}))}));return t.reduce(l)}}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/tar-stream/node_modules/readable-stream/lib/internal/streams/pipeline.js"}],[5909,{"./_stream_readable":5911,"./_stream_writable":5913,_process:5411,inherits:4395},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};t.exports=u;var i=e("./_stream_readable"),o=e("./_stream_writable");e("inherits")(u,i);for(var s=n(o.prototype),a=0;a<s.length;a++){var c=s[a];u.prototype[c]||(u.prototype[c]=o.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||r.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==undefined&&this._writableState!==undefined&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){this._readableState!==undefined&&this._writableState!==undefined&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/tar-stream/node_modules/readable-stream/lib/_stream_duplex.js"}],[5913,{"../errors":5908,"./_stream_duplex":5909,"./internal/streams/destroy":5916,"./internal/streams/state":5920,"./internal/streams/stream":5921,_process:5411,buffer:2072,inherits:4395,"util-deprecate":6e3},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var i;t.exports=S,S.WritableState=k;var o={deprecate:e("util-deprecate")},s=e("./internal/streams/stream"),a=e("buffer").Buffer,c=global.Uint8Array||function(){};var u,l=e("./internal/streams/destroy"),d=e("./internal/streams/state").getHighWaterMark,f=e("../errors").codes,h=f.ERR_INVALID_ARG_TYPE,p=f.ERR_METHOD_NOT_IMPLEMENTED,m=f.ERR_MULTIPLE_CALLBACK,_=f.ERR_STREAM_CANNOT_PIPE,b=f.ERR_STREAM_DESTROYED,g=f.ERR_STREAM_NULL_VALUES,y=f.ERR_STREAM_WRITE_AFTER_END,w=f.ERR_UNKNOWN_ENCODING,v=l.errorOrDestroy;function E(){}function k(t,o,s){i=i||e("./_stream_duplex"),t=t||{},"boolean"!=typeof s&&(s=o instanceof i),this.objectMode=!!t.objectMode,s&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=d(this,t,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,o=n.writecb;if("function"!=typeof o)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,o){--t.pendingcb,n?(r.nextTick(o,i),r.nextTick(A,e,t),e._writableState.errorEmitted=!0,v(e,i)):(o(i),e._writableState.errorEmitted=!0,v(e,i),A(e,t))}(e,n,i,t,o);else{var s=j(n)||e.destroyed;s||n.corked||n.bufferProcessing||!n.bufferedRequest||x(e,n),i?r.nextTick(T,e,n,s,o):T(e,n,s,o)}}(o,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function S(t){var r=this instanceof(i=i||e("./_stream_duplex"));if(!r&&!u.call(S,this))return new S(t);this._writableState=new k(t,this,r),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),s.call(this)}function R(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new b("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function T(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),A(e,t)}function x(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,o=new Array(i),s=t.corkedRequestsFree;s.entry=r;for(var a=0,c=!0;r;)o[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;o.allBuffers=c,R(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,d=r.callback;if(R(e,t,!1,t.objectMode?1:u.length,u,l,d),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function j(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function I(e,t){e._final((function(r){t.pendingcb--,r&&v(e,r),t.prefinished=!0,e.emit("prefinish"),A(e,t)}))}function A(e,t){var n=j(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,r.nextTick(I,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return n}e("inherits")(S,s),k.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(k.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(e){return!!u.call(this,e)||this===S&&(e&&e._writableState instanceof k)}})):u=function(e){return e instanceof this},S.prototype.pipe=function(){v(this,new _)},S.prototype.write=function(e,t,n){var i,o=this._writableState,s=!1,u=!o.objectMode&&(i=e,a.isBuffer(i)||i instanceof c);return u&&!a.isBuffer(e)&&(e=function(e){return a.from(e)}(e)),"function"==typeof t&&(n=t,t=null),u?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof n&&(n=E),o.ending?function(e,t){var n=new y;v(e,n),r.nextTick(t,n)}(this,n):(u||function(e,t,n,i){var o;return null===n?o=new g:"string"==typeof n||t.objectMode||(o=new h("chunk",["string","Buffer"],n)),!o||(v(e,o),r.nextTick(i,o),!1)}(this,o,e,n))&&(o.pendingcb++,s=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=a.from(t,r));return t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var c=t.objectMode?1:n.length;t.length+=c;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else R(e,t,!1,c,n,i,o);return u}(this,o,u,e,t,n)),s},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||x(this,e))},S.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(e,t,r){r(new p("_write()"))},S.prototype._writev=null,S.prototype.end=function(e,t,n){var i=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&e!==undefined&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,n){t.ending=!0,A(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n),this},Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==undefined&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),S.prototype.destroy=l.destroy,S.prototype._undestroy=l.undestroy,S.prototype._destroy=function(e,t){t(e)}}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/tar-stream/node_modules/readable-stream/lib/_stream_writable.js"}],[5912,{"../errors":5908,"./_stream_duplex":5909,inherits:4395},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=l;var n=e("../errors").codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,c=e("./_stream_duplex");function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(t,r){f(e,t,r)}))}function f(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}e("inherits")(l,c),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new i("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/tar-stream/node_modules/readable-stream/lib/_stream_transform.js"}],[5910,{"./_stream_transform":5912,inherits:4395},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=i;var n=e("./_stream_transform");function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}e("inherits")(i,n),i.prototype._transform=function(e,t,r){r(null,e)}}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/tar-stream/node_modules/readable-stream/lib/_stream_passthrough.js"}],[5911,{"../errors":5908,"./_stream_duplex":5909,"./internal/streams/async_iterator":5914,"./internal/streams/buffer_list":5915,"./internal/streams/destroy":5916,"./internal/streams/from":5918,"./internal/streams/state":5920,"./internal/streams/stream":5921,_process:5411,buffer:2072,events:2073,inherits:4395,"string_decoder/":5889,util:2071},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n;t.exports=S,S.ReadableState=k;e("events").EventEmitter;var i=function(e,t){return e.listeners(t).length},o=e("./internal/streams/stream"),s=e("buffer").Buffer,a=global.Uint8Array||function(){};var c,u=e("util");c=u&&u.debuglog?u.debuglog("stream"):function(){};var l,d,f,h=e("./internal/streams/buffer_list"),p=e("./internal/streams/destroy"),m=e("./internal/streams/state").getHighWaterMark,_=e("../errors").codes,b=_.ERR_INVALID_ARG_TYPE,g=_.ERR_STREAM_PUSH_AFTER_EOF,y=_.ERR_METHOD_NOT_IMPLEMENTED,w=_.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(S,o);var v=p.errorOrDestroy,E=["error","close","destroy","pause","resume"];function k(t,r,i){n=n||e("./_stream_duplex"),t=t||{},"boolean"!=typeof i&&(i=r instanceof n),this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=m(this,t,"readableHighWaterMark",i),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(l||(l=e("string_decoder/").StringDecoder),this.decoder=new l(t.encoding),this.encoding=t.encoding)}function S(t){if(n=n||e("./_stream_duplex"),!(this instanceof S))return new S(t);var r=this instanceof n;this._readableState=new k(t,this,r),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),o.call(this)}function R(e,t,r,n,i){c("readableAddChunk",t);var o,u=e._readableState;if(null===t)u.reading=!1,function(e,t){if(c("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?I(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,A(e)))}(e,u);else if(i||(o=function(e,t){var r;n=t,s.isBuffer(n)||n instanceof a||"string"==typeof t||t===undefined||e.objectMode||(r=new b("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(u,t)),o)v(e,o);else if(u.objectMode||t&&t.length>0)if("string"==typeof t||u.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=function(e){return s.from(e)}(t)),n)u.endEmitted?v(e,new w):T(e,u,t,!0);else if(u.ended)v(e,new g);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!r?(t=u.decoder.write(t),u.objectMode||0!==t.length?T(e,u,t,!1):O(e,u)):T(e,u,t,!1)}else n||(u.reading=!1,O(e,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function T(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&I(e)),O(e,t)}Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==undefined&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),S.prototype.destroy=p.destroy,S.prototype._undestroy=p.undestroy,S.prototype._destroy=function(e,t){t(e)},S.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=s.from(e,t),t=""),r=!0),R(this,e,t,!1,r)},S.prototype.unshift=function(e){return R(this,e,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(t){l||(l=e("string_decoder/").StringDecoder);var r=new l(t);this._readableState.decoder=r,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=r.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var x=1073741824;function j(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=x?e=x:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function I(e){var t=e._readableState;c("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(A,e))}function A(e){var t=e._readableState;c("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,M(e)}function O(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(P,e,t))}function P(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(c("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function L(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function N(e){c("readable nexttick read 0"),e.read(0)}function D(e,t){c("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),M(e),t.flowing&&!t.reading&&e.read(0)}function M(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function C(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function B(e){var t=e._readableState;c("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(U,t,e))}function U(e,t){if(c("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function F(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}S.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?B(this):I(this),null;if(0===(e=j(e,t))&&t.ended)return 0===t.length&&B(this),null;var n,i=t.needReadable;return c("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",i=!0),t.ended||t.reading?c("reading or ended",i=!1):i&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=j(r,t))),null===(n=e>0?C(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&B(this)),null!==n&&this.emit("data",n),n},S.prototype._read=function(e){v(this,new y("_read()"))},S.prototype.pipe=function(e,t){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,c("pipe count=%d opts=%j",o.pipesCount,t);var s=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?u:_;function a(t,r){c("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,c("cleanup"),e.removeListener("close",p),e.removeListener("finish",m),e.removeListener("drain",l),e.removeListener("error",h),e.removeListener("unpipe",a),n.removeListener("end",u),n.removeListener("end",_),n.removeListener("data",f),d=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function u(){c("onend"),e.end()}o.endEmitted?r.nextTick(s):n.once("end",s),e.on("unpipe",a);var l=function(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,M(e))}}(n);e.on("drain",l);var d=!1;function f(t){c("ondata");var r=e.write(t);c("dest.write",r),!1===r&&((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==F(o.pipes,e))&&!d&&(c("false write response, pause",o.awaitDrain),o.awaitDrain++),n.pause())}function h(t){c("onerror",t),_(),e.removeListener("error",h),0===i(e,"error")&&v(e,t)}function p(){e.removeListener("finish",m),_()}function m(){c("onfinish"),e.removeListener("close",p),_()}function _(){c("unpipe"),n.unpipe(e)}return n.on("data",f),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",h),e.once("close",p),e.once("finish",m),e.emit("pipe",n),o.flowing||(c("pipe resume"),n.resume()),e},S.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=F(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},S.prototype.on=function(e,t){var n=o.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,c("on readable",i.length,i.reading),i.length?I(this):i.reading||r.nextTick(N,this))),n},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(e,t){var n=o.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(L,this),n},S.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&e!==undefined||r.nextTick(L,this),t},S.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(D,e,t))}(this,e)),e.paused=!1,this},S.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},S.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(c("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(c("wrapped data"),r.decoder&&(i=r.decoder.write(i)),!r.objectMode||null!==i&&i!==undefined)&&((r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause())))})),e)this[i]===undefined&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<E.length;o++)e.on(E[o],this.emit.bind(this,E[o]));return this._read=function(t){c("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(S.prototype[Symbol.asyncIterator]=function(){return d===undefined&&(d=e("./internal/streams/async_iterator")),d(this)}),Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(S.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(S.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),S._fromList=C,Object.defineProperty(S.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(S.from=function(t,r){return f===undefined&&(f=e("./internal/streams/from")),f(S,t,r)})}).call(this)}).call(this,e("_process"))}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/tar-stream/node_modules/readable-stream/lib/_stream_readable.js"}],[2142,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={O_RDONLY:0,O_WRONLY:1,O_RDWR:2,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:512,O_EXCL:2048,O_NOCTTY:131072,O_TRUNC:1024,O_APPEND:8,O_DIRECTORY:1048576,O_NOFOLLOW:256,O_SYNC:128,O_SYMLINK:2097152,O_NONBLOCK:4,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,E2BIG:7,EACCES:13,EADDRINUSE:48,EADDRNOTAVAIL:49,EAFNOSUPPORT:47,EAGAIN:35,EALREADY:37,EBADF:9,EBADMSG:94,EBUSY:16,ECANCELED:89,ECHILD:10,ECONNABORTED:53,ECONNREFUSED:61,ECONNRESET:54,EDEADLK:11,EDESTADDRREQ:39,EDOM:33,EDQUOT:69,EEXIST:17,EFAULT:14,EFBIG:27,EHOSTUNREACH:65,EIDRM:90,EILSEQ:92,EINPROGRESS:36,EINTR:4,EINVAL:22,EIO:5,EISCONN:56,EISDIR:21,ELOOP:62,EMFILE:24,EMLINK:31,EMSGSIZE:40,EMULTIHOP:95,ENAMETOOLONG:63,ENETDOWN:50,ENETRESET:52,ENETUNREACH:51,ENFILE:23,ENOBUFS:55,ENODATA:96,ENODEV:19,ENOENT:2,ENOEXEC:8,ENOLCK:77,ENOLINK:97,ENOMEM:12,ENOMSG:91,ENOPROTOOPT:42,ENOSPC:28,ENOSR:98,ENOSTR:99,ENOSYS:78,ENOTCONN:57,ENOTDIR:20,ENOTEMPTY:66,ENOTSOCK:38,ENOTSUP:45,ENOTTY:25,ENXIO:6,EOPNOTSUPP:102,EOVERFLOW:84,EPERM:1,EPIPE:32,EPROTO:100,EPROTONOSUPPORT:43,EPROTOTYPE:41,ERANGE:34,EROFS:30,ESPIPE:29,ESRCH:3,ESTALE:70,ETIME:101,ETIMEDOUT:60,ETXTBSY:26,EWOULDBLOCK:35,EXDEV:18,SIGHUP:1,SIGINT:2,SIGQUIT:3,SIGILL:4,SIGTRAP:5,SIGABRT:6,SIGIOT:6,SIGBUS:10,SIGFPE:8,SIGKILL:9,SIGUSR1:30,SIGSEGV:11,SIGUSR2:31,SIGPIPE:13,SIGALRM:14,SIGTERM:15,SIGCHLD:20,SIGCONT:19,SIGSTOP:17,SIGTSTP:18,SIGTTIN:21,SIGTTOU:22,SIGURG:16,SIGXCPU:24,SIGXFSZ:25,SIGVTALRM:26,SIGPROF:27,SIGWINCH:28,SIGIO:23,SIGSYS:12,SSL_OP_ALL:2147486719,SSL_OP_ALLOW_UNSAFE_LEGACY_RENEGOTIATION:262144,SSL_OP_CIPHER_SERVER_PREFERENCE:4194304,SSL_OP_CISCO_ANYCONNECT:32768,SSL_OP_COOKIE_EXCHANGE:8192,SSL_OP_CRYPTOPRO_TLSEXT_BUG:2147483648,SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS:2048,SSL_OP_EPHEMERAL_RSA:0,SSL_OP_LEGACY_SERVER_CONNECT:4,SSL_OP_MICROSOFT_BIG_SSLV3_BUFFER:32,SSL_OP_MICROSOFT_SESS_ID_BUG:1,SSL_OP_MSIE_SSLV2_RSA_PADDING:0,SSL_OP_NETSCAPE_CA_DN_BUG:536870912,SSL_OP_NETSCAPE_CHALLENGE_BUG:2,SSL_OP_NETSCAPE_DEMO_CIPHER_CHANGE_BUG:1073741824,SSL_OP_NETSCAPE_REUSE_CIPHER_CHANGE_BUG:8,SSL_OP_NO_COMPRESSION:131072,SSL_OP_NO_QUERY_MTU:4096,SSL_OP_NO_SESSION_RESUMPTION_ON_RENEGOTIATION:65536,SSL_OP_NO_SSLv2:16777216,SSL_OP_NO_SSLv3:33554432,SSL_OP_NO_TICKET:16384,SSL_OP_NO_TLSv1:67108864,SSL_OP_NO_TLSv1_1:268435456,SSL_OP_NO_TLSv1_2:134217728,SSL_OP_PKCS1_CHECK_1:0,SSL_OP_PKCS1_CHECK_2:0,SSL_OP_SINGLE_DH_USE:1048576,SSL_OP_SINGLE_ECDH_USE:524288,SSL_OP_SSLEAY_080_CLIENT_DH_BUG:128,SSL_OP_SSLREF2_REUSE_CERT_TYPE_BUG:0,SSL_OP_TLS_BLOCK_PADDING_BUG:512,SSL_OP_TLS_D5_BUG:256,SSL_OP_TLS_ROLLBACK_BUG:8388608,ENGINE_METHOD_DSA:2,ENGINE_METHOD_DH:4,ENGINE_METHOD_RAND:8,ENGINE_METHOD_ECDH:16,ENGINE_METHOD_ECDSA:32,ENGINE_METHOD_CIPHERS:64,ENGINE_METHOD_DIGESTS:128,ENGINE_METHOD_STORE:256,ENGINE_METHOD_PKEY_METHS:512,ENGINE_METHOD_PKEY_ASN1_METHS:1024,ENGINE_METHOD_ALL:65535,ENGINE_METHOD_NONE:0,DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_UDP_REUSEADDR:4}}}},{package:"constants-browserify",file:"/home/circleci/project/node_modules/constants-browserify/constants.json"}],[5906,{buffer:2072},function(){with(this)return function(){"use strict";return function(e,t,r){const{Buffer:n}=e("buffer"),i=Symbol.for("BufferList");function o(e){if(!(this instanceof o))return new o(e);o._init.call(this,e)}o._init=function(e){Object.defineProperty(this,i,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)},o.prototype._new=function(e){return new o(e)},o.prototype._offset=function(e){if(0===e)return[0,0];let t=0;for(let r=0;r<this._bufs.length;r++){const n=t+this._bufs[r].length;if(e<n||r===this._bufs.length-1)return[r,e-t];t=n}},o.prototype._reverseOffset=function(e){const t=e[0];let r=e[1];for(let e=0;e<t;e++)r+=this._bufs[e].length;return r},o.prototype.get=function(e){if(e>this.length||e<0)return undefined;const t=this._offset(e);return this._bufs[t[0]][t[1]]},o.prototype.slice=function(e,t){return"number"==typeof e&&e<0&&(e+=this.length),"number"==typeof t&&t<0&&(t+=this.length),this.copy(null,0,e,t)},o.prototype.copy=function(e,t,r,i){if(("number"!=typeof r||r<0)&&(r=0),("number"!=typeof i||i>this.length)&&(i=this.length),r>=this.length)return e||n.alloc(0);if(i<=0)return e||n.alloc(0);const o=!!e,s=this._offset(r),a=i-r;let c=a,u=o&&t||0,l=s[1];if(0===r&&i===this.length){if(!o)return 1===this._bufs.length?this._bufs[0]:n.concat(this._bufs,this.length);for(let t=0;t<this._bufs.length;t++)this._bufs[t].copy(e,u),u+=this._bufs[t].length;return e}if(c<=this._bufs[s[0]].length-l)return o?this._bufs[s[0]].copy(e,t,l,l+c):this._bufs[s[0]].slice(l,l+c);o||(e=n.allocUnsafe(a));for(let t=s[0];t<this._bufs.length;t++){const r=this._bufs[t].length-l;if(!(c>r)){this._bufs[t].copy(e,u,l,l+c),u+=r;break}this._bufs[t].copy(e,u,l),u+=r,c-=r,l&&(l=0)}return e.length>u?e.slice(0,u):e},o.prototype.shallowSlice=function(e,t){if(e=e||0,t="number"!=typeof t?this.length:t,e<0&&(e+=this.length),t<0&&(t+=this.length),e===t)return this._new();const r=this._offset(e),n=this._offset(t),i=this._bufs.slice(r[0],n[0]+1);return 0===n[1]?i.pop():i[i.length-1]=i[i.length-1].slice(0,n[1]),0!==r[1]&&(i[0]=i[0].slice(r[1])),this._new(i)},o.prototype.toString=function(e,t,r){return this.slice(t,r).toString(e)},o.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;){if(!(e>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},o.prototype.duplicate=function(){const e=this._new();for(let t=0;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},o.prototype.append=function(e){if(null==e)return this;if(e.buffer)this._appendBuffer(n.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let t=0;t<e.length;t++)this.append(e[t]);else if(this._isBufferList(e))for(let t=0;t<e._bufs.length;t++)this.append(e._bufs[t]);else"number"==typeof e&&(e=e.toString()),this._appendBuffer(n.from(e));return this},o.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},o.prototype.indexOf=function(e,t,r){if(r===undefined&&"string"==typeof t&&(r=t,t=undefined),"function"==typeof e||Array.isArray(e))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof e?e=n.from([e]):"string"==typeof e?e=n.from(e,r):this._isBufferList(e)?e=e.slice():Array.isArray(e.buffer)?e=n.from(e.buffer,e.byteOffset,e.byteLength):n.isBuffer(e)||(e=n.from(e)),t=Number(t||0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),0===e.length)return t>this.length?this.length:t;const i=this._offset(t);let o=i[0],s=i[1];for(;o<this._bufs.length;o++){const t=this._bufs[o];for(;s<t.length;){if(t.length-s>=e.length){const r=t.indexOf(e,s);if(-1!==r)return this._reverseOffset([o,r]);s=t.length-e.length+1}else{const t=this._reverseOffset([o,s]);if(this._match(t,e))return t;s++}}s=0}return-1},o.prototype._match=function(e,t){if(this.length-e<t.length)return!1;for(let r=0;r<t.length;r++)if(this.get(e+r)!==t[r])return!1;return!0},function(){const e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const t in e)!function(t){o.prototype[t]=null===e[t]?function(e,r){return this.slice(e,e+r)[t](0,r)}:function(r=0){return this.slice(r,r+e[t])[t](0)}}(t)}(),o.prototype._isBufferList=function(e){return e instanceof o||o.isBufferList(e)},o.isBufferList=function(e){return null!=e&&e[i]},t.exports=o}}},{package:"bl",file:"/home/circleci/project/node_modules/tar-stream/node_modules/bl/BufferList.js"}],[5887,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(e){var t=e._readableState;return t?t.objectMode?e.read():e.read(function(e){if(e.buffer.length)return e.buffer.head?e.buffer.head.data.length:e.buffer[0].length;return e.length}(t)):null}}}},{package:"stream-shift",file:"/home/circleci/project/node_modules/stream-shift/index.js"}],[4338,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}}}},{package:"pako",file:"/home/circleci/project/node_modules/gunzip-maybe/node_modules/pako/lib/zlib/zstream.js"}],[4336,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}}}},{package:"pako",file:"/home/circleci/project/node_modules/gunzip-maybe/node_modules/pako/lib/zlib/messages.js"}],[4330,{},function(){with(this)return function(){"use strict";return function(e,t,r){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}}}},{package:"pako",file:"/home/circleci/project/node_modules/gunzip-maybe/node_modules/pako/lib/zlib/constants.js"}],[4334,{"../utils/common":4328,"./adler32":4329,"./crc32":4331,"./inffast":4333,"./inftrees":4335},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("../utils/common"),i=e("./adler32"),o=e("./crc32"),s=e("./inffast"),a=e("./inftrees"),c=-2,u=12,l=30;function d(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function f(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function h(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new n.Buf32(852),t.distcode=t.distdyn=new n.Buf32(592),t.sane=1,t.back=-1,0):c}function p(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,h(e)):c}function m(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?c:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,p(e))):c}function _(e,t){var r,n;return e?(n=new f,e.state=n,n.window=null,0!==(r=m(e,t))&&(e.state=null),r):c}var b,g,y=!0;function w(e){if(y){var t;for(b=new n.Buf32(512),g=new n.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(a(1,e.lens,0,288,b,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;a(2,e.lens,0,32,g,0,e.work,{bits:5}),y=!1}e.lencode=b,e.lenbits=9,e.distcode=g,e.distbits=5}function v(e,t,r,i){var o,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new n.Buf8(s.wsize)),i>=s.wsize?(n.arraySet(s.window,t,r-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((o=s.wsize-s.wnext)>i&&(o=i),n.arraySet(s.window,t,r-i,o,s.wnext),(i-=o)?(n.arraySet(s.window,t,r-i,i,0),s.wnext=i,s.whave=s.wsize):(s.wnext+=o,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=o))),0}r.inflateReset=p,r.inflateReset2=m,r.inflateResetKeep=h,r.inflateInit=function(e){return _(e,15)},r.inflateInit2=_,r.inflate=function(e,t){var r,f,h,p,m,_,b,g,y,E,k,S,R,T,x,j,I,A,O,P,L,N,D,M,C=0,B=new n.Buf8(4),U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return c;(r=e.state).mode===u&&(r.mode=13),m=e.next_out,h=e.output,b=e.avail_out,p=e.next_in,f=e.input,_=e.avail_in,g=r.hold,y=r.bits,E=_,k=b,N=0;e:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;y<16;){if(0===_)break e;_--,g+=f[p++]<<y,y+=8}if(2&r.wrap&&35615===g){r.check=0,B[0]=255&g,B[1]=g>>>8&255,r.check=o(r.check,B,2,0),g=0,y=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&g)<<8)+(g>>8))%31){e.msg="incorrect header check",r.mode=l;break}if(8!=(15&g)){e.msg="unknown compression method",r.mode=l;break}if(y-=4,L=8+(15&(g>>>=4)),0===r.wbits)r.wbits=L;else if(L>r.wbits){e.msg="invalid window size",r.mode=l;break}r.dmax=1<<L,e.adler=r.check=1,r.mode=512&g?10:u,g=0,y=0;break;case 2:for(;y<16;){if(0===_)break e;_--,g+=f[p++]<<y,y+=8}if(r.flags=g,8!=(255&r.flags)){e.msg="unknown compression method",r.mode=l;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=l;break}r.head&&(r.head.text=g>>8&1),512&r.flags&&(B[0]=255&g,B[1]=g>>>8&255,r.check=o(r.check,B,2,0)),g=0,y=0,r.mode=3;case 3:for(;y<32;){if(0===_)break e;_--,g+=f[p++]<<y,y+=8}r.head&&(r.head.time=g),512&r.flags&&(B[0]=255&g,B[1]=g>>>8&255,B[2]=g>>>16&255,B[3]=g>>>24&255,r.check=o(r.check,B,4,0)),g=0,y=0,r.mode=4;case 4:for(;y<16;){if(0===_)break e;_--,g+=f[p++]<<y,y+=8}r.head&&(r.head.xflags=255&g,r.head.os=g>>8),512&r.flags&&(B[0]=255&g,B[1]=g>>>8&255,r.check=o(r.check,B,2,0)),g=0,y=0,r.mode=5;case 5:if(1024&r.flags){for(;y<16;){if(0===_)break e;_--,g+=f[p++]<<y,y+=8}r.length=g,r.head&&(r.head.extra_len=g),512&r.flags&&(B[0]=255&g,B[1]=g>>>8&255,r.check=o(r.check,B,2,0)),g=0,y=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&((S=r.length)>_&&(S=_),S&&(r.head&&(L=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),n.arraySet(r.head.extra,f,p,S,L)),512&r.flags&&(r.check=o(r.check,f,S,p)),_-=S,p+=S,r.length-=S),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===_)break e;S=0;do{L=f[p+S++],r.head&&L&&r.length<65536&&(r.head.name+=String.fromCharCode(L))}while(L&&S<_);if(512&r.flags&&(r.check=o(r.check,f,S,p)),_-=S,p+=S,L)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===_)break e;S=0;do{L=f[p+S++],r.head&&L&&r.length<65536&&(r.head.comment+=String.fromCharCode(L))}while(L&&S<_);if(512&r.flags&&(r.check=o(r.check,f,S,p)),_-=S,p+=S,L)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;y<16;){if(0===_)break e;_--,g+=f[p++]<<y,y+=8}if(g!==(65535&r.check)){e.msg="header crc mismatch",r.mode=l;break}g=0,y=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=u;break;case 10:for(;y<32;){if(0===_)break e;_--,g+=f[p++]<<y,y+=8}e.adler=r.check=d(g),g=0,y=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=m,e.avail_out=b,e.next_in=p,e.avail_in=_,r.hold=g,r.bits=y,2;e.adler=r.check=1,r.mode=u;case u:if(5===t||6===t)break e;case 13:if(r.last){g>>>=7&y,y-=7&y,r.mode=27;break}for(;y<3;){if(0===_)break e;_--,g+=f[p++]<<y,y+=8}switch(r.last=1&g,y-=1,3&(g>>>=1)){case 0:r.mode=14;break;case 1:if(w(r),r.mode=20,6===t){g>>>=2,y-=2;break e}break;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=l}g>>>=2,y-=2;break;case 14:for(g>>>=7&y,y-=7&y;y<32;){if(0===_)break e;_--,g+=f[p++]<<y,y+=8}if((65535&g)!=(g>>>16^65535)){e.msg="invalid stored block lengths",r.mode=l;break}if(r.length=65535&g,g=0,y=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(S=r.length){if(S>_&&(S=_),S>b&&(S=b),0===S)break e;n.arraySet(h,f,p,S,m),_-=S,p+=S,b-=S,m+=S,r.length-=S;break}r.mode=u;break;case 17:for(;y<14;){if(0===_)break e;_--,g+=f[p++]<<y,y+=8}if(r.nlen=257+(31&g),g>>>=5,y-=5,r.ndist=1+(31&g),g>>>=5,y-=5,r.ncode=4+(15&g),g>>>=4,y-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=l;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;y<3;){if(0===_)break e;_--,g+=f[p++]<<y,y+=8}r.lens[U[r.have++]]=7&g,g>>>=3,y-=3}for(;r.have<19;)r.lens[U[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,D={bits:r.lenbits},N=a(0,r.lens,0,19,r.lencode,0,r.work,D),r.lenbits=D.bits,N){e.msg="invalid code lengths set",r.mode=l;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;j=(C=r.lencode[g&(1<<r.lenbits)-1])>>>16&255,I=65535&C,!((x=C>>>24)<=y);){if(0===_)break e;_--,g+=f[p++]<<y,y+=8}if(I<16)g>>>=x,y-=x,r.lens[r.have++]=I;else{if(16===I){for(M=x+2;y<M;){if(0===_)break e;_--,g+=f[p++]<<y,y+=8}if(g>>>=x,y-=x,0===r.have){e.msg="invalid bit length repeat",r.mode=l;break}L=r.lens[r.have-1],S=3+(3&g),g>>>=2,y-=2}else if(17===I){for(M=x+3;y<M;){if(0===_)break e;_--,g+=f[p++]<<y,y+=8}y-=x,L=0,S=3+(7&(g>>>=x)),g>>>=3,y-=3}else{for(M=x+7;y<M;){if(0===_)break e;_--,g+=f[p++]<<y,y+=8}y-=x,L=0,S=11+(127&(g>>>=x)),g>>>=7,y-=7}if(r.have+S>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=l;break}for(;S--;)r.lens[r.have++]=L}}if(r.mode===l)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=l;break}if(r.lenbits=9,D={bits:r.lenbits},N=a(1,r.lens,0,r.nlen,r.lencode,0,r.work,D),r.lenbits=D.bits,N){e.msg="invalid literal/lengths set",r.mode=l;break}if(r.distbits=6,r.distcode=r.distdyn,D={bits:r.distbits},N=a(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,D),r.distbits=D.bits,N){e.msg="invalid distances set",r.mode=l;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(_>=6&&b>=258){e.next_out=m,e.avail_out=b,e.next_in=p,e.avail_in=_,r.hold=g,r.bits=y,s(e,k),m=e.next_out,h=e.output,b=e.avail_out,p=e.next_in,f=e.input,_=e.avail_in,g=r.hold,y=r.bits,r.mode===u&&(r.back=-1);break}for(r.back=0;j=(C=r.lencode[g&(1<<r.lenbits)-1])>>>16&255,I=65535&C,!((x=C>>>24)<=y);){if(0===_)break e;_--,g+=f[p++]<<y,y+=8}if(j&&0==(240&j)){for(A=x,O=j,P=I;j=(C=r.lencode[P+((g&(1<<A+O)-1)>>A)])>>>16&255,I=65535&C,!(A+(x=C>>>24)<=y);){if(0===_)break e;_--,g+=f[p++]<<y,y+=8}g>>>=A,y-=A,r.back+=A}if(g>>>=x,y-=x,r.back+=x,r.length=I,0===j){r.mode=26;break}if(32&j){r.back=-1,r.mode=u;break}if(64&j){e.msg="invalid literal/length code",r.mode=l;break}r.extra=15&j,r.mode=22;case 22:if(r.extra){for(M=r.extra;y<M;){if(0===_)break e;_--,g+=f[p++]<<y,y+=8}r.length+=g&(1<<r.extra)-1,g>>>=r.extra,y-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;j=(C=r.distcode[g&(1<<r.distbits)-1])>>>16&255,I=65535&C,!((x=C>>>24)<=y);){if(0===_)break e;_--,g+=f[p++]<<y,y+=8}if(0==(240&j)){for(A=x,O=j,P=I;j=(C=r.distcode[P+((g&(1<<A+O)-1)>>A)])>>>16&255,I=65535&C,!(A+(x=C>>>24)<=y);){if(0===_)break e;_--,g+=f[p++]<<y,y+=8}g>>>=A,y-=A,r.back+=A}if(g>>>=x,y-=x,r.back+=x,64&j){e.msg="invalid distance code",r.mode=l;break}r.offset=I,r.extra=15&j,r.mode=24;case 24:if(r.extra){for(M=r.extra;y<M;){if(0===_)break e;_--,g+=f[p++]<<y,y+=8}r.offset+=g&(1<<r.extra)-1,g>>>=r.extra,y-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=l;break}r.mode=25;case 25:if(0===b)break e;if(S=k-b,r.offset>S){if((S=r.offset-S)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=l;break}S>r.wnext?(S-=r.wnext,R=r.wsize-S):R=r.wnext-S,S>r.length&&(S=r.length),T=r.window}else T=h,R=m-r.offset,S=r.length;S>b&&(S=b),b-=S,r.length-=S;do{h[m++]=T[R++]}while(--S);0===r.length&&(r.mode=21);break;case 26:if(0===b)break e;h[m++]=r.length,b--,r.mode=21;break;case 27:if(r.wrap){for(;y<32;){if(0===_)break e;_--,g|=f[p++]<<y,y+=8}if(k-=b,e.total_out+=k,r.total+=k,k&&(e.adler=r.check=r.flags?o(r.check,h,k,m-k):i(r.check,h,k,m-k)),k=b,(r.flags?g:d(g))!==r.check){e.msg="incorrect data check",r.mode=l;break}g=0,y=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;y<32;){if(0===_)break e;_--,g+=f[p++]<<y,y+=8}if(g!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=l;break}g=0,y=0}r.mode=29;case 29:N=1;break e;case l:N=-3;break e;case 31:return-4;default:return c}return e.next_out=m,e.avail_out=b,e.next_in=p,e.avail_in=_,r.hold=g,r.bits=y,(r.wsize||k!==e.avail_out&&r.mode<l&&(r.mode<27||4!==t))&&v(e,e.output,e.next_out,k-e.avail_out)?(r.mode=31,-4):(E-=e.avail_in,k-=e.avail_out,e.total_in+=E,e.total_out+=k,r.total+=k,r.wrap&&k&&(e.adler=r.check=r.flags?o(r.check,h,k,e.next_out-k):i(r.check,h,k,e.next_out-k)),e.data_type=r.bits+(r.last?64:0)+(r.mode===u?128:0)+(20===r.mode||15===r.mode?256:0),(0===E&&0===k||4===t)&&0===N&&(N=-5),N)},r.inflateEnd=function(e){if(!e||!e.state)return c;var t=e.state;return t.window&&(t.window=null),e.state=null,0},r.inflateGetHeader=function(e,t){var r;return e&&e.state?0==(2&(r=e.state).wrap)?c:(r.head=t,t.done=!1,0):c},r.inflateSetDictionary=function(e,t){var r,n=t.length;return e&&e.state?0!==(r=e.state).wrap&&11!==r.mode?c:11===r.mode&&i(1,t,n,0)!==r.check?-3:v(e,t,n,n)?(r.mode=31,-4):(r.havedict=1,0):c},r.inflateInfo="pako inflate (from Nodeca project)"}}},{package:"pako",file:"/home/circleci/project/node_modules/gunzip-maybe/node_modules/pako/lib/zlib/inflate.js"}],[4332,{"../utils/common":4328,"./adler32":4329,"./crc32":4331,"./messages":4336,"./trees":4337},function(){with(this)return function(){"use strict";return function(e,t,r){var n,i=e("../utils/common"),o=e("./trees"),s=e("./adler32"),a=e("./crc32"),c=e("./messages"),u=-2,l=258,d=262,f=103,h=113,p=666;function m(e,t){return e.msg=c[t],t}function _(e){return(e<<1)-(e>4?9:0)}function b(e){for(var t=e.length;--t>=0;)e[t]=0}function g(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(i.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function y(e,t){o._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,g(e.strm)}function w(e,t){e.pending_buf[e.pending++]=t}function v(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function E(e,t){var r,n,i=e.max_chain_length,o=e.strstart,s=e.prev_length,a=e.nice_match,c=e.strstart>e.w_size-d?e.strstart-(e.w_size-d):0,u=e.window,f=e.w_mask,h=e.prev,p=e.strstart+l,m=u[o+s-1],_=u[o+s];e.prev_length>=e.good_match&&(i>>=2),a>e.lookahead&&(a=e.lookahead);do{if(u[(r=t)+s]===_&&u[r+s-1]===m&&u[r]===u[o]&&u[++r]===u[o+1]){o+=2,r++;do{}while(u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&o<p);if(n=l-(p-o),o=p-l,n>s){if(e.match_start=t,s=n,n>=a)break;m=u[o+s-1],_=u[o+s]}}}while((t=h[t&f])>c&&0!=--i);return s<=e.lookahead?s:e.lookahead}function k(e){var t,r,n,o,c,u,l,f,h,p,m=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=m+(m-d)){i.arraySet(e.window,e.window,m,m,0),e.match_start-=m,e.strstart-=m,e.block_start-=m,t=r=e.hash_size;do{n=e.head[--t],e.head[t]=n>=m?n-m:0}while(--r);t=r=m;do{n=e.prev[--t],e.prev[t]=n>=m?n-m:0}while(--r);o+=m}if(0===e.strm.avail_in)break;if(u=e.strm,l=e.window,f=e.strstart+e.lookahead,h=o,p=void 0,(p=u.avail_in)>h&&(p=h),r=0===p?0:(u.avail_in-=p,i.arraySet(l,u.input,u.next_in,p,f),1===u.state.wrap?u.adler=s(u.adler,l,p,f):2===u.state.wrap&&(u.adler=a(u.adler,l,p,f)),u.next_in+=p,u.total_in+=p,p),e.lookahead+=r,e.lookahead+e.insert>=3)for(c=e.strstart-e.insert,e.ins_h=e.window[c],e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+3-1])&e.hash_mask,e.prev[c&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=c,c++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<d&&0!==e.strm.avail_in)}function S(e,t){for(var r,n;;){if(e.lookahead<d){if(k(e),e.lookahead<d&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-d&&(e.match_length=E(e,r)),e.match_length>=3)if(n=o._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(y(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(y(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(y(e,!1),0===e.strm.avail_out)?1:2}function R(e,t){for(var r,n,i;;){if(e.lookahead<d){if(k(e),e.lookahead<d&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-d&&(e.match_length=E(e,r),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,n=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(y(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((n=o._tr_tally(e,0,e.window[e.strstart-1]))&&y(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(y(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(y(e,!1),0===e.strm.avail_out)?1:2}function T(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}function x(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),b(this.dyn_ltree),b(this.dyn_dtree),b(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),b(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),b(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function j(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:h,e.adler=2===t.wrap?0:1,t.last_flush=0,o._tr_init(t),0):m(e,u)}function I(e){var t,r=j(e);return 0===r&&((t=e.state).window_size=2*t.w_size,b(t.head),t.max_lazy_match=n[t.level].max_lazy,t.good_match=n[t.level].good_length,t.nice_match=n[t.level].nice_length,t.max_chain_length=n[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),r}function A(e,t,r,n,o,s){if(!e)return u;var a=1;if(-1===t&&(t=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),o<1||o>9||8!==r||n<8||n>15||t<0||t>9||s<0||s>4)return m(e,u);8===n&&(n=9);var c=new x;return e.state=c,c.strm=e,c.wrap=a,c.gzhead=null,c.w_bits=n,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=o+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+3-1)/3),c.window=new i.Buf8(2*c.w_size),c.head=new i.Buf16(c.hash_size),c.prev=new i.Buf16(c.w_size),c.lit_bufsize=1<<o+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new i.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=s,c.method=r,I(e)}n=[new T(0,0,0,0,(function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(k(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,y(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-d&&(y(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(y(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(y(e,!1),e.strm.avail_out),1)})),new T(4,4,8,4,S),new T(4,5,16,8,S),new T(4,6,32,32,S),new T(4,4,16,16,R),new T(8,16,32,32,R),new T(8,16,128,128,R),new T(8,32,128,256,R),new T(32,128,258,1024,R),new T(32,258,258,4096,R)],r.deflateInit=function(e,t){return A(e,t,8,15,8,0)},r.deflateInit2=A,r.deflateReset=I,r.deflateResetKeep=j,r.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?u:(e.state.gzhead=t,0):u},r.deflate=function(e,t){var r,i,s,c;if(!e||!e.state||t>5||t<0)return e?m(e,u):u;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||i.status===p&&4!==t)return m(e,0===e.avail_out?-5:u);if(i.strm=e,r=i.last_flush,i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,w(i,31),w(i,139),w(i,8),i.gzhead?(w(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),w(i,255&i.gzhead.time),w(i,i.gzhead.time>>8&255),w(i,i.gzhead.time>>16&255),w(i,i.gzhead.time>>24&255),w(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),w(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(w(i,255&i.gzhead.extra.length),w(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=a(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(w(i,0),w(i,0),w(i,0),w(i,0),w(i,0),w(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),w(i,3),i.status=h);else{var d=8+(i.w_bits-8<<4)<<8;d|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(d|=32),d+=31-d%31,i.status=h,v(i,d),0!==i.strstart&&(v(i,e.adler>>>16),v(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(s=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),g(e),s=i.pending,i.pending!==i.pending_buf_size));)w(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){s=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),g(e),s=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,w(i,c)}while(0!==c);i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),0===c&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){s=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),g(e),s=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,w(i,c)}while(0!==c);i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),0===c&&(i.status=f)}else i.status=f;if(i.status===f&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&g(e),i.pending+2<=i.pending_buf_size&&(w(i,255&e.adler),w(i,e.adler>>8&255),e.adler=0,i.status=h)):i.status=h),0!==i.pending){if(g(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&_(t)<=_(r)&&4!==t)return m(e,-5);if(i.status===p&&0!==e.avail_in)return m(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&i.status!==p){var E=2===i.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(k(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(y(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(y(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(y(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var r,n,i,s,a=e.window;;){if(e.lookahead<=l){if(k(e),e.lookahead<=l&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(n=a[i=e.strstart-1])===a[++i]&&n===a[++i]&&n===a[++i]){s=e.strstart+l;do{}while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<s);e.match_length=l-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(r=o._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(y(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(y(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(y(e,!1),0===e.strm.avail_out)?1:2}(i,t):n[i.level].func(i,t);if(3!==E&&4!==E||(i.status=p),1===E||3===E)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===E&&(1===t?o._tr_align(i):5!==t&&(o._tr_stored_block(i,0,0,!1),3===t&&(b(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),g(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(w(i,255&e.adler),w(i,e.adler>>8&255),w(i,e.adler>>16&255),w(i,e.adler>>24&255),w(i,255&e.total_in),w(i,e.total_in>>8&255),w(i,e.total_in>>16&255),w(i,e.total_in>>24&255)):(v(i,e.adler>>>16),v(i,65535&e.adler)),g(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},r.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&t!==f&&t!==h&&t!==p?m(e,u):(e.state=null,t===h?m(e,-3):0):u},r.deflateSetDictionary=function(e,t){var r,n,o,a,c,l,d,f,h=t.length;if(!e||!e.state)return u;if(2===(a=(r=e.state).wrap)||1===a&&42!==r.status||r.lookahead)return u;for(1===a&&(e.adler=s(e.adler,t,h,0)),r.wrap=0,h>=r.w_size&&(0===a&&(b(r.head),r.strstart=0,r.block_start=0,r.insert=0),f=new i.Buf8(r.w_size),i.arraySet(f,t,h-r.w_size,r.w_size,0),t=f,h=r.w_size),c=e.avail_in,l=e.next_in,d=e.input,e.avail_in=h,e.next_in=0,e.input=t,k(r);r.lookahead>=3;){n=r.strstart,o=r.lookahead-2;do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+3-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++}while(--o);r.strstart=n,r.lookahead=2,k(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=l,e.input=d,e.avail_in=c,r.wrap=a,0},r.deflateInfo="pako deflate (from Nodeca project)"}}},{package:"pako",file:"/home/circleci/project/node_modules/gunzip-maybe/node_modules/pako/lib/zlib/deflate.js"}],[1208,{"./lib/_stream_duplex.js":1200,"./lib/_stream_passthrough.js":1201,"./lib/_stream_readable.js":1202,"./lib/_stream_transform.js":1203,"./lib/_stream_writable.js":1204},function(){with(this)return function(){"use strict";return function(e,t,r){(r=t.exports=e("./lib/_stream_readable.js")).Stream=r,r.Readable=r,r.Writable=e("./lib/_stream_writable.js"),r.Duplex=e("./lib/_stream_duplex.js"),r.Transform=e("./lib/_stream_transform.js"),r.PassThrough=e("./lib/_stream_passthrough.js")}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/@metamask/post-message-stream/node_modules/readable-stream/readable-browser.js"}],[1302,{"bn.js":1286,buffer:2072,"js-sha3":1310,"number-to-bn":5289},function(){with(this)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=e("bn.js"),i=e("number-to-bn"),o=e("js-sha3").keccak_256;function s(e){for(var t=e,r=t[0];t.length>0&&"0"===r.toString();)r=(t=t.slice(1))[0];return t}function a(e){var t=e.toString(16);return t.length%2&&(t="0"+t),s(new r(t,"hex"))}function c(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}function u(e,t){var n=e;if(!r.isBuffer(n)){if(!c(n)){var i=new Error(t?"[ethjs-abi] invalid "+t:"[ethjs-abi] invalid hex or buffer, must be a prefixed alphanumeric even length hex string");throw i.reason="[ethjs-abi] invalid hex string, hex must be prefixed and alphanumeric (e.g. 0x023..)",i.value=n,i}(n=n.substring(2)).length%2&&(n="0"+n),n=new r(n,"hex")}return n}function l(e,t){return{encode:function(n){var o=n;return"object"==typeof o&&o.toString&&(o.toTwos||o.dividedToIntegerBy)&&(o=o.toString(10).split(".")[0]),"string"!=typeof o&&"number"!=typeof o||(o=String(o).split(".")[0]),o=(o=i(o)).toTwos(8*e).maskn(8*e),t&&(o=o.fromTwos(8*e).toTwos(256)),o.toArrayLike(r,"be",32)},decode:function(r,i){var o=32-e,s=new n(r.slice(i+o,i+32));return s=t?s.fromTwos(8*e):s.maskn(8*e),{consumed:32,value:new n(s.toString(10))}}}}var d=l(32,!1),f={encode:function(e){return d.encode(e?1:0)},decode:function(e,t){var r=d.decode(e,t);return{consumed:r.consumed,value:!r.value.isZero()}}};function h(e){return{encode:function(e){var t=e;if(32===(t=u(t)).length)return t;var n=new r(32);return n.fill(0),t.copy(n),n},decode:function(t,r){if(0!==t.length&&t.length<r+32)throw new Error("[ethjs-abi] while decoding fixed bytes, invalid bytes data length: "+e);return{consumed:32,value:"0x"+t.slice(r,r+e).toString("hex")}}}}var p={encode:function(e){var t=e,n=new r(32);if(!c(t,20))throw new Error("[ethjs-abi] while encoding address, invalid address value, not alphanumeric 20 byte hex string");return t=u(t),n.fill(0),t.copy(n,12),n},decode:function(e,t){if(0===e.length)return{consumed:32,value:"0x"};if(0!==e.length&&e.length<t+32)throw new Error("[ethjs-abi] while decoding address data, invalid address data, invalid byte length "+e.length);return{consumed:32,value:"0x"+e.slice(t+12,t+32).toString("hex")}}};function m(e){var t=parseInt(32*Math.ceil(e.length/32)),n=new r(t-e.length);return n.fill(0),r.concat([d.encode(e.length),e,n])}function _(e,t){if(0!==e.length&&e.length<t+32)throw new Error("[ethjs-abi] while decoding dynamic bytes data, invalid bytes length: "+e.length+" should be less than "+(t+32));var r=d.decode(e,t).value;if(r=r.toNumber(),0!==e.length&&e.length<t+32+r)throw new Error("[ethjs-abi] while decoding dynamic bytes data, invalid bytes length: "+e.length+" should be less than "+(t+32+r));return{consumed:parseInt(32+32*Math.ceil(r/32),10),value:e.slice(t+32,t+32+r)}}var b={encode:function(e){return m(u(e))},decode:function(e,t){var r=_(e,t);return r.value="0x"+r.value.toString("hex"),r},dynamic:!0},g={encode:function(e){return m(new r(e,"utf8"))},decode:function(e,t){var r=_(e,t);return r.value=r.value.toString("utf8"),r},dynamic:!0};function y(e,t){return{encode:function(n){var i=new r(0),o=t;if(!Array.isArray(n))throw new Error("[ethjs-abi] while encoding array, invalid array data, not type Object (Array)");if(-1===o&&(o=n.length,i=d.encode(o)),o!==n.length)throw new Error("[ethjs-abi] while encoding array, size mismatch array length "+o+" does not equal "+n.length);return n.forEach((function(t){i=r.concat([i,e.encode(t)])})),i},decode:function(r,n){var i,o=t,s=n,a=0;-1===o&&(o=(i=d.decode(r,s)).value.toNumber(),a+=i.consumed,s+=i.consumed);for(var c=[],u=0;u<o;u++){var l=e.decode(r,s);a+=l.consumed,s+=l.consumed,c.push(l.value)}return{consumed:a,value:c}},dynamic:-1===t}}var w=new RegExp(/^((u?int|bytes)([0-9]*)|(address|bool|string)|(\[([0-9]*)\]))/);t.exports={BN:n,bnToBuffer:a,isHexString:c,hexOrBuffer:u,hexlify:function(e){return"number"==typeof e?"0x"+a(new n(e)).toString("hex"):e.mod||e.modulo?"0x"+a(e).toString("hex"):"0x"+u(e).toString("hex")},stripZeros:s,keccak256:o,getKeys:function(e,t,r){var n=[];if(!Array.isArray(e))throw new Error("[ethjs-abi] while getting keys, invalid params value "+JSON.stringify(e));for(var i=0;i<e.length;i++){var o=e[i][t];if(r&&!o)o="";else if("string"!=typeof o)throw new Error("[ethjs-abi] while getKeys found invalid ABI data structure, type value not string");n.push(o)}return n},numberToBN:i,coderNumber:l,uint256Coder:d,coderBoolean:f,coderFixedBytes:h,coderAddress:p,coderDynamicBytes:b,coderString:g,coderArray:y,paramTypePart:w,getParamCoder:function(e){for(var t=e,r=null,n="[ethjs-abi] while getting param coder (getParamCoder) type value "+JSON.stringify(t)+" is either invalid or unsupported by ethjs-abi.";t;){var i=t.match(w);if(!i)throw new Error(n);t=t.substring(i[0].length);var o=i[2]||i[4]||i[5];switch(o){case"int":case"uint":if(r)throw new Error(n);var s=parseInt(i[3]||256);if(0===s||s>256||s%8!=0)throw new Error("[ethjs-abi] while getting param coder for type "+t+", invalid "+o+"<N> width: "+t);r=l(s/8,"int"===o);break;case"bool":if(r)throw new Error(n);r=f;break;case"string":if(r)throw new Error(n);r=g;break;case"bytes":if(r)throw new Error(n);if(i[3]){var a=parseInt(i[3]);if(0===a||a>32)throw new Error("[ethjs-abi] while getting param coder for prefix bytes, invalid type "+t+", size "+a+" should be 0 or greater than 32");r=h(a)}else r=b;break;case"address":if(r)throw new Error(n);r=p;break;case"[]":if(!r||r.dynamic)throw new Error(n);r=y(r,-1);break;default:if(!r||r.dynamic)throw new Error(n);r=y(r,parseInt(i[6]))}}if(!r)throw new Error(n);return r}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"ethjs-abi",file:"/home/circleci/project/node_modules/@metamask/smart-transactions-controller/node_modules/ethjs-contract/node_modules/ethjs-abi/lib/utils/index.js"}],[2346,{prr:5432},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("prr");function i(e,t,r){t&&"string"!=typeof t&&(t=t.message||t.name),n(this,{type:e,name:e,cause:"string"!=typeof t?t:r,message:t},"ewr")}function o(e,t){Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),i.call(this,"CustomError",e,t)}o.prototype=new Error,t.exports=function(e){var t=function(t,r){return function(e,t,r){var n=function(r,o){i.call(this,t,r,o),"FilesystemError"==t&&(this.code=this.cause.code,this.path=this.cause.path,this.errno=this.cause.errno,this.message=(e.errno[this.cause.errno]?e.errno[this.cause.errno].description:this.cause.message)+(this.cause.path?" ["+this.cause.path+"]":"")),Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,n)};return n.prototype=r?new r:new o,n}(e,t,r)};return{CustomError:o,FilesystemError:t("FilesystemError"),createError:t}}}}},{package:"errno",file:"/home/circleci/project/node_modules/errno/custom.js"}],[4787,{"../../../errors":4778},function(){with(this)return function(){"use strict";return function(e,t,r){var n=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var s=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||l()},u=t._writableState&&t._writableState.finished,l=function(){a=!1,u=!0,s||o.call(t)},d=t._readableState&&t._readableState.endEmitted,f=function(){s=!1,d=!0,a||o.call(t)},h=function(e){o.call(t,e)},p=function(){var e;return s&&!d?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):a&&!u?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},m=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",c),t.on("close",c)):(t.on("complete",l),t.on("abort",p),t.req?m():t.on("request",m)),t.on("end",f),t.on("finish",l),!1!==r.error&&t.on("error",h),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",m),t.req&&t.req.removeListener("finish",l),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("end",f),t.removeListener("error",h),t.removeListener("close",p)}}}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/level-iterator-stream/node_modules/readable-stream/lib/internal/streams/end-of-stream.js"}],[4789,{"../../../errors":4778,"./end-of-stream":4787},function(){with(this)return function(){"use strict";return function(e,t,r){var n;var i=e("../../../errors").codes,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(t,r,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;t.on("close",(function(){a=!0})),n===undefined&&(n=e("./end-of-stream")),n(t,{readable:r,writable:i},(function(e){if(e)return o(e);a=!0,o()}));var c=!1;return function(e){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void o(e||new s("pipe"))}}function u(e){e()}function l(e,t){return e.pipe(t)}function d(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}t.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=d(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var s=t.map((function(e,r){var o=r<t.length-1;return c(e,o,r>0,(function(e){n||(n=e),e&&s.forEach(u),o||(s.forEach(u),i(n))}))}));return t.reduce(l)}}}},{package:"readable-stream",file:"/home/circleci/project/node_modules/level-iterator-stream/node_modules/readable-stream/lib/internal/streams/pipeline.js"}]],[],{});